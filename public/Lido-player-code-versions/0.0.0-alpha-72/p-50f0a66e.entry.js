import{r as t,a as i,h as e,H as n,c as r,d as o}from"./p-Dr6Jw5p1.js";import{R as s,s as a,i as h,c as l,p as c,e as u,a as d,b as f,d as p,N as g,h as m,f as v,T as b,g as w,j as y,k as x,l as k,m as A,n as $,o as j,A as M,q as C,r as O,t as _,u as S,v as I,w as E,x as P,P as T,L as W,y as D,z as L,S as z,B as F,C as R,D as N,E as B,F as H,G as V,H as U,I as X,J as Y,K as q,M as K,O as G,Q as J}from"./p-EHbChDiY.js";var Z,Q,tt={exports:{}},it=Z?tt.exports:(Z=1,Q=()=>(()=>{var t=[,(t,i,e)=>{e.r(i),e.d(i,{default:()=>o});var n,r=(n="undefined"!=typeof document?document.currentScript?.src:void 0,function(t={}){var i,e,r=t,o=new Promise(((t,n)=>{i=t,e=n})),s="object"==typeof window,a="function"==typeof importScripts;function h(){function t(t){const o=n;e=i=0,n=new Map,o.forEach((i=>{try{i(t)}catch(t){console.error(t)}})),this.ob(),r&&r.Qb()}let i=0,e=0,n=new Map,r=null,o=null;this.requestAnimationFrame=function(r){i||=requestAnimationFrame(t.bind(this));const o=++e;return n.set(o,r),o},this.cancelAnimationFrame=function(t){n.delete(t),i&&0==n.size&&(cancelAnimationFrame(i),i=0)},this.Ob=function(t){o&&(document.body.remove(o),o=null),t||(o=document.createElement("div"),o.style.backgroundColor="black",o.style.position="fixed",o.style.right=0,o.style.top=0,o.style.color="white",o.style.padding="4px",o.innerHTML="RIVE FPS",t=function(t){o.innerHTML="RIVE FPS "+t.toFixed(1)},document.body.appendChild(o)),r=new function(){let i=0,e=0;this.Qb=function(){var n=performance.now();e?(++i,1e3<(n-=e)&&(t(1e3*i/n),i=e=0)):(e=n,i=0)}}},this.Lb=function(){o&&(document.body.remove(o),o=null),r=null},this.ob=function(){}}function l(t){console.assert(!0);const i=new Map;let e=-1/0;this.push=function(n){return i.has(n=n+((1<<t)-1)>>t)&&clearTimeout(i.get(n)),i.set(n,setTimeout((function(){i.delete(n),0==i.length?e=-1/0:n==e&&(e=Math.max(...i.keys()),console.assert(e<n))}),1e3)),e=Math.max(n,e),e<<t}}const c=r.onRuntimeInitialized;r.onRuntimeInitialized=function(){c&&c();let t=r.decodeAudio;r.decodeAudio=function(i,e){e(i=t(i))};let i=r.decodeFont;r.decodeFont=function(t,e){e(t=i(t))};const e=r.FileAssetLoader;r.ptrToAsset=t=>{let i=r.ptrToFileAsset(t);return i.isImage?r.ptrToImageAsset(t):i.isFont?r.ptrToFontAsset(t):i.isAudio?r.ptrToAudioAsset(t):i},r.CustomFileAssetLoader=e.extend("CustomFileAssetLoader",{__construct:function({loadContents:t}){this.__parent.__construct.call(this),this.Eb=t},loadContents:function(t,i){return t=r.ptrToAsset(t),this.Eb(t,i)}}),r.CDNFileAssetLoader=e.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(t){let i=r.ptrToAsset(t);return""!==(t=i.cdnUuid)&&(e=i.cdnBaseUrl+"/"+t,(n=new XMLHttpRequest).responseType="arraybuffer",n.onreadystatechange=function(){4==n.readyState&&200==n.status&&(t=>{i.decode(new Uint8Array(t.response))})(n)},n.open("GET",e,!0),n.send(null),!0);var e,n}}),r.FallbackFileAssetLoader=e.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.kb=[]},addLoader:function(t){this.kb.push(t)},loadContents:function(t,i){for(let e of this.kb)if(e.loadContents(t,i))return!0;return!1}});let n=r.computeAlignment;r.computeAlignment=function(t,i,e,r,o=1){return n.call(this,t,i,e,r,o)}};const u="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),d=new function(){function t(){if(!i){var t=document.createElement("canvas"),s={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let a;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(a=t.getContext("webgl",s),e=1,!a)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(a=t.getContext("webgl2",s))e=2;else{if(!(a=t.getContext("webgl",s)))return console.log("No WebGL support. Image mesh will not be drawn."),!1;e=1}function l(t,i,e){if(i=a.createShader(i),a.shaderSource(i,e),a.compileShader(i),0<((e=a.getShaderInfoLog(i))||"").length)throw e;a.attachShader(t,i)}if(a=new Proxy(a,{get:(t,i)=>t.isContextLost()?(h||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",i),h=!0),"function"==typeof t[i]?function(){}:void 0):"function"==typeof t[i]?function(...e){return t[i].apply(t,e)}:t[i],set(t,i,e){if(!t.isContextLost())return t[i]=e,!0;h||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+i),h=!0)}}),n=Math.min(a.getParameter(a.MAX_RENDERBUFFER_SIZE),a.getParameter(a.MAX_TEXTURE_SIZE)),l(t=a.createProgram(),a.VERTEX_SHADER,"attribute vec2 vertex;\n                attribute vec2 uv;\n                uniform vec4 mat;\n                uniform vec2 translate;\n                varying vec2 st;\n                void main() {\n                    st = uv;\n                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);\n                }"),l(t,a.FRAGMENT_SHADER,"precision highp float;\n                uniform sampler2D image;\n                varying vec2 st;\n                void main() {\n                    gl_FragColor = texture2D(image, st);\n                }"),a.bindAttribLocation(t,0,"vertex"),a.bindAttribLocation(t,1,"uv"),a.linkProgram(t),0<((s=a.getProgramInfoLog(t))||"").trim().length)throw s;r=a.getUniformLocation(t,"mat"),o=a.getUniformLocation(t,"translate"),a.useProgram(t),a.bindBuffer(a.ARRAY_BUFFER,a.createBuffer()),a.enableVertexAttribArray(0),a.enableVertexAttribArray(1),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,a.createBuffer()),a.uniform1i(a.getUniformLocation(t,"image"),0),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i=a}return!0}let i=null,e=0,n=0,r=null,o=null,s=0,a=0,h=!1;t(),this.bc=function(){return t(),n},this.Kb=function(t){i.deleteTexture&&i.deleteTexture(t)},this.Jb=function(n){if(!t())return null;const r=i.createTexture();return r?(i.bindTexture(i.TEXTURE_2D,r),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),2==e?(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_LINEAR),i.generateMipmap(i.TEXTURE_2D)):i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),r):null};const c=new l(8),u=new l(8),d=new l(10),f=new l(10);this.Nb=function(e,n,h,l,p){if(t()){var g=c.push(e),m=u.push(n);if(i.canvas){for(var v of(i.canvas.width==g&&i.canvas.height==m||(i.canvas.width=g,i.canvas.height=m),i.viewport(0,m-n,e,n),i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.enable(i.SCISSOR_TEST),h.sort(((t,i)=>i.vb-t.vb)),g=d.push(l),s!=g&&(i.bufferData(i.ARRAY_BUFFER,8*g,i.DYNAMIC_DRAW),s=g),g=0,h))i.bufferSubData(i.ARRAY_BUFFER,g,v.Ta),g+=4*v.Ta.length;for(var b of(console.assert(g==4*l),h))i.bufferSubData(i.ARRAY_BUFFER,g,b.Bb),g+=4*b.Bb.length;for(var w of(console.assert(g==8*l),g=f.push(p),a!=g&&(i.bufferData(i.ELEMENT_ARRAY_BUFFER,2*g,i.DYNAMIC_DRAW),a=g),v=0,h))i.bufferSubData(i.ELEMENT_ARRAY_BUFFER,v,w.indices),v+=2*w.indices.length;console.assert(v==2*p),w=0,b=!0,g=v=0;for(const t of h){t.image.Ja!=w&&(i.bindTexture(i.TEXTURE_2D,t.image.Ia||null),w=t.image.Ja),t.hc?(i.scissor(t.Za,m-t.$a-t.jb,t.uc,t.jb),b=!0):b&&(i.scissor(0,m-n,e,n),b=!1);const s=-2/n;i.uniform4f(r,t.ha[0]*(h=2/e)*t.Aa,t.ha[1]*s*t.Ba,t.ha[2]*h*t.Aa,t.ha[3]*s*t.Ba),i.uniform2f(o,t.ha[4]*h*t.Aa+h*(t.Za-t.cc*t.Aa)-1,t.ha[5]*s*t.Ba+s*(t.$a-t.dc*t.Ba)+1),i.vertexAttribPointer(0,2,i.FLOAT,!1,0,g),i.vertexAttribPointer(1,2,i.FLOAT,!1,0,g+4*l),i.drawElements(i.TRIANGLES,t.indices.length,i.UNSIGNED_SHORT,v),g+=4*t.Ta.length,v+=2*t.indices.length}console.assert(g==4*l),console.assert(v==2*p)}}},this.canvas=function(){return t()&&i.canvas}},f=r.onRuntimeInitialized;r.onRuntimeInitialized=function(){function t(t){switch(t){case p.srcOver:return"source-over";case p.screen:return"screen";case p.overlay:return"overlay";case p.darken:return"darken";case p.lighten:return"lighten";case p.colorDodge:return"color-dodge";case p.colorBurn:return"color-burn";case p.hardLight:return"hard-light";case p.softLight:return"soft-light";case p.difference:return"difference";case p.exclusion:return"exclusion";case p.multiply:return"multiply";case p.hue:return"hue";case p.saturation:return"saturation";case p.color:return"color";case p.luminosity:return"luminosity"}}function i(t){return"rgba("+((16711680&t)>>>16)+","+((65280&t)>>>8)+","+((255&t)>>>0)+","+((4278190080&t)>>>24)/255+")"}function e(){0<$.length&&(d.Nb(A.drawWidth(),A.drawHeight(),$,j,M),$=[],M=j=0,A.reset(512,512));for(const t of k){for(const i of t.I)i();t.I=[]}k.clear()}f&&f();var n=r.RenderPaintStyle;const o=r.RenderPath,s=r.RenderPaint,a=r.Renderer,l=r.StrokeCap,c=r.StrokeJoin,p=r.BlendMode,g=n.fill,m=n.stroke,v=r.FillRule.evenOdd;let b=1;var w=r.RenderImage.extend("CanvasRenderImage",{__construct:function({la:t,wa:i}={}){this.__parent.__construct.call(this),this.Ja=b,b=b+1&2147483647||1,this.la=t,this.wa=i},__destruct:function(){this.Ia&&(d.Kb(this.Ia),URL.revokeObjectURL(this.Wa)),this.__parent.__destruct.call(this)},decode:function(t){var i=this;i.wa&&i.wa(i);var e=new Image;i.Wa=URL.createObjectURL(new Blob([t],{type:"image/png"})),e.onload=function(){i.Db=e,i.Ia=d.Jb(e),i.size(e.width,e.height),i.la&&i.la(i)},e.src=i.Wa}}),y=o.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.U=new Path2D},rewind:function(){this.U=new Path2D},addPath:function(t,i,e,n,r,o,s){var a=this.U,h=a.addPath;t=t.U;const l=new DOMMatrix;l.a=i,l.b=e,l.c=n,l.d=r,l.e=o,l.f=s,h.call(a,t,l)},fillRule:function(t){this.Va=t},moveTo:function(t,i){this.U.moveTo(t,i)},lineTo:function(t,i){this.U.lineTo(t,i)},cubicTo:function(t,i,e,n,r,o){this.U.bezierCurveTo(t,i,e,n,r,o)},close:function(){this.U.closePath()}}),x=s.extend("CanvasRenderPaint",{color:function(t){this.Xa=i(t)},thickness:function(t){this.Gb=t},join:function(t){switch(t){case c.miter:this.Ha="miter";break;case c.round:this.Ha="round";break;case c.bevel:this.Ha="bevel"}},cap:function(t){switch(t){case l.butt:this.Ga="butt";break;case l.round:this.Ga="round";break;case l.square:this.Ga="square"}},style:function(t){this.Fb=t},blendMode:function(i){this.Cb=t(i)},clearGradient:function(){this.ja=null},linearGradient:function(t,i,e,n){this.ja={xb:t,yb:i,cb:e,eb:n,Qa:[]}},radialGradient:function(t,i,e,n){this.ja={xb:t,yb:i,cb:e,eb:n,Qa:[],ac:!0}},addStop:function(t,i){this.ja.Qa.push({color:t,stop:i})},completeGradient:function(){},draw:function(t,e,n,r){let o=this.Fb;var s=this.Xa,a=this.ja;const h=t.globalCompositeOperation,l=t.globalAlpha;if(t.globalCompositeOperation=this.Cb,t.globalAlpha=r,null!=a){s=a.xb;const e=a.yb,n=a.cb;var c=a.eb;r=a.Qa,a.ac?(a=n-s,c-=e,s=t.createRadialGradient(s,e,0,s,e,Math.sqrt(a*a+c*c))):s=t.createLinearGradient(s,e,n,c);for(let t=0,e=r.length;t<e;t++)s.addColorStop((a=r[t]).stop,i(a.color));this.Xa=s,this.ja=null}switch(o){case m:t.strokeStyle=s,t.lineWidth=this.Gb,t.lineCap=this.Ga,t.lineJoin=this.Ha,t.stroke(e);break;case g:t.fillStyle=s,t.fill(e,n)}t.globalCompositeOperation=h,t.globalAlpha=l}});const k=new Set;let A=null,$=[],j=0,M=0;var C=r.CanvasRenderer=a.extend("Renderer",{__construct:function(t){this.__parent.__construct.call(this),this.T=[1,0,0,1,0,0],this.G=[1],this.B=t.getContext("2d"),this.Ua=t,this.I=[]},save:function(){this.T.push(...this.T.slice(this.T.length-6)),this.G.push(this.G[this.G.length-1]),this.I.push(this.B.save.bind(this.B))},restore:function(){const t=this.T.length-6;if(6>t)throw"restore() called without matching save().";this.T.splice(t),this.G.pop(),this.I.push(this.B.restore.bind(this.B))},transform:function(t,i,e,n,r,o){const s=this.T,a=s.length-6;s.splice(a,6,s[a]*t+s[a+2]*i,s[a+1]*t+s[a+3]*i,s[a]*e+s[a+2]*n,s[a+1]*e+s[a+3]*n,s[a]*r+s[a+2]*o+s[a+4],s[a+1]*r+s[a+3]*o+s[a+5]),this.I.push(this.B.transform.bind(this.B,t,i,e,n,r,o))},rotate:function(t){const i=Math.sin(t);t=Math.cos(t),this.transform(t,i,-i,t,0,0)},modulateOpacity:function(t){this.G[this.G.length-1]*=t},_drawPath:function(t,i){this.I.push(i.draw.bind(i,this.B,t.U,t.Va===v?"evenodd":"nonzero",Math.max(0,this.G[this.G.length-1])))},_drawRiveImage:function(i,e,n,r){var o=i.Db;if(o){var s=this.B,a=t(n),h=Math.max(0,r*this.G[this.G.length-1]);this.I.push((function(){s.globalCompositeOperation=a,s.globalAlpha=h,s.drawImage(o,0,0),s.globalAlpha=1}))}},_getMatrix:function(t){const i=this.T,e=i.length-6;for(let n=0;6>n;++n)t[n]=i[e+n]},_drawImageMesh:function(i,n,o,s,a,h,l,c,u,f,p){n=this.B.canvas.width;var g=this.B.canvas.height;const m=f-c,v=p-u;c=Math.max(c,0),u=Math.max(u,0),f=Math.min(f,n),p=Math.min(p,g);const b=f-c,w=p-u;if(console.assert(b<=Math.min(m,n)),console.assert(w<=Math.min(v,g)),!(0>=b||0>=w)){f=b<m||w<v,n=p=1;var y=Math.ceil(b*p),x=Math.ceil(w*n);g=d.bc(),y>g&&(p*=g/y,y=g),x>g&&(n*=g/x,x=g),A||(A=new r.DynamicRectanizer(g),A.reset(512,512)),0>(g=A.addRect(y,x))&&(e(),k.add(this),g=A.addRect(y,x),console.assert(0<=g));var C=65535&g,O=g>>16;$.push({ha:this.T.slice(this.T.length-6),image:i,Za:C,$a:O,cc:c,dc:u,uc:y,jb:x,Aa:p,Ba:n,Ta:new Float32Array(a),Bb:new Float32Array(h),indices:new Uint16Array(l),hc:f,vb:i.Ja<<1|(f?1:0)}),j+=a.length,M+=l.length;var _=this.B,S=t(o),I=Math.max(0,s*this.G[this.G.length-1]);this.I.push((function(){_.save(),_.resetTransform(),_.globalCompositeOperation=S,_.globalAlpha=I;const t=d.canvas();t&&_.drawImage(t,C,O,y,x,c,u,b,w),_.restore()}))}},_clipPath:function(t){this.I.push(this.B.clip.bind(this.B,t.U,t.Va===v?"evenodd":"nonzero"))},clear:function(){k.add(this),this.I.push(this.B.clearRect.bind(this.B,0,0,this.Ua.width,this.Ua.height))},flush:function(){},translate:function(t,i){this.transform(1,0,0,1,t,i)}});r.makeRenderer=function(t){const i=new C(t),e=i.B;return new Proxy(i,{get(t,n){if("function"==typeof t[n])return function(...i){return t[n].apply(t,i)};if("function"==typeof e[n]){if(-1<u.indexOf(n))throw Error("RiveException: Method call to '"+n+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...t){i.I.push(e[n].bind(e,...t))}}return t[n]},set(t,n,r){if(n in e)return i.I.push((()=>{e[n]=r})),!0}})},r.decodeImage=function(t,i){new w({la:i}).decode(t)},r.renderFactory={makeRenderPaint:function(){return new x},makeRenderPath:function(){return new y},makeRenderImage:function(){let t=_;return new w({wa:()=>{t.total++},la:()=>{if(t.loaded++,t.loaded===t.total){const i=t.ready;i&&(i(),t.ready=null)}}})}};let O=r.load,_=null;r.load=function(t,i,e=!0){const n=new r.FallbackFileAssetLoader;return void 0!==i&&n.addLoader(i),e&&(i=new r.CDNFileAssetLoader,n.addLoader(i)),new Promise((function(i){let e=null;_={total:0,loaded:0,ready:function(){i(e)}},e=O(t,n),0==_.total&&i(e)}))};let S=r.RendererWrapper.prototype.align;r.RendererWrapper.prototype.align=function(t,i,e,n,r=1){S.call(this,t,i,e,n,r)},n=new h,r.requestAnimationFrame=n.requestAnimationFrame.bind(n),r.cancelAnimationFrame=n.cancelAnimationFrame.bind(n),r.enableFPSCounter=n.Ob.bind(n),r.disableFPSCounter=n.Lb,n.ob=e,r.resolveAnimationFrame=e,r.cleanup=function(){A&&A.delete()}};var p,g,m=Object.assign({},r),v="./this.program",b="";(s||a)&&(a?b=self.location.href:"undefined"!=typeof document&&document.currentScript&&(b=document.currentScript.src),n&&(b=n),b=b.startsWith("blob:")?"":b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1),a&&(g=t=>{var i=new XMLHttpRequest;return i.open("GET",t,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),p=(t,i,e)=>{if(B(t)){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?i(n.response):e()},n.onerror=e,n.send(null)}else fetch(t,{credentials:"same-origin"}).then((t=>t.ok?t.arrayBuffer():Promise.reject(Error(t.status+" : "+t.url)))).then(i,e)});var w,y=r.print||console.log.bind(console),x=r.printErr||console.error.bind(console);Object.assign(r,m),m=null,r.thisProgram&&(v=r.thisProgram),r.wasmBinary&&(w=r.wasmBinary);var k,A,$,j,M,C,O,_,S,I=!1;function E(){var t=k.buffer;r.HEAP8=A=new Int8Array(t),r.HEAP16=j=new Int16Array(t),r.HEAPU8=$=new Uint8Array(t),r.HEAPU16=M=new Uint16Array(t),r.HEAP32=C=new Int32Array(t),r.HEAPU32=O=new Uint32Array(t),r.HEAPF32=_=new Float32Array(t),r.HEAPF64=S=new Float64Array(t)}var P=[],T=[],W=[];function D(){var t=r.preRun.shift();P.unshift(t)}var L=0,z=null;function F(t){throw r.onAbort?.(t),x(t="Aborted("+t+")"),I=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),e(t),t}var R,N=t=>t.startsWith("data:application/octet-stream;base64,"),B=t=>t.startsWith("file://");function H(t){if(t==R&&w)return new Uint8Array(w);if(g)return g(t);throw"both async and sync fetching of the wasm failed"}function V(t,i,e){return function(t){return w?Promise.resolve().then((()=>H(t))):new Promise(((i,e)=>{p(t,(t=>i(new Uint8Array(t))),(()=>{try{i(H(t))}catch(t){e(t)}}))}))}(t).then((t=>WebAssembly.instantiate(t,i))).then(e,(t=>{x(`failed to asynchronously prepare wasm: ${t}`),F(t)}))}var U,X,Y={490930:(t,i,e,n,r)=>{if("undefined"==typeof window||void 0===(window.AudioContext||window.webkitAudioContext))return 0;if(void 0===window.h){window.h={za:0},window.h.J={},window.h.J.xa=t,window.h.J.capture=i,window.h.J.Ka=e,window.h.ga={},window.h.ga.stopped=n,window.h.ga.wb=r;let o=window.h;o.D=[],o.sc=function(t){for(var i=0;i<o.D.length;++i)if(null==o.D[i])return o.D[i]=t,i;return o.D.push(t),o.D.length-1},o.Ab=function(t){for(o.D[t]=null;0<o.D.length&&null==o.D[o.D.length-1];)o.D.pop()},o.Pc=function(t){for(var i=0;i<o.D.length;++i)if(o.D[i]==t)return o.Ab(i)},o.qa=function(t){return o.D[t]},o.Sa=["touchend","click"],o.unlock=function(){for(var t=0;t<o.D.length;++t){var i=o.D[t];null!=i&&null!=i.L&&i.state===o.ga.wb&&i.L.resume().then((()=>{Se(i.pb)}),(t=>{console.error("Failed to resume audiocontext",t)}))}o.Sa.map((function(t){document.removeEventListener(t,o.unlock,!0)}))},o.Sa.map((function(t){document.addEventListener(t,o.unlock,!0)}))}return window.h.za+=1,1},493108:()=>{void 0!==window.h&&(window.h.Sa.map((function(t){document.removeEventListener(t,window.h.unlock,!0)})),--window.h.za,0===window.h.za&&delete window.h)},493412:()=>void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia,493516:()=>{try{var t=new(window.AudioContext||window.webkitAudioContext),i=t.sampleRate;return t.close(),i}catch(t){return 0}},493687:(t,i,e,n,r,o)=>{if(void 0===window.h)return-1;var s={},a={};return t==window.h.J.xa&&0!=e&&(a.sampleRate=e),s.L=new(window.AudioContext||window.webkitAudioContext)(a),s.L.suspend(),s.state=window.h.ga.stopped,e=0,t!=window.h.J.xa&&(e=i),s.Z=s.L.createScriptProcessor(n,e,i),s.Z.onaudioprocess=function(e){if(null!=s.ra&&0!=s.ra.length||(s.ra=new Float32Array(_.buffer,r,n*i)),t==window.h.J.capture||t==window.h.J.Ka){for(var a=0;a<i;a+=1)for(var h=e.inputBuffer.getChannelData(a),l=s.ra,c=0;c<n;c+=1)l[c*i+a]=h[c];Ee(o,n,r)}if(t==window.h.J.xa||t==window.h.J.Ka)for(Pe(o,n,r),a=0;a<e.outputBuffer.numberOfChannels;++a)for(h=e.outputBuffer.getChannelData(a),l=s.ra,c=0;c<n;c+=1)h[c]=l[c*i+a];else for(a=0;a<e.outputBuffer.numberOfChannels;++a)e.outputBuffer.getChannelData(a).fill(0)},t!=window.h.J.capture&&t!=window.h.J.Ka||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(t){s.Ca=s.L.createMediaStreamSource(t),s.Ca.connect(s.Z),s.Z.connect(s.L.destination)})).catch((function(t){console.log("Failed to get user media: "+t)})),t==window.h.J.xa&&s.Z.connect(s.L.destination),s.pb=o,window.h.sc(s)},496564:t=>window.h.qa(t).L.sampleRate,496637:t=>{void 0!==(t=window.h.qa(t)).Z&&(t.Z.onaudioprocess=function(){},t.Z.disconnect(),t.Z=void 0),void 0!==t.Ca&&(t.Ca.disconnect(),t.Ca=void 0),t.L.close(),t.L=void 0,t.pb=void 0},497037:t=>{window.h.Ab(t)},497087:t=>{(t=window.h.qa(t)).L.resume(),t.state=window.h.ga.wb},497226:t=>{(t=window.h.qa(t)).L.suspend(),t.state=window.h.ga.stopped}},q=t=>{for(;0<t.length;)t.shift()(r)};function K(){var t=C[+ti>>2];return ti+=4,t}var G=(t,i)=>{for(var e=0,n=t.length-1;0<=n;n--){var r=t[n];"."===r?t.splice(n,1):".."===r?(t.splice(n,1),e++):e&&(t.splice(n,1),e--)}if(i)for(;e;e--)t.unshift("..");return t},J=t=>{var i="/"===t.charAt(0),e="/"===t.substr(-1);return(t=G(t.split("/").filter((t=>!!t)),!i).join("/"))||i||(t="."),t&&e&&(t+="/"),(i?"/":"")+t},Z=t=>{var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=i[0],i=i[1],t||i?(i&&=i.substr(0,i.length-1),t+i):"."},Q=t=>{if("/"===t)return"/";var i=(t=(t=J(t)).replace(/\/$/,"")).lastIndexOf("/");return-1===i?t:t.substr(i+1)},tt=t=>(tt=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return t=>crypto.getRandomValues(t);F("initRandomDevice")})())(t),it=(...t)=>{for(var i="",e=!1,n=t.length-1;-1<=n&&!e;n--){if("string"!=typeof(e=0<=n?t[n]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!e)return"";i=e+"/"+i,e="/"===e.charAt(0)}return(e?"/":"")+(i=G(i.split("/").filter((t=>!!t)),!e).join("/"))||"."},et="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,nt=(t,i,e)=>{var n=i+e;for(e=i;t[e]&&!(e>=n);)++e;if(16<e-i&&t.buffer&&et)return et.decode(t.subarray(i,e));for(n="";i<e;){var r=t[i++];if(128&r){var o=63&t[i++];if(192==(224&r))n+=String.fromCharCode((31&r)<<6|o);else{var s=63&t[i++];65536>(r=224==(240&r)?(15&r)<<12|o<<6|s:(7&r)<<18|o<<12|s<<6|63&t[i++])?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else n+=String.fromCharCode(r)}return n},rt=[],ot=t=>{for(var i=0,e=0;e<t.length;++e){var n=t.charCodeAt(e);127>=n?i++:2047>=n?i+=2:55296<=n&&57343>=n?(i+=4,++e):i+=3}return i},st=(t,i,e,n)=>{if(!(0<n))return 0;var r=e;n=e+n-1;for(var o=0;o<t.length;++o){var s=t.charCodeAt(o);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++o)),127>=s){if(e>=n)break;i[e++]=s}else{if(2047>=s){if(e+1>=n)break;i[e++]=192|s>>6}else{if(65535>=s){if(e+2>=n)break;i[e++]=224|s>>12}else{if(e+3>=n)break;i[e++]=240|s>>18,i[e++]=128|s>>12&63}i[e++]=128|s>>6&63}i[e++]=128|63&s}}return i[e]=0,e-r};function at(t,i){var e=Array(ot(t)+1);return t=st(t,e,0,e.length),i&&(e.length=t),e}var ht=[];function lt(t,i){ht[t]={input:[],H:[],W:i},Lt(t,ct)}var ct={open(t){var i=ht[t.node.ya];if(!i)throw new xt(43);t.s=i,t.seekable=!1},close(t){t.s.W.pa(t.s)},pa(t){t.s.W.pa(t.s)},read(t,i,e,n){if(!t.s||!t.s.W.ib)throw new xt(60);for(var r=0,o=0;o<n;o++){try{var s=t.s.W.ib(t.s)}catch(t){throw new xt(29)}if(void 0===s&&0===r)throw new xt(6);if(null==s)break;r++,i[e+o]=s}return r&&(t.node.timestamp=Date.now()),r},write(t,i,e,n){if(!t.s||!t.s.W.Na)throw new xt(60);try{for(var r=0;r<n;r++)t.s.W.Na(t.s,i[e+r])}catch(t){throw new xt(29)}return n&&(t.node.timestamp=Date.now()),r}},ut={ib(){t:{if(!rt.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt&&null!==(t=window.prompt("Input: "))&&(t+="\n"),!t){t=null;break t}rt=at(t,!0)}t=rt.shift()}return t},Na(t,i){null===i||10===i?(y(nt(t.H,0)),t.H=[]):0!=i&&t.H.push(i)},pa(t){t.H&&0<t.H.length&&(y(nt(t.H,0)),t.H=[])},Yb:()=>({Ac:25856,Cc:5,zc:191,Bc:35387,yc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),Zb:()=>0,$b:()=>[24,80]},dt={Na(t,i){null===i||10===i?(x(nt(t.H,0)),t.H=[]):0!=i&&t.H.push(i)},pa(t){t.H&&0<t.H.length&&(x(nt(t.H,0)),t.H=[])}};function ft(t,i){var e=t.l?t.l.length:0;e>=i||(i=Math.max(i,e*(1048576>e?2:1.125)>>>0),0!=e&&(i=Math.max(i,256)),e=t.l,t.l=new Uint8Array(i),0<t.v&&t.l.set(e.subarray(0,t.v),0))}var pt={O:null,V:()=>pt.createNode(null,"/",16895,0),createNode(t,i,e,n){if(24576==(61440&e)||4096==(61440&e))throw new xt(63);return pt.O||(pt.O={dir:{node:{Y:pt.j.Y,R:pt.j.R,ka:pt.j.ka,ua:pt.j.ua,tb:pt.j.tb,zb:pt.j.zb,ub:pt.j.ub,sb:pt.j.sb,Da:pt.j.Da},stream:{ba:pt.m.ba}},file:{node:{Y:pt.j.Y,R:pt.j.R},stream:{ba:pt.m.ba,read:pt.m.read,write:pt.m.write,Ya:pt.m.Ya,lb:pt.m.lb,nb:pt.m.nb}},link:{node:{Y:pt.j.Y,R:pt.j.R,ma:pt.j.ma},stream:{}},ab:{node:{Y:pt.j.Y,R:pt.j.R},stream:Dt}}),16384==(61440&(e=_t(t,i,e,n)).mode)?(e.j=pt.O.dir.node,e.m=pt.O.dir.stream,e.l={}):32768==(61440&e.mode)?(e.j=pt.O.file.node,e.m=pt.O.file.stream,e.v=0,e.l=null):40960==(61440&e.mode)?(e.j=pt.O.link.node,e.m=pt.O.link.stream):8192==(61440&e.mode)&&(e.j=pt.O.ab.node,e.m=pt.O.ab.stream),e.timestamp=Date.now(),t&&(t.l[i]=e,t.timestamp=e.timestamp),e},Gc:t=>t.l?t.l.subarray?t.l.subarray(0,t.v):new Uint8Array(t.l):new Uint8Array(0),j:{Y(t){var i={};return i.Ec=8192==(61440&t.mode)?t.id:1,i.Ic=t.id,i.mode=t.mode,i.Lc=1,i.uid=0,i.Hc=0,i.ya=t.ya,i.size=16384==(61440&t.mode)?4096:32768==(61440&t.mode)?t.v:40960==(61440&t.mode)?t.link.length:0,i.wc=new Date(t.timestamp),i.Kc=new Date(t.timestamp),i.Dc=new Date(t.timestamp),i.Hb=4096,i.xc=Math.ceil(i.size/i.Hb),i},R(t,i){if(void 0!==i.mode&&(t.mode=i.mode),void 0!==i.timestamp&&(t.timestamp=i.timestamp),void 0!==i.size&&t.v!=(i=i.size))if(0==i)t.l=null,t.v=0;else{var e=t.l;t.l=new Uint8Array(i),e&&t.l.set(e.subarray(0,Math.min(i,t.v))),t.v=i}},ka(){throw kt[44]},ua:(t,i,e,n)=>pt.createNode(t,i,e,n),tb(t,i,e){if(16384==(61440&t.mode)){try{var n=Ot(i,e)}catch(t){}if(n)for(var r in n.l)throw new xt(55)}delete t.parent.l[t.name],t.parent.timestamp=Date.now(),t.name=e,i.l[e]=t,i.timestamp=t.parent.timestamp},zb(t,i){delete t.l[i],t.timestamp=Date.now()},ub(t,i){var e,n=Ot(t,i);for(e in n.l)throw new xt(55);delete t.l[i],t.timestamp=Date.now()},sb(t){var i,e=[".",".."];for(i of Object.keys(t.l))e.push(i);return e},Da:(t,i,e)=>((t=pt.createNode(t,i,41471,0)).link=e,t),ma(t){if(40960!=(61440&t.mode))throw new xt(28);return t.link}},m:{read(t,i,e,n,r){var o=t.node.l;if(r>=t.node.v)return 0;if(8<(t=Math.min(t.node.v-r,n))&&o.subarray)i.set(o.subarray(r,r+t),e);else for(n=0;n<t;n++)i[e+n]=o[r+n];return t},write(t,i,e,n,r,o){if(i.buffer===A.buffer&&(o=!1),!n)return 0;if((t=t.node).timestamp=Date.now(),i.subarray&&(!t.l||t.l.subarray)){if(o)return t.l=i.subarray(e,e+n),t.v=n;if(0===t.v&&0===r)return t.l=i.slice(e,e+n),t.v=n;if(r+n<=t.v)return t.l.set(i.subarray(e,e+n),r),n}if(ft(t,r+n),t.l.subarray&&i.subarray)t.l.set(i.subarray(e,e+n),r);else for(o=0;o<n;o++)t.l[r+o]=i[e+o];return t.v=Math.max(t.v,r+n),n},ba(t,i,e){if(1===e?i+=t.position:2===e&&32768==(61440&t.node.mode)&&(i+=t.node.v),0>i)throw new xt(28);return i},Ya(t,i,e){ft(t.node,i+e),t.node.v=Math.max(t.node.v,i+e)},lb(t,i,e,n,r){if(32768!=(61440&t.node.mode))throw new xt(43);if(t=t.node.l,2&r||t.buffer!==A.buffer){if((0<e||e+i<t.length)&&(t=t.subarray?t.subarray(e,e+i):Array.prototype.slice.call(t,e,e+i)),e=!0,F(),!(i=void 0))throw new xt(48);A.set(t,i)}else e=!1,i=t.byteOffset;return{o:i,vc:e}},nb:(t,i,e,n)=>(pt.m.write(t,i,0,n,e,!1),0)}},gt=null,mt={},vt=[],bt=1,wt=null,yt=!0,xt=class{constructor(t){this.name="ErrnoError",this.aa=t}},kt={},At=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(t){this.h.flags=t}get position(){return this.h.position}set position(t){this.h.position=t}},$t=class{constructor(t,i,e,n){t||=this,this.parent=t,this.V=t.V,this.va=null,this.id=bt++,this.name=i,this.mode=e,this.j={},this.m={},this.ya=n}get read(){return!(365&~this.mode)}set read(t){t?this.mode|=365:this.mode&=-366}get write(){return!(146&~this.mode)}set write(t){t?this.mode|=146:this.mode&=-147}};function jt(t,i={}){if(!(t=it(t)))return{path:"",node:null};if(8<(i=Object.assign({hb:!0,Pa:0},i)).Pa)throw new xt(32);t=t.split("/").filter((t=>!!t));for(var e=gt,n="/",r=0;r<t.length;r++){var o=r===t.length-1;if(o&&i.parent)break;if(e=Ot(e,t[r]),n=J(n+"/"+t[r]),e.va&&(!o||o&&i.hb)&&(e=e.va.root),!o||i.gb)for(o=0;40960==(61440&e.mode);)if(e=Ht(n),e=jt(n=it(Z(n),e),{Pa:i.Pa+1}).node,40<o++)throw new xt(32)}return{path:n,node:e}}function Mt(t){for(var i;;){if(t===t.parent)return t=t.V.mb,i?"/"!==t[t.length-1]?`${t}/${i}`:t+i:t;i=i?`${t.name}/${i}`:t.name,t=t.parent}}function Ct(t,i){for(var e=0,n=0;n<i.length;n++)e=(e<<5)-e+i.charCodeAt(n)|0;return(t+e>>>0)%wt.length}function Ot(t,i){var e=16384==(61440&t.mode)?(e=It(t,"x"))?e:t.j.ka?0:2:54;if(e)throw new xt(e);for(e=wt[Ct(t.id,i)];e;e=e.fc)if(e.parent.id===t.id&&e.name===i)return e;return t.j.ka(t,i)}function _t(t,i,e,n){return i=Ct((t=new $t(t,i,e,n)).parent.id,t.name),t.fc=wt[i],wt[i]=t}function St(t){var i=["r","w","rw"][3&t];return 512&t&&(i+="w"),i}function It(t,i){return yt?0:!i.includes("r")||292&t.mode?i.includes("w")&&!(146&t.mode)||i.includes("x")&&!(73&t.mode)?2:0:2}function Et(t,i){try{return Ot(t,i),20}catch(t){}return It(t,"wx")}function Pt(t){if(!(t=vt[t]))throw new xt(8);return t}function Tt(t,i=-1){if(t=Object.assign(new At,t),-1==i)t:{for(i=0;4096>=i;i++)if(!vt[i])break t;throw new xt(33)}return t.X=i,vt[i]=t}var Wt,Dt={open(t){t.m=mt[t.node.ya].m,t.m.open?.(t)},ba(){throw new xt(70)}};function Lt(t,i){mt[t]={m:i}}function zt(t,i){var e="/"===i;if(e&&gt)throw new xt(10);if(!e&&i){var n=jt(i,{hb:!1});if(i=n.path,(n=n.node).va)throw new xt(10);if(16384!=(61440&n.mode))throw new xt(54)}(t=t.V(i={type:t,Nc:{},mb:i,ec:[]})).V=i,i.root=t,e?gt=t:n&&(n.va=i,n.V&&n.V.ec.push(i))}function Ft(t,i,e){var n=jt(t,{parent:!0}).node;if(!(t=Q(t))||"."===t||".."===t)throw new xt(28);var r=Et(n,t);if(r)throw new xt(r);if(!n.j.ua)throw new xt(63);return n.j.ua(n,t,i,e)}function Rt(t){return Ft(t,16895,0)}function Nt(t,i,e){void 0===e&&(e=i,i=438),Ft(t,8192|i,e)}function Bt(t,i){if(!it(t))throw new xt(44);var e=jt(i,{parent:!0}).node;if(!e)throw new xt(44);var n=Et(e,i=Q(i));if(n)throw new xt(n);if(!e.j.Da)throw new xt(63);e.j.Da(e,i,t)}function Ht(t){if(!(t=jt(t).node))throw new xt(44);if(!t.j.ma)throw new xt(28);return it(Mt(t.parent),t.j.ma(t))}function Vt(t,i,e){if(""===t)throw new xt(44);if("string"==typeof i){var n={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[i];if(void 0===n)throw Error(`Unknown file open mode: ${i}`);i=n}if(e=64&i?4095&(void 0===e?438:e)|32768:0,"object"==typeof t)var o=t;else{t=J(t);try{o=jt(t,{gb:!(131072&i)}).node}catch(t){}}if(n=!1,64&i)if(o){if(128&i)throw new xt(20)}else o=Ft(t,e,0),n=!0;if(!o)throw new xt(44);if(8192==(61440&o.mode)&&(i&=-513),65536&i&&16384!=(61440&o.mode))throw new xt(54);if(!n&&(e=o?40960==(61440&o.mode)?32:16384==(61440&o.mode)&&("r"!==St(i)||512&i)?31:It(o,St(i)):44))throw new xt(e);if(512&i&&!n){if(!(e="string"==typeof(e=o)?jt(e,{gb:!0}).node:e).j.R)throw new xt(63);if(16384==(61440&e.mode))throw new xt(31);if(32768!=(61440&e.mode))throw new xt(28);if(n=It(e,"w"))throw new xt(n);e.j.R(e,{size:0,timestamp:Date.now()})}return i&=-131713,(o=Tt({node:o,path:Mt(o),flags:i,seekable:!0,position:0,m:o.m,tc:[],error:!1})).m.open&&o.m.open(o),!r.logReadFiles||1&i||(qt||={},t in qt||(qt[t]=1)),o}function Ut(t,i,e){if(null===t.X)throw new xt(8);if(!t.seekable||!t.m.ba)throw new xt(70);if(0!=e&&1!=e&&2!=e)throw new xt(28);t.position=t.m.ba(t,i,e),t.tc=[]}function Xt(t,i,e){t=J("/dev/"+t);var n=((t,i)=>{var e=0;return t&&(e|=365),i&&(e|=146),e})(!!i,!!e);Yt||=64;var r=Yt++<<8;Lt(r,{open(t){t.seekable=!1},close(){e?.buffer?.length&&e(10)},read(t,e,n,r){for(var o=0,s=0;s<r;s++){try{var a=i()}catch(t){throw new xt(29)}if(void 0===a&&0===o)throw new xt(6);if(null==a)break;o++,e[n+s]=a}return o&&(t.node.timestamp=Date.now()),o},write(t,i,n,r){for(var o=0;o<r;o++)try{e(i[n+o])}catch(t){throw new xt(29)}return r&&(t.node.timestamp=Date.now()),o}}),Nt(t,n,r)}var Yt,qt,Kt,Gt,Jt,Zt,Qt,ti=void 0,ii=(t,i)=>Object.defineProperty(i,"name",{value:t}),ei=[],ni=[],ri=t=>{if(!t)throw new Kt("Cannot use deleted val. handle = "+t);return ni[t]},oi=t=>{switch(t){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const i=ei.pop()||ni.length;return ni[i]=t,ni[i+1]=1,i}},si=t=>{var i=Error,e=ii(t,(function(i){this.name=t,this.message=i,void 0!==(i=Error(i).stack)&&(this.stack=this.toString()+"\n"+i.replace(/^Error(:[^\n]*)?\n/,""))}));return e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},e},ai=t=>{for(var i="";$[t];)i+=Jt[$[t++]];return i},hi=[],li=()=>{for(;hi.length;){var t=hi.pop();t.g.fa=!1,t.delete()}},ci={},ui=(t,i)=>{if(void 0===i)throw new Kt("ptr should not be undefined");for(;t.C;)i=t.na(i),t=t.C;return i},di={},fi=t=>{t=_e(t);var i=ai(t);return Ce(t),i},pi=(t,i)=>{var e=di[t];if(void 0===e)throw t=`${i} has unknown type ${fi(t)}`,new Kt(t);return e},gi=()=>{},mi=!1,vi=(t,i,e)=>i===e?t:void 0===e.C||null===(t=vi(t,i,e.C))?null:e.Mb(t),bi={},wi=(t,i)=>{if(!i.u||!i.o)throw new Qt("makeClassHandle requires ptr and ptrType");if(!!i.K!=!!i.F)throw new Qt("Both smartPtrType and smartPtr must be specified");return i.count={value:1},yi(Object.create(t,{g:{value:i,writable:!0}}))},yi=t=>"undefined"==typeof FinalizationRegistry?(yi=t=>t,t):(mi=new FinalizationRegistry((t=>{--(t=t.g).count.value,0===t.count.value&&(t.F?t.K.P(t.F):t.u.i.P(t.o))})),gi=t=>{mi.unregister(t)},(yi=t=>{var i=t.g;return i.F&&mi.register(t,{g:i},t),t})(t)),xi={},ki=t=>{for(;t.length;){var i=t.pop();t.pop()(i)}};function Ai(t){return this.fromWireType(O[t>>2])}var $i={},ji={},Mi=(t,i,e)=>{function n(i){if((i=e(i)).length!==t.length)throw new Qt("Mismatched type converter count");for(var n=0;n<t.length;++n)Ci(t[n],i[n])}t.forEach((function(t){ji[t]=i}));var r=Array(i.length),o=[],s=0;i.forEach(((t,i)=>{di.hasOwnProperty(t)?r[i]=di[t]:(o.push(t),$i.hasOwnProperty(t)||($i[t]=[]),$i[t].push((()=>{r[i]=di[t],++s===o.length&&n(r)})))})),0===o.length&&n(r)};function Ci(t,i,e={}){if(!("argPackAdvance"in i))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(t,i,e={}){var n=i.name;if(!t)throw new Kt(`type "${n}" must have a positive integer typeid pointer`);if(di.hasOwnProperty(t)){if(e.Wb)return;throw new Kt(`Cannot register type '${n}' twice`)}di[t]=i,delete ji[t],$i.hasOwnProperty(t)&&(i=$i[t],delete $i[t],i.forEach((t=>t())))}(t,i,e)}var Oi=t=>{throw new Kt(t.g.u.i.name+" instance already deleted")};function _i(){}var Si=(t,i,e)=>{if(void 0===t[i].A){var n=t[i];t[i]=function(...n){if(!t[i].A.hasOwnProperty(n.length))throw new Kt(`Function '${e}' called with an invalid number of arguments (${n.length}) - expects one of (${t[i].A})!`);return t[i].A[n.length].apply(this,n)},t[i].A=[],t[i].A[n.ea]=n}},Ii=(t,i,e)=>{if(r.hasOwnProperty(t)){if(void 0===e||void 0!==r[t].A&&void 0!==r[t].A[e])throw new Kt(`Cannot register public name '${t}' twice`);if(Si(r,t,t),r.hasOwnProperty(e))throw new Kt(`Cannot register multiple overloads of a function with the same number of arguments (${e})!`);r[t].A[e]=i}else r[t]=i,void 0!==e&&(r[t].Mc=e)};function Ei(t,i,e,n,r,o,s,a){this.name=t,this.constructor=i,this.N=e,this.P=n,this.C=r,this.Rb=o,this.na=s,this.Mb=a,this.qb=[]}var Pi=(t,i,e)=>{for(;i!==e;){if(!i.na)throw new Kt(`Expected null or instance of ${e.name}, got an instance of ${i.name}`);t=i.na(t),i=i.C}return t};function Ti(t,i){if(null===i){if(this.Ma)throw new Kt(`null is not a valid ${this.name}`);return 0}if(!i.g)throw new Kt(`Cannot pass "${Qi(i)}" as a ${this.name}`);if(!i.g.o)throw new Kt(`Cannot pass deleted object as a pointer of type ${this.name}`);return Pi(i.g.o,i.g.u.i,this.i)}function Wi(t,i){if(null===i){if(this.Ma)throw new Kt(`null is not a valid ${this.name}`);if(this.ta){var e=this.Oa();return null!==t&&t.push(this.P,e),e}return 0}if(!i||!i.g)throw new Kt(`Cannot pass "${Qi(i)}" as a ${this.name}`);if(!i.g.o)throw new Kt(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.sa&&i.g.u.sa)throw new Kt(`Cannot convert argument of type ${i.g.K?i.g.K.name:i.g.u.name} to parameter type ${this.name}`);if(e=Pi(i.g.o,i.g.u.i,this.i),this.ta){if(void 0===i.g.F)throw new Kt("Passing raw pointer to smart pointer is illegal");switch(this.nc){case 0:if(i.g.K!==this)throw new Kt(`Cannot convert argument of type ${i.g.K?i.g.K.name:i.g.u.name} to parameter type ${this.name}`);e=i.g.F;break;case 1:e=i.g.F;break;case 2:if(i.g.K===this)e=i.g.F;else{var n=i.clone();e=this.jc(e,oi((()=>n.delete()))),null!==t&&t.push(this.P,e)}break;default:throw new Kt("Unsupporting sharing policy")}}return e}function Di(t,i){if(null===i){if(this.Ma)throw new Kt(`null is not a valid ${this.name}`);return 0}if(!i.g)throw new Kt(`Cannot pass "${Qi(i)}" as a ${this.name}`);if(!i.g.o)throw new Kt(`Cannot pass deleted object as a pointer of type ${this.name}`);if(i.g.u.sa)throw new Kt(`Cannot convert argument of type ${i.g.u.name} to parameter type ${this.name}`);return Pi(i.g.o,i.g.u.i,this.i)}function Li(t,i,e,n,r,o,s,a,h,l,c){this.name=t,this.i=i,this.Ma=e,this.sa=n,this.ta=r,this.ic=o,this.nc=s,this.rb=a,this.Oa=h,this.jc=l,this.P=c,r||void 0!==i.C?this.toWireType=Wi:(this.toWireType=n?Ti:Di,this.M=null)}var zi,Fi,Ri=(t,i,e)=>{if(!r.hasOwnProperty(t))throw new Qt("Replacing nonexistent public symbol");void 0!==r[t].A&&void 0!==e?r[t].A[e]=i:(r[t]=i,r[t].ea=e)},Ni=[],Bi=t=>{var i=Ni[t];return i||(t>=Ni.length&&(Ni.length=t+1),Ni[t]=i=zi.get(t)),i},Hi=(t,i)=>{var e=(t=ai(t)).includes("j")?((t,i)=>(...e)=>((t,i,e=[])=>(t.includes("j")?(t=t.replace(/p/g,"i"),i=(0,r["dynCall_"+t])(i,...e)):i=Bi(i)(...e),i))(t,i,e))(t,i):Bi(i);if("function"!=typeof e)throw new Kt(`unknown function pointer with signature ${t}: ${i}`);return e},Vi=(t,i)=>{var e=[],n={};throw i.forEach((function t(i){n[i]||di[i]||(ji[i]?ji[i].forEach(t):(e.push(i),n[i]=!0))})),new Fi(`${t}: `+e.map(fi).join([", "]))};function Ui(t,i,e,n,r){var o=i.length;if(2>o)throw new Kt("argTypes array size mismatch! Must at least get return value and 'this' types!");var s=null!==i[1]&&null!==e,a=function(t){for(var i=1;i<t.length;++i)if(null!==t[i]&&void 0===t[i].M)return!0;return!1}(i),h="void"!==i[0].name,l=o-2,c=Array(l),u=[],d=[];return ii(t,(function(...e){if(e.length!==l)throw new Kt(`function ${t} called with ${e.length} arguments, expected ${l}`);if(d.length=0,u.length=s?2:1,u[0]=r,s){var o=i[1].toWireType(d,this);u[1]=o}for(var f=0;f<l;++f)c[f]=i[f+2].toWireType(d,e[f]),u.push(c[f]);if(e=n(...u),a)ki(d);else for(f=s?1:2;f<i.length;f++)null!==i[f].M&&i[f].M(1===f?o:c[f-2]);return h?i[0].fromWireType(e):void 0}))}var Xi,Yi=(t,i)=>{for(var e=[],n=0;n<t;n++)e.push(O[i+4*n>>2]);return e},qi=t=>{const i=(t=t.trim()).indexOf("(");return-1!==i?t.substr(0,i):t},Ki=(t,i,e)=>{if(!(t instanceof Object))throw new Kt(`${e} with invalid "this": ${t}`);if(!(t instanceof i.i.constructor))throw new Kt(`${e} incompatible with "this" of type ${t.constructor.name}`);if(!t.g.o)throw new Kt(`cannot call emscripten binding method ${e} on deleted object`);return Pi(t.g.o,t.g.u.i,i.i)},Gi=t=>{9<t&&0==--ni[t+1]&&(ni[t]=void 0,ei.push(t))},Ji={name:"emscripten::val",fromWireType:t=>{var i=ri(t);return Gi(t),i},toWireType:(t,i)=>oi(i),argPackAdvance:8,readValueFromPointer:Ai,M:null},Zi=(t,i,e)=>{switch(i){case 1:return e?function(t){return this.fromWireType(A[t])}:function(t){return this.fromWireType($[t])};case 2:return e?function(t){return this.fromWireType(j[t>>1])}:function(t){return this.fromWireType(M[t>>1])};case 4:return e?function(t){return this.fromWireType(C[t>>2])}:function(t){return this.fromWireType(O[t>>2])};default:throw new TypeError(`invalid integer width (${i}): ${t}`)}},Qi=t=>{if(null===t)return"null";var i=typeof t;return"object"===i||"array"===i||"function"===i?t.toString():""+t},te=(t,i)=>{switch(i){case 4:return function(t){return this.fromWireType(_[t>>2])};case 8:return function(t){return this.fromWireType(S[t>>3])};default:throw new TypeError(`invalid float width (${i}): ${t}`)}},ie=(t,i,e)=>{switch(i){case 1:return e?t=>A[t]:t=>$[t];case 2:return e?t=>j[t>>1]:t=>M[t>>1];case 4:return e?t=>C[t>>2]:t=>O[t>>2];default:throw new TypeError(`invalid integer width (${i}): ${t}`)}},ee="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,ne=(t,i)=>{for(var e=t>>1,n=e+i/2;!(e>=n)&&M[e];)++e;if(32<(e<<=1)-t&&ee)return ee.decode($.subarray(t,e));for(e="",n=0;!(n>=i/2);++n){var r=j[t+2*n>>1];if(0==r)break;e+=String.fromCharCode(r)}return e},re=(t,i,e)=>{if(e??=2147483647,2>e)return 0;var n=i;e=(e-=2)<2*t.length?e/2:t.length;for(var r=0;r<e;++r)j[i>>1]=t.charCodeAt(r),i+=2;return j[i>>1]=0,i-n},oe=t=>2*t.length,se=(t,i)=>{for(var e=0,n="";!(e>=i/4);){var r=C[t+4*e>>2];if(0==r)break;++e,65536<=r?(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r)):n+=String.fromCharCode(r)}return n},ae=(t,i,e)=>{if(e??=2147483647,4>e)return 0;var n=i;e=n+e-4;for(var r=0;r<t.length;++r){var o=t.charCodeAt(r);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++r)),C[i>>2]=o,(i+=4)+4>e)break}return C[i>>2]=0,i-n},he=t=>{for(var i=0,e=0;e<t.length;++e){var n=t.charCodeAt(e);55296<=n&&57343>=n&&++e,i+=4}return i},le=(t,i,e)=>{var n=[];return t=t.toWireType(n,e),n.length&&(O[i>>2]=oi(n)),t},ce={},ue=t=>{var i=ce[t];return void 0===i?ai(t):i},de=[],fe=Reflect.construct,pe=t=>0==t%4&&(0!=t%100||0==t%400),ge=[0,31,60,91,121,152,182,213,244,274,305,335],me=[0,31,59,90,120,151,181,212,243,273,304,334],ve=[],be={},we=()=>{if(!Xi){var t,i={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:v||"./this.program"};for(t in be)void 0===be[t]?delete i[t]:i[t]=be[t];var e=[];for(t in i)e.push(`${t}=${i[t]}`);Xi=e}return Xi},ye=[31,29,31,30,31,30,31,31,30,31,30,31],xe=[31,28,31,30,31,30,31,31,30,31,30,31],ke=(t,i,e,n)=>{function r(t,i,e){for(t="number"==typeof t?t.toString():t||"";t.length<i;)t=e[0]+t;return t}function o(t,i){return r(t,i,"0")}function s(t,i){function e(t){return 0>t?-1:0<t?1:0}var n;return 0===(n=e(t.getFullYear()-i.getFullYear()))&&0===(n=e(t.getMonth()-i.getMonth()))&&(n=e(t.getDate()-i.getDate())),n}function a(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function h(t){var i=t.ca;for(t=new Date(new Date(t.da+1900,0,1).getTime());0<i;){var e=t.getMonth(),n=(pe(t.getFullYear())?ye:xe)[e];if(!(i>n-t.getDate())){t.setDate(t.getDate()+i);break}i-=n-t.getDate()+1,t.setDate(1),11>e?t.setMonth(e+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return e=new Date(t.getFullYear()+1,0,4),i=a(new Date(t.getFullYear(),0,4)),e=a(e),0>=s(i,t)?0>=s(e,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var l=O[n+40>>2];for(var c in n={qc:C[n>>2],pc:C[n+4>>2],Ea:C[n+8>>2],Ra:C[n+12>>2],Fa:C[n+16>>2],da:C[n+20>>2],S:C[n+24>>2],ca:C[n+28>>2],Oc:C[n+32>>2],oc:C[n+36>>2],rc:l&&l?nt($,l):""},e=e?nt($,e):"",l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})e=e.replace(new RegExp(c,"g"),l[c]);var u="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(c in l={"%a":t=>u[t.S].substring(0,3),"%A":t=>u[t.S],"%b":t=>d[t.Fa].substring(0,3),"%B":t=>d[t.Fa],"%C":t=>o((t.da+1900)/100|0,2),"%d":t=>o(t.Ra,2),"%e":t=>r(t.Ra,2," "),"%g":t=>h(t).toString().substring(2),"%G":h,"%H":t=>o(t.Ea,2),"%I":t=>(0==(t=t.Ea)?t=12:12<t&&(t-=12),o(t,2)),"%j":t=>{for(var i=0,e=0;e<=t.Fa-1;i+=(pe(t.da+1900)?ye:xe)[e++]);return o(t.Ra+i,3)},"%m":t=>o(t.Fa+1,2),"%M":t=>o(t.pc,2),"%n":()=>"\n","%p":t=>0<=t.Ea&&12>t.Ea?"AM":"PM","%S":t=>o(t.qc,2),"%t":()=>"\t","%u":t=>t.S||7,"%U":t=>o(Math.floor((t.ca+7-t.S)/7),2),"%V":t=>{var i=Math.floor((t.ca+7-(t.S+6)%7)/7);if(2>=(t.S+371-t.ca-2)%7&&i++,i)53==i&&(4==(e=(t.S+371-t.ca)%7)||3==e&&pe(t.da)||(i=1));else{i=52;var e=(t.S+7-t.ca-1)%7;(4==e||5==e&&pe(t.da%400-1))&&i++}return o(i,2)},"%w":t=>t.S,"%W":t=>o(Math.floor((t.ca+7-(t.S+6)%7)/7),2),"%y":t=>(t.da+1900).toString().substring(2),"%Y":t=>t.da+1900,"%z":t=>{var i=0<=(t=t.oc);return t=Math.abs(t)/60,(i?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":t=>t.rc,"%%":()=>"%"},e=e.replace(/%%/g,"\0\0"),l)e.includes(c)&&(e=e.replace(new RegExp(c,"g"),l[c](n)));return(c=at(e=e.replace(/\0\0/g,"%"),!1)).length>i?0:(A.set(c,t),c.length-1)};[44].forEach((t=>{kt[t]=new xt(t),kt[t].stack="<generic error, no stack>"})),wt=Array(4096),zt(pt,"/"),Rt("/tmp"),Rt("/home"),Rt("/home/web_user"),function(){Rt("/dev"),Lt(259,{read:()=>0,write:(t,i,e,n)=>n}),Nt("/dev/null",259),lt(1280,ut),lt(1536,dt),Nt("/dev/tty",1280),Nt("/dev/tty1",1536);var t=new Uint8Array(1024),i=0,e=()=>(0===i&&(i=tt(t).byteLength),t[--i]);Xt("random",e),Xt("urandom",e),Rt("/dev/shm"),Rt("/dev/shm/tmp")}(),function(){Rt("/proc");var t=Rt("/proc/self");Rt("/proc/self/fd"),zt({V(){var i=_t(t,"fd",16895,73);return i.j={ka(t,i){var e=Pt(+i);return(t={parent:null,V:{mb:"fake"},j:{ma:()=>e.path}}).parent=t}},i}},"/proc/self/fd")}(),Kt=r.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},ni.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=()=>ni.length/2-5-ei.length,Gt=r.PureVirtualError=si("PureVirtualError");for(var Ae=Array(256),$e=0;256>$e;++$e)Ae[$e]=String.fromCharCode($e);Jt=Ae,r.getInheritedInstanceCount=()=>Object.keys(ci).length,r.getLiveInheritedInstances=()=>{var t,i=[];for(t in ci)ci.hasOwnProperty(t)&&i.push(ci[t]);return i},r.flushPendingDeletes=li,r.setDelayFunction=t=>{Zt=t,hi.length&&Zt&&Zt(li)},Qt=r.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Object.assign(_i.prototype,{isAliasOf:function(t){if(!(this instanceof _i&&t instanceof _i))return!1;var i=this.g.u.i,e=this.g.o;t.g=t.g;var n=t.g.u.i;for(t=t.g.o;i.C;)e=i.na(e),i=i.C;for(;n.C;)t=n.na(t),n=n.C;return i===n&&e===t},clone:function(){if(this.g.o||Oi(this),this.g.ia)return this.g.count.value+=1,this;var t=yi,i=Object,e=i.create,n=Object.getPrototypeOf(this),r=this.g;return(t=t(e.call(i,n,{g:{value:{count:r.count,fa:r.fa,ia:r.ia,o:r.o,u:r.u,F:r.F,K:r.K}}}))).g.count.value+=1,t.g.fa=!1,t},delete(){if(this.g.o||Oi(this),this.g.fa&&!this.g.ia)throw new Kt("Object already scheduled for deletion");gi(this);var t=this.g;--t.count.value,0===t.count.value&&(t.F?t.K.P(t.F):t.u.i.P(t.o)),this.g.ia||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||Oi(this),this.g.fa&&!this.g.ia)throw new Kt("Object already scheduled for deletion");return hi.push(this),1===hi.length&&Zt&&Zt(li),this.g.fa=!0,this}}),Object.assign(Li.prototype,{Sb(t){return this.rb&&(t=this.rb(t)),t},bb(t){this.P?.(t)},argPackAdvance:8,readValueFromPointer:Ai,fromWireType:function(t){function i(){return wi(this.i.N,this.ta?{u:this.ic,o:e,K:this,F:t}:{u:this,o:t})}var e=this.Sb(t);if(!e)return this.bb(t),null;var n=((t,i)=>(i=ui(this.i,i),ci[i]))(0,e);if(void 0!==n)return 0===n.g.count.value?(n.g.o=e,n.g.F=t,n.clone()):(n=n.clone(),this.bb(t),n);if(n=this.i.Rb(e),!(n=bi[n]))return i.call(this);var r=vi(e,this.i,(n=this.sa?n.Ib:n.pointerType).i);return null===r?i.call(this):wi(n.i.N,this.ta?{u:n,o:r,K:this,F:t}:{u:n,o:r})}}),Fi=r.UnboundTypeError=si("UnboundTypeError");var je={__syscall_fcntl64:function(t,i,e){ti=e;try{var n=Pt(t);switch(i){case 0:var r=K();if(0>r)break;for(;vt[r];)r++;return function(t,i=-1){return t=Tt(t,i),t.m?.Fc?.(t),t}(n,r).X;case 1:case 2:case 13:case 14:return 0;case 3:return n.flags;case 4:return r=K(),n.flags|=r,0;case 12:return r=K(),j[r+0>>1]=2,0}return-28}catch(t){if("ErrnoError"!==t.name)throw t;return-t.aa}},__syscall_ioctl:function(t,i,e){ti=e;try{var n=Pt(t);switch(i){case 21509:case 21510:case 21511:case 21512:case 21524:case 21515:return n.s?0:-59;case 21505:if(!n.s)return-59;if(n.s.W.Yb){t=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var r=K();C[r>>2]=25856,C[r+4>>2]=5,C[r+8>>2]=191,C[r+12>>2]=35387;for(var o=0;32>o;o++)A[r+o+17]=t[o]||0}return 0;case 21506:case 21507:case 21508:if(!n.s)return-59;if(n.s.W.Zb)for(r=K(),t=[],o=0;32>o;o++)t.push(A[r+o+17]);return 0;case 21519:return n.s?(r=K(),C[r>>2]=0):-59;case 21520:return n.s?-28:-59;case 21531:if(r=K(),!n.m.Xb)throw new xt(59);return n.m.Xb(n,i,r);case 21523:return n.s?(n.s.W.$b&&(o=[24,80],r=K(),j[r>>1]=o[0],j[r+2>>1]=o[1]),0):-59;default:return-28}}catch(t){if("ErrnoError"!==t.name)throw t;return-t.aa}},__syscall_openat:function(t,i,e,n){ti=n;try{var r=i=i?nt($,i):"";if("/"===r.charAt(0))i=r;else{var o=-100===t?"/":Pt(t).path;if(0==r.length)throw new xt(44);i=J(o+"/"+r)}return Vt(i,e,n?K():0).X}catch(t){if("ErrnoError"!==t.name)throw t;return-t.aa}},_abort_js:()=>{F("")},_embind_create_inheriting_constructor:(t,i,e)=>{t=ai(t),i=pi(i,"wrapper"),e=ri(e);var n=i.i,r=n.N,o=n.C.N,s=n.C.constructor;return t=ii(t,(function(...t){n.C.qb.forEach(function(t){if(this[t]===o[t])throw new Gt(`Pure virtual function ${t} must be implemented in JavaScript`)}.bind(this)),Object.defineProperty(this,"__parent",{value:r}),this.__construct(...t)})),r.__construct=function(...t){if(this===r)throw new Kt("Pass correct 'this' to __construct");t=s.implement(this,...t),gi(t);var i=t.g;if(t.notifyOnDestruction(),i.ia=!0,Object.defineProperties(this,{g:{value:i}}),yi(this),t=ui(n,t=i.o),ci.hasOwnProperty(t))throw new Kt(`Tried to register registered instance: ${t}`);ci[t]=this},r.__destruct=function(){if(this===r)throw new Kt("Pass correct 'this' to __destruct");gi(this);var t=this.g.o;if(t=ui(n,t),!ci.hasOwnProperty(t))throw new Kt(`Tried to unregister unregistered instance: ${t}`);delete ci[t]},t.prototype=Object.create(r),Object.assign(t.prototype,e),oi(t)},_embind_finalize_value_object:t=>{var i=xi[t];delete xi[t];var e=i.Oa,n=i.P,r=i.fb,o=r.map((t=>t.Vb)).concat(r.map((t=>t.lc)));Mi([t],o,(t=>{var o={};return r.forEach(((i,e)=>{var n=t[e],s=i.Tb,a=i.Ub,h=t[e+r.length],l=i.kc,c=i.mc;o[i.Pb]={read:t=>n.fromWireType(s(a,t)),write:(t,i)=>{var e=[];l(c,t,h.toWireType(e,i)),ki(e)}}})),[{name:i.name,fromWireType:t=>{var i,e={};for(i in o)e[i]=o[i].read(t);return n(t),e},toWireType:(t,i)=>{for(var r in o)if(!(r in i))throw new TypeError(`Missing field: "${r}"`);var s=e();for(r in o)o[r].write(s,i[r]);return null!==t&&t.push(n,s),s},argPackAdvance:8,readValueFromPointer:Ai,M:n}]}))},_embind_register_bigint:()=>{},_embind_register_bool:(t,i,e,n)=>{Ci(t,{name:i=ai(i),fromWireType:function(t){return!!t},toWireType:function(t,i){return i?e:n},argPackAdvance:8,readValueFromPointer:function(t){return this.fromWireType($[t])},M:null})},_embind_register_class:(t,i,e,n,r,o,s,a,h,l,c,u,d)=>{c=ai(c),o=Hi(r,o),a&&=Hi(s,a),l&&=Hi(h,l),d=Hi(u,d);var f=(t=>{if(void 0===t)return"_unknown";var i=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=i&&57>=i?`_${t}`:t})(c);Ii(f,(function(){Vi(`Cannot construct ${c} due to unbound types`,[n])})),Mi([t,i,e],n?[n]:[],(i=>{if(i=i[0],n)var e=i.i,r=e.N;else r=_i.prototype;i=ii(c,(function(...t){if(Object.getPrototypeOf(this)!==s)throw new Kt("Use 'new' to construct "+c);if(void 0===u.$)throw new Kt(c+" has no accessible constructor");var i=u.$[t.length];if(void 0===i)throw new Kt(`Tried to invoke ctor of ${c} with invalid number of parameters (${t.length}) - expected (${Object.keys(u.$).toString()}) parameters instead!`);return i.apply(this,t)}));var s=Object.create(r,{constructor:{value:i}});i.prototype=s;var h,u=new Ei(c,i,s,d,e,o,a,l);return u.C&&((h=u.C).oa??(h.oa=[]),u.C.oa.push(u)),e=new Li(c,u,!0,!1,!1),h=new Li(c+"*",u,!1,!1,!1),r=new Li(c+" const*",u,!1,!0,!1),bi[t]={pointerType:h,Ib:r},Ri(f,i),[e,h,r]}))},_embind_register_class_class_function:(t,i,e,n,r,o,s)=>{var a=Yi(e,n);i=ai(i),i=qi(i),o=Hi(r,o),Mi([],[t],(t=>{function n(){Vi(`Cannot call ${r} due to unbound types`,a)}var r=`${(t=t[0]).name}.${i}`;i.startsWith("@@")&&(i=Symbol[i.substring(2)]);var h=t.i.constructor;return void 0===h[i]?(n.ea=e-1,h[i]=n):(Si(h,i,r),h[i].A[e-1]=n),Mi([],a,(n=>{if(n=Ui(r,[n[0],null].concat(n.slice(1)),null,o,s),void 0===h[i].A?(n.ea=e-1,h[i]=n):h[i].A[e-1]=n,t.i.oa)for(const e of t.i.oa)e.constructor.hasOwnProperty(i)||(e.constructor[i]=n);return[]})),[]}))},_embind_register_class_class_property:(t,i,e,n,r,o,s,a)=>{i=ai(i),o=Hi(r,o),Mi([],[t],(t=>{var r=`${(t=t[0]).name}.${i}`,h={get(){Vi(`Cannot access ${r} due to unbound types`,[e])},enumerable:!0,configurable:!0};return h.set=a?()=>{Vi(`Cannot access ${r} due to unbound types`,[e])}:()=>{throw new Kt(`${r} is a read-only property`)},Object.defineProperty(t.i.constructor,i,h),Mi([],[e],(e=>{e=e[0];var r={get:()=>e.fromWireType(o(n)),enumerable:!0};return a&&(a=Hi(s,a),r.set=t=>{var i=[];a(n,e.toWireType(i,t)),ki(i)}),Object.defineProperty(t.i.constructor,i,r),[]})),[]}))},_embind_register_class_constructor:(t,i,e,n,r,o)=>{var s=Yi(i,e);r=Hi(n,r),Mi([],[t],(t=>{var e=`constructor ${(t=t[0]).name}`;if(void 0===t.i.$&&(t.i.$=[]),void 0!==t.i.$[i-1])throw new Kt(`Cannot register multiple constructors with identical number of parameters (${i-1}) for class '${t.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return t.i.$[i-1]=()=>{Vi(`Cannot construct ${t.name} due to unbound types`,s)},Mi([],s,(n=>(n.splice(1,0,null),t.i.$[i-1]=Ui(e,n,null,r,o),[]))),[]}))},_embind_register_class_function:(t,i,e,n,r,o,s,a)=>{var h=Yi(e,n);i=ai(i),i=qi(i),o=Hi(r,o),Mi([],[t],(t=>{function n(){Vi(`Cannot call ${r} due to unbound types`,h)}var r=`${(t=t[0]).name}.${i}`;i.startsWith("@@")&&(i=Symbol[i.substring(2)]),a&&t.i.qb.push(i);var l=t.i.N,c=l[i];return void 0===c||void 0===c.A&&c.className!==t.name&&c.ea===e-2?(n.ea=e-2,n.className=t.name,l[i]=n):(Si(l,i,r),l[i].A[e-2]=n),Mi([],h,(n=>(n=Ui(r,n,t,o,s),void 0===l[i].A?(n.ea=e-2,l[i]=n):l[i].A[e-2]=n,[]))),[]}))},_embind_register_class_property:(t,i,e,n,r,o,s,a,h,l)=>{i=ai(i),r=Hi(n,r),Mi([],[t],(t=>{var n=`${(t=t[0]).name}.${i}`,c={get(){Vi(`Cannot access ${n} due to unbound types`,[e,s])},enumerable:!0,configurable:!0};return c.set=h?()=>Vi(`Cannot access ${n} due to unbound types`,[e,s]):()=>{throw new Kt(n+" is a read-only property")},Object.defineProperty(t.i.N,i,c),Mi([],h?[e,s]:[e],(e=>{var s=e[0],c={get(){var i=Ki(this,t,n+" getter");return s.fromWireType(r(o,i))},enumerable:!0};if(h){h=Hi(a,h);var u=e[1];c.set=function(i){var e=Ki(this,t,n+" setter"),r=[];h(l,e,u.toWireType(r,i)),ki(r)}}return Object.defineProperty(t.i.N,i,c),[]})),[]}))},_embind_register_emval:t=>Ci(t,Ji),_embind_register_enum:(t,i,e,n)=>{function r(){}i=ai(i),r.values={},Ci(t,{name:i,constructor:r,fromWireType:function(t){return this.constructor.values[t]},toWireType:(t,i)=>i.value,argPackAdvance:8,readValueFromPointer:Zi(i,e,n),M:null}),Ii(i,r)},_embind_register_enum_value:(t,i,e)=>{var n=pi(t,"enum");i=ai(i),t=n.constructor,n=Object.create(n.constructor.prototype,{value:{value:e},constructor:{value:ii(`${n.name}_${i}`,(function(){}))}}),t.values[e]=n,t[i]=n},_embind_register_float:(t,i,e)=>{Ci(t,{name:i=ai(i),fromWireType:t=>t,toWireType:(t,i)=>i,argPackAdvance:8,readValueFromPointer:te(i,e),M:null})},_embind_register_function:(t,i,e,n,r,o)=>{var s=Yi(i,e);t=ai(t),t=qi(t),r=Hi(n,r),Ii(t,(function(){Vi(`Cannot call ${t} due to unbound types`,s)}),i-1),Mi([],s,(e=>(Ri(t,Ui(t,[e[0],null].concat(e.slice(1)),null,r,o),i-1),[])))},_embind_register_integer:(t,i,e,n,r)=>{if(i=ai(i),-1===r&&(r=4294967295),r=t=>t,0===n){var o=32-8*e;r=t=>t<<o>>>o}var s=i.includes("unsigned")?function(t,i){return i>>>0}:function(t,i){return i};Ci(t,{name:i,fromWireType:r,toWireType:s,argPackAdvance:8,readValueFromPointer:ie(i,e,0!==n),M:null})},_embind_register_memory_view:(t,i,e)=>{function n(t){return new r(A.buffer,O[t+4>>2],O[t>>2])}var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][i];Ci(t,{name:e=ai(e),fromWireType:n,argPackAdvance:8,readValueFromPointer:n},{Wb:!0})},_embind_register_std_string:(t,i)=>{var e="std::string"===(i=ai(i));Ci(t,{name:i,fromWireType:function(t){var i=O[t>>2],n=t+4;if(e)for(var r=n,o=0;o<=i;++o){var s=n+o;if(o==i||0==$[s]){if(r=r?nt($,r,s-r):"",void 0===a)var a=r;else a+=String.fromCharCode(0),a+=r;r=s+1}}else{for(a=Array(i),o=0;o<i;++o)a[o]=String.fromCharCode($[n+o]);a=a.join("")}return Ce(t),a},toWireType:function(t,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var n="string"==typeof i;if(!(n||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array))throw new Kt("Cannot pass non-string to std::string");var r=e&&n?ot(i):i.length,o=Oe(4+r+1),s=o+4;if(O[o>>2]=r,e&&n)st(i,$,s,r+1);else if(n)for(n=0;n<r;++n){var a=i.charCodeAt(n);if(255<a)throw Ce(s),new Kt("String has UTF-16 code units that do not fit in 8 bits");$[s+n]=a}else for(n=0;n<r;++n)$[s+n]=i[n];return null!==t&&t.push(Ce,o),o},argPackAdvance:8,readValueFromPointer:Ai,M(t){Ce(t)}})},_embind_register_std_wstring:(t,i,e)=>{if(e=ai(e),2===i)var n=ne,r=re,o=oe,s=t=>M[t>>1];else 4===i&&(n=se,r=ae,o=he,s=t=>O[t>>2]);Ci(t,{name:e,fromWireType:t=>{for(var e,r=O[t>>2],o=t+4,a=0;a<=r;++a){var h=t+4+a*i;a!=r&&0!=s(h)||(o=n(o,h-o),void 0===e?e=o:(e+=String.fromCharCode(0),e+=o),o=h+i)}return Ce(t),e},toWireType:(t,n)=>{if("string"!=typeof n)throw new Kt(`Cannot pass non-string to C++ string type ${e}`);var s=o(n),a=Oe(4+s+i);return O[a>>2]=s/i,r(n,a+4,s+i),null!==t&&t.push(Ce,a),a},argPackAdvance:8,readValueFromPointer:Ai,M(t){Ce(t)}})},_embind_register_value_object:(t,i,e,n,r,o)=>{xi[t]={name:ai(i),Oa:Hi(e,n),P:Hi(r,o),fb:[]}},_embind_register_value_object_field:(t,i,e,n,r,o,s,a,h,l)=>{xi[t].fb.push({Pb:ai(i),Vb:e,Tb:Hi(n,r),Ub:o,lc:s,kc:Hi(a,h),mc:l})},_embind_register_void:(t,i)=>{Ci(t,{Jc:!0,name:i=ai(i),argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(t,i,e)=>$.copyWithin(t,i,i+e),_emscripten_throw_longjmp:()=>{throw 1/0},_emval_as:(t,i,e)=>(t=ri(t),i=pi(i,"emval::as"),le(i,e,t)),_emval_call_method:(t,i,e,n,r)=>(t=de[t])(i=ri(i),i[e=ue(e)],n,r),_emval_decref:Gi,_emval_get_method_caller:(t,i,e)=>{var n=((t,i)=>{for(var e=Array(t),n=0;n<t;++n)e[n]=pi(O[i+4*n>>2],"parameter "+n);return e})(t,i),r=n.shift();t--;var o=Array(t);return i=`methodCaller<(${n.map((t=>t.name)).join(", ")}) => ${r.name}>`,(t=>{var i=de.length;return de.push(t),i})(ii(i,((i,s,a,h)=>{for(var l=0,c=0;c<t;++c)o[c]=n[c].readValueFromPointer(h+l),l+=n[c].argPackAdvance;return i=1===e?fe(s,o):s.apply(i,o),le(r,a,i)})))},_emval_get_module_property:t=>(t=ue(t),oi(r[t])),_emval_get_property:(t,i)=>(t=ri(t),i=ri(i),oi(t[i])),_emval_incref:t=>{9<t&&(ni[t+1]+=1)},_emval_new_array:()=>oi([]),_emval_new_cstring:t=>oi(ue(t)),_emval_new_object:()=>oi({}),_emval_run_destructors:t=>{var i=ri(t);ki(i),Gi(t)},_emval_set_property:(t,i,e)=>{t=ri(t),i=ri(i),e=ri(e),t[i]=e},_emval_take_value:(t,i)=>(t=(t=pi(t,"_emval_take_value")).readValueFromPointer(i),oi(t)),_gmtime_js:function(t,i,e){t=new Date(1e3*(i+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*i:NaN)),C[e>>2]=t.getUTCSeconds(),C[e+4>>2]=t.getUTCMinutes(),C[e+8>>2]=t.getUTCHours(),C[e+12>>2]=t.getUTCDate(),C[e+16>>2]=t.getUTCMonth(),C[e+20>>2]=t.getUTCFullYear()-1900,C[e+24>>2]=t.getUTCDay(),C[e+28>>2]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},_localtime_js:function(t,i,e){t=new Date(1e3*(i+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*i:NaN)),C[e>>2]=t.getSeconds(),C[e+4>>2]=t.getMinutes(),C[e+8>>2]=t.getHours(),C[e+12>>2]=t.getDate(),C[e+16>>2]=t.getMonth(),C[e+20>>2]=t.getFullYear()-1900,C[e+24>>2]=t.getDay(),C[e+28>>2]=(pe(t.getFullYear())?ge:me)[t.getMonth()]+t.getDate()-1|0,C[e+36>>2]=-60*t.getTimezoneOffset(),i=new Date(t.getFullYear(),6,1).getTimezoneOffset();var n=new Date(t.getFullYear(),0,1).getTimezoneOffset();C[e+32>>2]=0|(i!=n&&t.getTimezoneOffset()==Math.min(n,i))},_tzset_js:(t,i,e,n)=>{var r=(new Date).getFullYear(),o=new Date(r,0,1),s=new Date(r,6,1);r=o.getTimezoneOffset();var a=s.getTimezoneOffset();O[t>>2]=60*Math.max(r,a),C[i>>2]=Number(r!=a),o=(t=t=>t.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1])(o),s=t(s),a<r?(st(o,$,e,17),st(s,$,n,17)):(st(o,$,n,17),st(s,$,e,17))},emscripten_asm_const_int:(t,i,e)=>{ve.length=0;for(var n;n=$[i++];){var r=105!=n;e+=(r&=112!=n)&&e%8?4:0,ve.push(112==n?O[e>>2]:105==n?C[e>>2]:S[e>>3]),e+=r?8:4}return Y[t](...ve)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:t=>{var i=$.length;if(2147483648<(t>>>=0))return!1;for(var e=1;4>=e;e*=2){var n=i*(1+.2/e);n=Math.min(n,t+100663296);var r=Math;n=Math.max(t,n);t:{r=(r.min.call(r,2147483648,n+(65536-n%65536)%65536)-k.buffer.byteLength+65535)/65536;try{k.grow(r),E();var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},environ_get:(t,i)=>{var e=0;return we().forEach(((n,r)=>{var o=i+e;for(r=O[t+4*r>>2]=o,o=0;o<n.length;++o)A[r++]=n.charCodeAt(o);A[r]=0,e+=n.length+1})),0},environ_sizes_get:(t,i)=>{var e=we();O[t>>2]=e.length;var n=0;return e.forEach((t=>n+=t.length+1)),O[i>>2]=n,0},fd_close:function(t){try{var i=Pt(t);if(null===i.X)throw new xt(8);i.La&&(i.La=null);try{i.m.close&&i.m.close(i)}catch(t){throw t}finally{vt[i.X]=null}return i.X=null,0}catch(t){if("ErrnoError"!==t.name)throw t;return t.aa}},fd_read:function(t,i,e,n){try{t:{var r=Pt(t);t=i;for(var o,s=i=0;s<e;s++){var a=O[t>>2],h=O[t+4>>2];t+=8;var l=r,c=o,u=A;if(0>h||0>c)throw new xt(28);if(null===l.X)throw new xt(8);if(1==(2097155&l.flags))throw new xt(8);if(16384==(61440&l.node.mode))throw new xt(31);if(!l.m.read)throw new xt(28);var d=void 0!==c;if(d){if(!l.seekable)throw new xt(70)}else c=l.position;var f=l.m.read(l,u,a,h,c);d||(l.position+=f);var p=f;if(0>p){var g=-1;break t}if(i+=p,p<h)break;void 0!==o&&(o+=p)}g=i}return O[n>>2]=g,0}catch(t){if("ErrnoError"!==t.name)throw t;return t.aa}},fd_seek:function(t,i,e,n,r){i=e+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*e:NaN;try{if(isNaN(i))return 61;var o=Pt(t);return Ut(o,i,n),X=[o.position>>>0,(U=o.position,1<=+Math.abs(U)?0<U?+Math.floor(U/4294967296)>>>0:~~+Math.ceil((U-+(~~U>>>0))/4294967296)>>>0:0)],C[r>>2]=X[0],C[r+4>>2]=X[1],o.La&&0===i&&0===n&&(o.La=null),0}catch(t){if("ErrnoError"!==t.name)throw t;return t.aa}},fd_write:function(t,i,e,n){try{t:{var r=Pt(t);t=i;for(var o,s=i=0;s<e;s++){var a=O[t>>2],h=O[t+4>>2];t+=8;var l=r,c=a,u=h,d=o,f=A;if(0>u||0>d)throw new xt(28);if(null===l.X)throw new xt(8);if(!(2097155&l.flags))throw new xt(8);if(16384==(61440&l.node.mode))throw new xt(31);if(!l.m.write)throw new xt(28);l.seekable&&1024&l.flags&&Ut(l,0,2);var p=void 0!==d;if(p){if(!l.seekable)throw new xt(70)}else d=l.position;var g=l.m.write(l,f,c,u,d,void 0);p||(l.position+=g);var m=g;if(0>m){var v=-1;break t}i+=m,void 0!==o&&(o+=m)}v=i}return O[n>>2]=v,0}catch(t){if("ErrnoError"!==t.name)throw t;return t.aa}},invoke_vii:function(t,i,e){var n=De();try{Bi(t)(i,e)}catch(t){if(We(n),t!==t+0)throw t;Te(1,0)}},isWindowsBrowser:function(){return-1<navigator.platform.indexOf("Win")},strftime:ke,strftime_l:(t,i,e,n)=>ke(t,i,e,n)},Me=function(){function t(t){return k=(Me=t.exports).memory,E(),zi=Me.__indirect_function_table,T.unshift(Me.__wasm_call_ctors),L--,r.monitorRunDependencies?.(L),0==L&&z&&(t=z,z=null,t()),Me}var i={env:je,wasi_snapshot_preview1:je};if(L++,r.monitorRunDependencies?.(L),r.instantiateWasm)try{return r.instantiateWasm(i,t)}catch(t){x(`Module.instantiateWasm callback failed with error: ${t}`),e(t)}return R||=N("canvas_advanced.wasm")?"canvas_advanced.wasm":r.locateFile?r.locateFile("canvas_advanced.wasm",b):b+"canvas_advanced.wasm",function(t,i){var e=R;return w||"function"!=typeof WebAssembly.instantiateStreaming||N(e)||B(e)||"function"!=typeof fetch?V(e,t,i):fetch(e,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,t).then(i,(function(n){return x(`wasm streaming compile failed: ${n}`),x("falling back to ArrayBuffer instantiation"),V(e,t,i)}))))}(i,(function(i){t(i.instance)})).catch(e),{}}(),Ce=t=>(Ce=Me.free)(t),Oe=t=>(Oe=Me.malloc)(t),_e=t=>(_e=Me.__getTypeName)(t),Se=r._ma_device__on_notification_unlocked=t=>(Se=r._ma_device__on_notification_unlocked=Me.ma_device__on_notification_unlocked)(t);r._ma_malloc_emscripten=(t,i)=>(r._ma_malloc_emscripten=Me.ma_malloc_emscripten)(t,i),r._ma_free_emscripten=(t,i)=>(r._ma_free_emscripten=Me.ma_free_emscripten)(t,i);var Ie,Ee=r._ma_device_process_pcm_frames_capture__webaudio=(t,i,e)=>(Ee=r._ma_device_process_pcm_frames_capture__webaudio=Me.ma_device_process_pcm_frames_capture__webaudio)(t,i,e),Pe=r._ma_device_process_pcm_frames_playback__webaudio=(t,i,e)=>(Pe=r._ma_device_process_pcm_frames_playback__webaudio=Me.ma_device_process_pcm_frames_playback__webaudio)(t,i,e),Te=(t,i)=>(Te=Me.setThrew)(t,i),We=t=>(We=Me._emscripten_stack_restore)(t),De=()=>(De=Me.emscripten_stack_get_current)();function Le(){function t(){if(!Ie&&(Ie=!0,r.calledRun=!0,!I)){if(r.noFSInit||Wt||(Wt=!0,r.stdin=r.stdin,r.stdout=r.stdout,r.stderr=r.stderr,r.stdin?Xt("stdin",r.stdin):Bt("/dev/tty","/dev/stdin"),r.stdout?Xt("stdout",null,r.stdout):Bt("/dev/tty","/dev/stdout"),r.stderr?Xt("stderr",null,r.stderr):Bt("/dev/tty1","/dev/stderr"),Vt("/dev/stdin",0),Vt("/dev/stdout",1),Vt("/dev/stderr",1)),yt=!1,q(T),i(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;){var t=r.postRun.shift();W.unshift(t)}q(W)}}if(!(0<L)){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)D();q(P),0<L||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),t()}),1)):t())}}if(r.dynCall_iiji=(t,i,e,n,o)=>(r.dynCall_iiji=Me.dynCall_iiji)(t,i,e,n,o),r.dynCall_jiji=(t,i,e,n,o)=>(r.dynCall_jiji=Me.dynCall_jiji)(t,i,e,n,o),r.dynCall_iiiji=(t,i,e,n,o,s)=>(r.dynCall_iiiji=Me.dynCall_iiiji)(t,i,e,n,o,s),r.dynCall_iij=(t,i,e,n)=>(r.dynCall_iij=Me.dynCall_iij)(t,i,e,n),r.dynCall_jii=(t,i,e)=>(r.dynCall_jii=Me.dynCall_jii)(t,i,e),r.dynCall_viijii=(t,i,e,n,o,s,a)=>(r.dynCall_viijii=Me.dynCall_viijii)(t,i,e,n,o,s,a),r.dynCall_iiiiij=(t,i,e,n,o,s,a)=>(r.dynCall_iiiiij=Me.dynCall_iiiiij)(t,i,e,n,o,s,a),r.dynCall_iiiiijj=(t,i,e,n,o,s,a,h,l)=>(r.dynCall_iiiiijj=Me.dynCall_iiiiijj)(t,i,e,n,o,s,a,h,l),r.dynCall_iiiiiijj=(t,i,e,n,o,s,a,h,l,c)=>(r.dynCall_iiiiiijj=Me.dynCall_iiiiiijj)(t,i,e,n,o,s,a,h,l,c),z=function t(){Ie||Le(),Ie||(z=t)},r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return Le(),o});const o=r},t=>{t.exports=JSON.parse('{"name":"@rive-app/canvas","version":"2.34.3","description":"Rive\'s canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}')},(t,i,e)=>{e.r(i),e.d(i,{Animation:()=>n.Animation});var n=e(4)},(t,i,e)=>{e.r(i),e.d(i,{Animation:()=>n});var n=function(){function t(t,i,e,n){this.animation=t,this.artboard=i,this.playing=n,this.loopCount=0,this.scrubTo=null,this.instance=new e.LinearAnimationInstance(t,i)}return Object.defineProperty(t.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return this.instance.time},set:function(t){this.instance.time=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"needsScrub",{get:function(){return null!==this.scrubTo},enumerable:!1,configurable:!0}),t.prototype.advance=function(t){null===this.scrubTo?this.instance.advance(t):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},t.prototype.apply=function(t){this.instance.apply(t)},t.prototype.cleanup=function(){this.instance.delete()},t}()},(t,i,e)=>{e.r(i),e.d(i,{AudioAssetWrapper:()=>o.AudioAssetWrapper,AudioWrapper:()=>o.AudioWrapper,BLANK_URL:()=>r.BLANK_URL,CustomFileAssetLoaderWrapper:()=>o.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>o.FileAssetWrapper,FileFinalizer:()=>o.FileFinalizer,FontAssetWrapper:()=>o.FontAssetWrapper,FontWrapper:()=>o.FontWrapper,ImageAssetWrapper:()=>o.ImageAssetWrapper,ImageWrapper:()=>o.ImageWrapper,createFinalization:()=>o.createFinalization,finalizationRegistry:()=>o.finalizationRegistry,registerTouchInteractions:()=>n.registerTouchInteractions,sanitizeUrl:()=>r.sanitizeUrl});var n=e(6),r=e(7),o=e(8)},(t,i,e)=>{e.r(i),e.d(i,{registerTouchInteractions:()=>n});var n=function(t){var i=t.canvas,e=t.artboard,n=t.stateMachines,r=void 0===n?[]:n,o=t.rive,s=t.fit,a=t.alignment,h=t.isTouchScrollEnabled,l=void 0!==h&&h,c=t.dispatchPointerExit,u=void 0===c||c,d=t.enableMultiTouch,f=void 0!==d&&d,p=t.layoutScaleFactor,g=void 0===p?1:p;if(!(i&&r.length&&t.renderer&&o&&e&&"undefined"!=typeof window))return null;var m=null,v=!1,b=function(t){if(v&&t instanceof MouseEvent)"mouseup"==t.type&&(v=!1);else{v=l&&"touchend"===t.type&&"touchstart"===m,m=t.type;var i=t.currentTarget.getBoundingClientRect(),n=function(t,i,e){var n,r,o=[];if(["touchstart","touchmove"].indexOf(t.type)>-1&&(null===(n=t.changedTouches)||void 0===n?void 0:n.length)){i||t.preventDefault();for(var s=0,a=e?t.changedTouches.length:1;s<a;)o.push({clientX:(h=t.changedTouches[s]).clientX,clientY:h.clientY,identifier:h.identifier}),s++}else if("touchend"===t.type&&(null===(r=t.changedTouches)||void 0===r?void 0:r.length))for(s=0,a=e?t.changedTouches.length:1;s<a;){var h;o.push({clientX:(h=t.changedTouches[s]).clientX,clientY:h.clientY,identifier:h.identifier}),s++}else o.push({clientX:t.clientX,clientY:t.clientY,identifier:0});return o}(t,l,f),h=o.computeAlignment(s,a,{minX:0,minY:0,maxX:i.width,maxY:i.height},e.bounds,g),c=new o.Mat2D;switch(h.invert(c),n.forEach((function(t){var e=t.clientX,n=t.clientY;if(e||n){var r=new o.Vec2D(e-i.left,n-i.top),s=o.mapXY(c,r),a=s.x(),h=s.y();t.transformedX=a,t.transformedY=h,s.delete(),r.delete()}})),c.delete(),h.delete(),t.type){case"mouseout":for(var d=function(t){n.forEach(u?function(i){t.pointerExit(i.transformedX,i.transformedY,i.identifier)}:function(i){t.pointerMove(i.transformedX,i.transformedY,i.identifier)})},p=0,b=r;p<b.length;p++)d(b[p]);break;case"touchmove":case"mouseover":case"mousemove":for(var w=function(t){n.forEach((function(i){t.pointerMove(i.transformedX,i.transformedY,i.identifier)}))},y=0,x=r;y<x.length;y++)w(x[y]);break;case"touchstart":case"mousedown":for(var k=function(t){n.forEach((function(i){t.pointerDown(i.transformedX,i.transformedY,i.identifier)}))},A=0,$=r;A<$.length;A++)k($[A]);break;case"touchend":for(var j=function(t){n.forEach((function(i){t.pointerUp(i.transformedX,i.transformedY,i.identifier),t.pointerExit(i.transformedX,i.transformedY,i.identifier)}))},M=0,C=r;M<C.length;M++)j(C[M]);break;case"mouseup":for(var O=function(t){n.forEach((function(i){t.pointerUp(i.transformedX,i.transformedY,i.identifier)}))},_=0,S=r;_<S.length;_++)O(S[_])}}}.bind(void 0);return i.addEventListener("mouseover",b),i.addEventListener("mouseout",b),i.addEventListener("mousemove",b),i.addEventListener("mousedown",b),i.addEventListener("mouseup",b),i.addEventListener("touchmove",b,{passive:l}),i.addEventListener("touchstart",b,{passive:l}),i.addEventListener("touchend",b),function(){i.removeEventListener("mouseover",b),i.removeEventListener("mouseout",b),i.removeEventListener("mousemove",b),i.removeEventListener("mousedown",b),i.removeEventListener("mouseup",b),i.removeEventListener("touchmove",b),i.removeEventListener("touchstart",b),i.removeEventListener("touchend",b)}}},(t,i,e)=>{e.r(i),e.d(i,{BLANK_URL:()=>l,sanitizeUrl:()=>c});var n=/^([^\w]*)(javascript|data|vbscript)/im,r=/&#(\w+)(^\w|;)?/g,o=/&(newline|tab);/gi,s=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,a=/^.+(:|&colon;)/gim,h=[".","/"],l="about:blank";function c(t){if(!t)return l;var i,e=(i=t,i.replace(s,"").replace(r,(function(t,i){return String.fromCharCode(i)}))).replace(o,"").replace(s,"").trim();if(!e)return l;if(function(t){return h.indexOf(t[0])>-1}(e))return e;var c=e.match(a);return c&&n.test(c[0])?l:e}},(t,i,e)=>{e.r(i),e.d(i,{AudioAssetWrapper:()=>p,AudioWrapper:()=>l,CustomFileAssetLoaderWrapper:()=>u,FileAssetWrapper:()=>d,FileFinalizer:()=>o,FontAssetWrapper:()=>g,FontWrapper:()=>c,ImageAssetWrapper:()=>f,ImageWrapper:()=>h,createFinalization:()=>b,finalizationRegistry:()=>v});var n,r=(n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},n(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),o=function(){function t(t){this.selfUnref=!1,this._file=t}return t.prototype.unref=function(){this._file&&this._file.unref()},t}(),s=function(){function t(t){this._finalizableObject=t}return t.prototype.unref=function(){this._finalizableObject.unref()},t}(),a=function(){function t(){this.selfUnref=!1}return t.prototype.unref=function(){},t}(),h=function(t){function i(i){var e=t.call(this)||this;return e._nativeImage=i,e}return r(i,t),Object.defineProperty(i.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),i.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},i}(a),l=function(t){function i(i){var e=t.call(this)||this;return e._nativeAudio=i,e}return r(i,t),Object.defineProperty(i.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),i.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},i}(a),c=function(t){function i(i){var e=t.call(this)||this;return e._nativeFont=i,e}return r(i,t),Object.defineProperty(i.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),i.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},i}(a),u=function(){function t(t,i){this._assetLoaderCallback=i,this.assetLoader=new t.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return t.prototype.loadContents=function(t,i){var e;return t.isImage?e=new f(t):t.isAudio?e=new p(t):t.isFont&&(e=new g(t)),this._assetLoaderCallback(e,i)},t}(),d=function(){function t(t){this._nativeFileAsset=t}return t.prototype.decode=function(t){this._nativeFileAsset.decode(t)},Object.defineProperty(t.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),t}(),f=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return r(i,t),i.prototype.setRenderImage=function(t){this._nativeFileAsset.setRenderImage(t.nativeImage)},i}(d),p=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return r(i,t),i.prototype.setAudioSource=function(t){this._nativeFileAsset.setAudioSource(t.nativeAudio)},i}(d),g=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return r(i,t),i.prototype.setFont=function(t){this._nativeFileAsset.setFont(t.nativeFont)},i}(d),m=function(){function t(){}return t.prototype.register=function(t){t.selfUnref=!0},t.prototype.unregister=function(){},t}(),v=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:m)((function(t){null==t||t.unref()})),b=function(t,i){var e=new s(i);v.register(t,e)}}],i={};function e(n){var r=i[n];if(void 0!==r)return r.exports;var o=i[n]={exports:{}};return t[n](o,o.exports,e),o.exports}e.d=(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{e.r(n),e.d(n,{Alignment:()=>r,DataEnum:()=>F,DrawOptimizationOptions:()=>o,EventType:()=>x,Fit:()=>i,Layout:()=>v,LoopType:()=>k,Rive:()=>L,RiveEventType:()=>w,RiveFile:()=>D,RuntimeLoader:()=>b,StateMachineInput:()=>y,StateMachineInputType:()=>m,Testing:()=>Q,ViewModel:()=>z,ViewModelInstance:()=>R,ViewModelInstanceArtboard:()=>G,ViewModelInstanceAssetImage:()=>K,ViewModelInstanceBoolean:()=>V,ViewModelInstanceColor:()=>q,ViewModelInstanceEnum:()=>X,ViewModelInstanceList:()=>Y,ViewModelInstanceNumber:()=>H,ViewModelInstanceString:()=>B,ViewModelInstanceTrigger:()=>U,ViewModelInstanceValue:()=>N,decodeAudio:()=>tt,decodeFont:()=>et,decodeImage:()=>it});var t,i,r,o,s=e(1),a=e(2),h=e(3),l=e(5),c=(t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},t(i,e)},function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(){return u=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var r in i=arguments[e])Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t},u.apply(this,arguments)},d=function(t,i,e,n){return new(e||(e=Promise))((function(r,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var i;t.done?r(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(s,a)}h((n=n.apply(t,i||[])).next())}))},f=function(t,i){var e,n,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(h){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(e=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=i.call(t,o)}catch(t){a=[6,t],n=0}finally{e=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,h])}}},p=function(t,i,e){if(e||2===arguments.length)for(var n,r=0,o=i.length;r<o;r++)!n&&r in i||(n||(n=Array.prototype.slice.call(i,0,r)),n[r]=i[r]);return t.concat(n||Array.prototype.slice.call(i))},g=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.isHandledError=!0,i}return c(i,t),i}(Error);!function(t){t.Cover="cover",t.Contain="contain",t.Fill="fill",t.FitWidth="fitWidth",t.FitHeight="fitHeight",t.None="none",t.ScaleDown="scaleDown",t.Layout="layout"}(i||(i={})),function(t){t.Center="center",t.TopLeft="topLeft",t.TopCenter="topCenter",t.TopRight="topRight",t.CenterLeft="centerLeft",t.CenterRight="centerRight",t.BottomLeft="bottomLeft",t.BottomCenter="bottomCenter",t.BottomRight="bottomRight"}(r||(r={})),function(t){t.AlwaysDraw="alwaysDraw",t.DrawOnChanged="drawOnChanged"}(o||(o={}));var m,v=function(){function t(t){var e,n,o,s,a,h,l;this.fit=null!==(e=null==t?void 0:t.fit)&&void 0!==e?e:i.Contain,this.alignment=null!==(n=null==t?void 0:t.alignment)&&void 0!==n?n:r.Center,this.layoutScaleFactor=null!==(o=null==t?void 0:t.layoutScaleFactor)&&void 0!==o?o:1,this.minX=null!==(s=null==t?void 0:t.minX)&&void 0!==s?s:0,this.minY=null!==(a=null==t?void 0:t.minY)&&void 0!==a?a:0,this.maxX=null!==(h=null==t?void 0:t.maxX)&&void 0!==h?h:0,this.maxY=null!==(l=null==t?void 0:t.maxY)&&void 0!==l?l:0}return t.new=function(i){var e=i.fit,n=i.alignment,r=i.minX,o=i.minY,s=i.maxX,a=i.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new t({fit:e,alignment:n,minX:r,minY:o,maxX:s,maxY:a})},t.prototype.copyWith=function(i){var e=i.fit,n=i.alignment,r=i.layoutScaleFactor,o=i.minX,s=i.minY,a=i.maxX,h=i.maxY;return new t({fit:null!=e?e:this.fit,alignment:null!=n?n:this.alignment,layoutScaleFactor:null!=r?r:this.layoutScaleFactor,minX:null!=o?o:this.minX,minY:null!=s?s:this.minY,maxX:null!=a?a:this.maxX,maxY:null!=h?h:this.maxY})},t.prototype.runtimeFit=function(t){return this.cachedRuntimeFit?this.cachedRuntimeFit:(this.cachedRuntimeFit=e=this.fit===i.Cover?t.Fit.cover:this.fit===i.Contain?t.Fit.contain:this.fit===i.Fill?t.Fit.fill:this.fit===i.FitWidth?t.Fit.fitWidth:this.fit===i.FitHeight?t.Fit.fitHeight:this.fit===i.ScaleDown?t.Fit.scaleDown:this.fit===i.Layout?t.Fit.layout:t.Fit.none,e);var e},t.prototype.runtimeAlignment=function(t){return this.cachedRuntimeAlignment?this.cachedRuntimeAlignment:(this.cachedRuntimeAlignment=i=this.alignment===r.TopLeft?t.Alignment.topLeft:this.alignment===r.TopCenter?t.Alignment.topCenter:this.alignment===r.TopRight?t.Alignment.topRight:this.alignment===r.CenterLeft?t.Alignment.centerLeft:this.alignment===r.CenterRight?t.Alignment.centerRight:this.alignment===r.BottomLeft?t.Alignment.bottomLeft:this.alignment===r.BottomCenter?t.Alignment.bottomCenter:this.alignment===r.BottomRight?t.Alignment.bottomRight:t.Alignment.center,i);var i},t}(),b=function(){function t(){}return t.loadRuntime=function(){s.default({locateFile:function(){return t.wasmURL}}).then((function(i){var e;for(t.runtime=i;t.callBackQueue.length>0;)null===(e=t.callBackQueue.shift())||void 0===e||e(t.runtime)})).catch((function(i){var e={message:(null==i?void 0:i.message)||"Unknown error",type:(null==i?void 0:i.name)||"Error",wasmError:i instanceof WebAssembly.CompileError||i instanceof WebAssembly.RuntimeError,originalError:i};console.debug("Rive WASM load error details:",e);var n="https://cdn.jsdelivr.net/npm/".concat(a.name,"@").concat(a.version,"/rive_fallback.wasm");if(t.wasmURL.toLowerCase()!==n)console.warn("Failed to load WASM from ".concat(t.wasmURL," (").concat(e.message,"), trying jsdelivr as a backup")),t.setWasmUrl(n),t.loadRuntime();else{var r=["Could not load Rive WASM file from ".concat(t.wasmURL," or ").concat(n,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible","\nError details:","- Type: ".concat(e.type),"- Message: ".concat(e.message),"- WebAssembly-specific error: ".concat(e.wasmError),"\nTo resolve, you may need to:","1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join("\n");console.error(r)}}))},t.getInstance=function(i){t.isLoading||(t.isLoading=!0,t.loadRuntime()),t.runtime?i(t.runtime):t.callBackQueue.push(i)},t.awaitInstance=function(){return new Promise((function(i){return t.getInstance((function(t){return i(t)}))}))},t.setWasmUrl=function(i){t.wasmURL=i},t.getWasmUrl=function(){return t.wasmURL},t.isLoading=!1,t.callBackQueue=[],t.wasmURL="https://unpkg.com/".concat(a.name,"@").concat(a.version,"/rive.wasm"),t}();!function(t){t[t.Number=56]="Number",t[t.Trigger=58]="Trigger",t[t.Boolean=59]="Boolean"}(m||(m={}));var w,y=function(){function t(t,i){this.type=t,this.runtimeInput=i}return Object.defineProperty(t.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(t){this.runtimeInput.value=t},enumerable:!1,configurable:!0}),t.prototype.fire=function(){this.type===m.Trigger&&this.runtimeInput.fire()},t.prototype.delete=function(){this.runtimeInput=null},t}();!function(t){t[t.General=128]="General",t[t.OpenUrl=131]="OpenUrl"}(w||(w={}));var x,k,A=function(t){this.isBindableArtboard=!1,this.isBindableArtboard=t},$=function(t){function i(i,e){var n=t.call(this,!1)||this;return n.nativeArtboard=i,n.file=e,n}return c(i,t),i}(A),j=function(t){function i(i){var e=t.call(this,!0)||this;return e.selfUnref=!1,e.nativeArtboard=i,e}return c(i,t),Object.defineProperty(i.prototype,"viewModel",{set:function(t){this.nativeViewModel=t.nativeInstance},enumerable:!1,configurable:!0}),i.prototype.destroy=function(){var t;this.selfUnref&&(this.nativeArtboard.unref(),null===(t=this.nativeViewModel)||void 0===t||t.unref())},i}(A),M=function(){function t(t,i,e,n){this.stateMachine=t,this.playing=e,this.artboard=n,this.inputs=[],this.instance=new i.StateMachineInstance(t,n),this.initInputs(i)}return Object.defineProperty(t.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statesChanged",{get:function(){for(var t=[],i=0;i<this.instance.stateChangedCount();i++)t.push(this.instance.stateChangedNameByIndex(i));return t},enumerable:!1,configurable:!0}),t.prototype.advance=function(t){this.instance.advance(t)},t.prototype.advanceAndApply=function(t){this.instance.advanceAndApply(t)},t.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},t.prototype.reportedEventAt=function(t){return this.instance.reportedEventAt(t)},t.prototype.initInputs=function(t){for(var i=0;i<this.instance.inputCount();i++){var e=this.instance.input(i);this.inputs.push(this.mapRuntimeInput(e,t))}},t.prototype.mapRuntimeInput=function(t,i){return t.type===i.SMIInput.bool?new y(m.Boolean,t.asBool()):t.type===i.SMIInput.number?new y(m.Number,t.asNumber()):t.type===i.SMIInput.trigger?new y(m.Trigger,t.asTrigger()):void 0},t.prototype.cleanup=function(){this.inputs.forEach((function(t){t.delete()})),this.inputs.length=0,this.instance.delete()},t.prototype.bindViewModelInstance=function(t){null!=t.runtimeInstance&&this.instance.bindViewModelInstance(t.runtimeInstance)},t}(),C=function(){function t(t,i,e,n,r){void 0===n&&(n=[]),void 0===r&&(r=[]),this.runtime=t,this.artboard=i,this.eventManager=e,this.animations=n,this.stateMachines=r}return t.prototype.add=function(t,i,e){if(void 0===e&&(e=!0),0===(t=Z(t)).length)this.animations.forEach((function(t){return t.playing=i})),this.stateMachines.forEach((function(t){return t.playing=i}));else for(var n=this.animations.map((function(t){return t.name})),r=this.stateMachines.map((function(t){return t.name})),o=0;o<t.length;o++){var s=n.indexOf(t[o]),a=r.indexOf(t[o]);if(s>=0||a>=0)s>=0?this.animations[s].playing=i:this.stateMachines[a].playing=i;else{var l=this.artboard.animationByName(t[o]);if(l){var c=new h.Animation(l,this.artboard,this.runtime,i);c.advance(0),c.apply(1),this.animations.push(c)}else{var u=this.artboard.stateMachineByName(t[o]);if(u){var d=new M(u,this.runtime,i,this.artboard);this.stateMachines.push(d)}}}}return e&&this.eventManager.fire(i?{type:x.Play,data:this.playing}:{type:x.Pause,data:this.paused}),i?this.playing:this.paused},t.prototype.initLinearAnimations=function(t,i){for(var e=this.animations.map((function(t){return t.name})),n=0;n<t.length;n++){var r=e.indexOf(t[n]);if(r>=0)this.animations[r].playing=i;else{var o=this.artboard.animationByName(t[n]);if(o){var s=new h.Animation(o,this.artboard,this.runtime,i);s.advance(0),s.apply(1),this.animations.push(s)}else console.error("Animation with name ".concat(t[n]," not found."))}}},t.prototype.initStateMachines=function(t,i){for(var e=this.stateMachines.map((function(t){return t.name})),n=0;n<t.length;n++){var r=e.indexOf(t[n]);if(r>=0)this.stateMachines[r].playing=i;else{var o=this.artboard.stateMachineByName(t[n]);if(o){var s=new M(o,this.runtime,i,this.artboard);this.stateMachines.push(s)}else console.warn("State Machine with name ".concat(t[n]," not found.")),this.initLinearAnimations([t[n]],i)}}},t.prototype.play=function(t){return this.add(t,!0)},t.prototype.advanceIfPaused=function(){this.stateMachines.forEach((function(t){t.playing||t.advanceAndApply(0)}))},t.prototype.pause=function(t){return this.add(t,!1)},t.prototype.scrub=function(t,i){var e=this.animations.filter((function(i){return t.includes(i.name)}));return e.forEach((function(t){return t.scrubTo=i})),e.map((function(t){return t.name}))},Object.defineProperty(t.prototype,"playing",{get:function(){return this.animations.filter((function(t){return t.playing})).map((function(t){return t.name})).concat(this.stateMachines.filter((function(t){return t.playing})).map((function(t){return t.name})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this.animations.filter((function(t){return!t.playing})).map((function(t){return t.name})).concat(this.stateMachines.filter((function(t){return!t.playing})).map((function(t){return t.name})))},enumerable:!1,configurable:!0}),t.prototype.stop=function(t){var i=this,e=[];if(0===(t=Z(t)).length)e=this.animations.map((function(t){return t.name})).concat(this.stateMachines.map((function(t){return t.name}))),this.animations.forEach((function(t){return t.cleanup()})),this.stateMachines.forEach((function(t){return t.cleanup()})),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var n=this.animations.filter((function(i){return t.includes(i.name)}));n.forEach((function(t){t.cleanup(),i.animations.splice(i.animations.indexOf(t),1)}));var r=this.stateMachines.filter((function(i){return t.includes(i.name)}));r.forEach((function(t){t.cleanup(),i.stateMachines.splice(i.stateMachines.indexOf(t),1)})),e=n.map((function(t){return t.name})).concat(r.map((function(t){return t.name})))}return this.eventManager.fire({type:x.Stop,data:e}),e},Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.animations.reduce((function(t,i){return t||i.playing}),!1)||this.stateMachines.reduce((function(t,i){return t||i.playing}),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStopped",{get:function(){return 0===this.animations.length&&0===this.stateMachines.length},enumerable:!1,configurable:!0}),t.prototype.atLeastOne=function(t,i){var e;return void 0===i&&(i=!0),0===this.animations.length&&0===this.stateMachines.length&&(this.artboard.animationCount()>0?this.add([e=this.artboard.animationByIndex(0).name],t,i):this.artboard.stateMachineCount()>0&&this.add([e=this.artboard.stateMachineByIndex(0).name],t,i)),e},t.prototype.handleLooping=function(){for(var t=0,i=this.animations.filter((function(t){return t.playing}));t<i.length;t++){var e=i[t];0===e.loopValue&&e.loopCount?(e.loopCount=0,this.stop(e.name)):1===e.loopValue&&e.loopCount?(this.eventManager.fire({type:x.Loop,data:{animation:e.name,type:k.Loop}}),e.loopCount=0):2===e.loopValue&&e.loopCount>1&&(this.eventManager.fire({type:x.Loop,data:{animation:e.name,type:k.PingPong}}),e.loopCount=0)}},t.prototype.handleStateChanges=function(){for(var t=[],i=0,e=this.stateMachines.filter((function(t){return t.playing}));i<e.length;i++)t.push.apply(t,e[i].statesChanged);t.length>0&&this.eventManager.fire({type:x.StateChange,data:t})},t.prototype.handleAdvancing=function(t){this.eventManager.fire({type:x.Advance,data:t})},t}();!function(t){t.Load="load",t.LoadError="loaderror",t.Play="play",t.Pause="pause",t.Stop="stop",t.Loop="loop",t.Draw="draw",t.Advance="advance",t.StateChange="statechange",t.RiveEvent="riveevent",t.AudioStatusChange="audiostatuschange"}(x||(x={})),function(t){t.OneShot="oneshot",t.Loop="loop",t.PingPong="pingpong"}(k||(k={}));var O,_=function(){function t(t){void 0===t&&(t=[]),this.listeners=t}return t.prototype.getListeners=function(t){return this.listeners.filter((function(i){return i.type===t}))},t.prototype.add=function(t){this.listeners.includes(t)||this.listeners.push(t)},t.prototype.remove=function(t){for(var i=0;i<this.listeners.length;i++){var e=this.listeners[i];if(e.type===t.type&&e.callback===t.callback){this.listeners.splice(i,1);break}}},t.prototype.removeAll=function(t){var i=this;t?this.listeners.filter((function(i){return i.type===t})).forEach((function(t){return i.remove(t)})):this.listeners.splice(0,this.listeners.length)},t.prototype.fire=function(t){this.getListeners(t.type).forEach((function(i){return i.callback(t)}))},t}(),S=function(){function t(t){this.eventManager=t,this.queue=[]}return t.prototype.add=function(t){this.queue.push(t)},t.prototype.process=function(){for(;this.queue.length>0;){var t=this.queue.shift();(null==t?void 0:t.action)&&t.action(),(null==t?void 0:t.event)&&this.eventManager.fire(t.event)}},t}();!function(t){t[t.AVAILABLE=0]="AVAILABLE",t[t.UNAVAILABLE=1]="UNAVAILABLE"}(O||(O={}));var I,E=new(function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i._started=!1,i._enabled=!1,i._status=O.UNAVAILABLE,i}return c(i,t),i.prototype.delay=function(t){return d(this,void 0,void 0,(function(){return f(this,(function(){return[2,new Promise((function(i){return setTimeout(i,t)}))]}))}))},i.prototype.timeout=function(){return d(this,void 0,void 0,(function(){return f(this,(function(){return[2,new Promise((function(t,i){return setTimeout(i,50)}))]}))}))},i.prototype.reportToListeners=function(){this.fire({type:x.AudioStatusChange}),this.removeAll()},i.prototype.enableAudio=function(){return d(this,void 0,void 0,(function(){return f(this,(function(){return this._enabled||(this._enabled=!0,this._status=O.AVAILABLE,this.reportToListeners()),[2]}))}))},i.prototype.testAudio=function(){return d(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:if(this._status!==O.UNAVAILABLE||null===this._audioContext)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return t.sent(),this.enableAudio(),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}}))}))},i.prototype._establishAudio=function(){return d(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return this._started?[3,5]:(this._started=!0,"undefined"!=typeof window?[3,1]:(this.enableAudio(),[3,5]));case 1:this._audioContext=new AudioContext,this.listenForUserAction(),t.label=2;case 2:return this._status!==O.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return t.sent(),[4,this.delay(1e3)];case 4:return t.sent(),[3,2];case 5:return[2]}}))}))},i.prototype.listenForUserAction=function(){var t=this;document.addEventListener("pointerdown",(function(){return d(t,void 0,void 0,(function(){return f(this,(function(){return this.enableAudio(),[2]}))}))}),{once:!0})},i.prototype.establishAudio=function(){return d(this,void 0,void 0,(function(){return f(this,(function(){return this._establishAudio(),[2]}))}))},Object.defineProperty(i.prototype,"systemVolume",{get:function(){return this._status===O.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),i}(_)),P=function(){function t(){}return t.prototype.observe=function(){},t.prototype.unobserve=function(){},t.prototype.disconnect=function(){},t}(),T=globalThis.ResizeObserver||P,W=new(function(){function t(){var t=this;this._elementsMap=new Map,this._onObservedEntry=function(i){var e=t._elementsMap.get(i.target);null!==e?e.onResize(0==i.target.clientWidth||0==i.target.clientHeight):t._resizeObserver.unobserve(i.target)},this._onObserved=function(i){i.forEach(t._onObservedEntry)},this._resizeObserver=new T(this._onObserved)}return t.prototype.add=function(t,i){var e={onResize:i,element:t};return this._elementsMap.set(t,e),this._resizeObserver.observe(t),e},t.prototype.remove=function(t){this._resizeObserver.unobserve(t.element),this._elementsMap.delete(t.element)},t}()),D=function(){function t(t){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=t.src,this.buffer=t.buffer,t.assetLoader&&(this.assetLoader=t.assetLoader),this.enableRiveAssetCDN="boolean"!=typeof t.enableRiveAssetCDN||t.enableRiveAssetCDN,this.eventManager=new _,t.onLoad&&this.on(x.Load,t.onLoad),t.onLoadError&&this.on(x.LoadError,t.onLoadError)}return t.prototype.releaseFile=function(){var t;this.selfUnref&&(null===(t=this.file)||void 0===t||t.unref()),this.file=null},t.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach((function(t){return t.destroy()}))},t.prototype.initData=function(){return d(this,void 0,void 0,(function(){var i,e,n,r,o;return f(this,(function(s){switch(s.label){case 0:return this.src?(i=this,[4,J(this.src)]):[3,2];case 1:i.buffer=s.sent(),s.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(n=new l.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),e=n.assetLoader),r=this,[4,this.runtime.load(new Uint8Array(this.buffer),e,this.enableRiveAssetCDN)]);case 3:return r.file=s.sent(),o=new l.FileFinalizer(this.file),l.finalizationRegistry.register(this,o),this.destroyed?(this.releaseFile(),[2]):(null!==this.file?this.eventManager.fire({type:x.Load,data:this}):this.fireLoadError(t.fileLoadErrorMessage),[2])}}))}))},t.prototype.init=function(){return d(this,void 0,void 0,(function(){var i,e;return f(this,(function(n){switch(n.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(t.missingErrorMessage),[2];n.label=1;case 1:return n.trys.push([1,4,,5]),i=this,[4,b.awaitInstance()];case 2:return i.runtime=n.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return n.sent(),[3,5];case 4:return e=n.sent(),this.fireLoadError(e instanceof Error?e.message:t.fileLoadErrorMessage),[3,5];case 5:return[2]}}))}))},t.prototype.fireLoadError=function(t){throw this.eventManager.fire({type:x.LoadError,data:t}),new Error(t)},t.prototype.on=function(t,i){this.eventManager.add({type:t,callback:i})},t.prototype.off=function(t,i){this.eventManager.remove({type:t,callback:i})},t.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},t.prototype.removeAllRiveEventListeners=function(t){this.eventManager.removeAll(t)},t.prototype.getInstance=function(){if(null!==this.file)return this.referenceCount+=1,this.file},t.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},t.prototype.createBindableArtboard=function(t){if(null!=t){var i=new j(t);return(0,l.createFinalization)(i,i.nativeArtboard),this.bindableArtboards.push(i),i}return null},t.prototype.getArtboard=function(t){var i=this.file.artboardByName(t);if(null!=i)return new $(i,this)},t.prototype.getBindableArtboard=function(t){var i=this.file.bindableArtboardByName(t);return this.createBindableArtboard(i)},t.prototype.getDefaultBindableArtboard=function(){var t=this.file.bindableArtboardDefault();return this.createBindableArtboard(t)},t.prototype.internalBindableArtboardFromArtboard=function(t){var i=this.file.internalBindableArtboardFromArtboard(t);return this.createBindableArtboard(i)},t.prototype.viewModelByName=function(t){var i=this.file.viewModelByName(t);return null!==i?new z(i):null},t.missingErrorMessage="Rive source file or data buffer required",t.fileLoadErrorMessage="The file failed to load",t}(),L=function(){function t(t){var i,e,n=this;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._needsRedraw=!1,this._currentCanvasWidth=0,this._currentCanvasHeight=0,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.drawOptimization=o.DrawOnChanged,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(t){var i=n._hasZeroSize!==t;n._hasZeroSize=t,t?n._layout.maxX&&n._layout.maxY||n.resizeToCanvas():i&&n.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=t.canvas,t.canvas.constructor===HTMLCanvasElement&&(this._observed=W.add(this.canvas,this.onCanvasResize)),this._currentCanvasWidth=this.canvas.width,this._currentCanvasHeight=this.canvas.height,this.src=t.src,this.buffer=t.buffer,this.riveFile=t.riveFile,this.layout=null!==(i=t.layout)&&void 0!==i?i:new v,this.shouldDisableRiveListeners=!!t.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!t.isTouchScrollEnabled,this.automaticallyHandleEvents=!!t.automaticallyHandleEvents,this.dispatchPointerExit=!1===t.dispatchPointerExit?t.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!t.enableMultiTouch,this.drawOptimization=null!==(e=t.drawingOptions)&&void 0!==e?e:this.drawOptimization,this.enableRiveAssetCDN=void 0===t.enableRiveAssetCDN||t.enableRiveAssetCDN,this.eventManager=new _,t.onLoad&&this.on(x.Load,t.onLoad),t.onLoadError&&this.on(x.LoadError,t.onLoadError),t.onPlay&&this.on(x.Play,t.onPlay),t.onPause&&this.on(x.Pause,t.onPause),t.onStop&&this.on(x.Stop,t.onStop),t.onLoop&&this.on(x.Loop,t.onLoop),t.onStateChange&&this.on(x.StateChange,t.onStateChange),t.onAdvance&&this.on(x.Advance,t.onAdvance),t.onload&&!t.onLoad&&this.on(x.Load,t.onload),t.onloaderror&&!t.onLoadError&&this.on(x.LoadError,t.onloaderror),t.onplay&&!t.onPlay&&this.on(x.Play,t.onplay),t.onpause&&!t.onPause&&this.on(x.Pause,t.onpause),t.onstop&&!t.onStop&&this.on(x.Stop,t.onstop),t.onloop&&!t.onLoop&&this.on(x.Loop,t.onloop),t.onstatechange&&!t.onStateChange&&this.on(x.StateChange,t.onstatechange),t.assetLoader&&(this.assetLoader=t.assetLoader),this.taskQueue=new S(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:t.autoplay,autoBind:t.autoBind,animations:t.animations,stateMachines:t.stateMachines,artboard:t.artboard,useOffscreenRenderer:t.useOffscreenRenderer})}return Object.defineProperty(t.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),t.new=function(i){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new t(i)},t.prototype.onSystemAudioChanged=function(){this.volume=this._volume},t.prototype.init=function(i){var e=this,n=i.buffer,r=i.riveFile,o=i.animations,s=i.stateMachines,a=i.artboard,h=i.autoplay,l=void 0!==h&&h,c=i.useOffscreenRenderer,u=void 0!==c&&c,d=i.autoBind,f=void 0!==d&&d;if(!this.destroyed){if(this.src=i.src,this.buffer=n,this.riveFile=r,!this.src&&!this.buffer&&!this.riveFile)throw new g(t.missingErrorMessage);var p=Z(o),m=Z(s);this.loaded=!1,this.readyForPlaying=!1,b.awaitInstance().then((function(t){e.destroyed||(e.runtime=t,e.removeRiveListeners(),e.deleteRiveRenderer(),e.renderer=e.runtime.makeRenderer(e.canvas,u),e.canvas.width||e.canvas.height||e.resizeDrawingSurfaceToCanvas(),e.initData(a,p,m,l,f).then((function(t){if(t)return e.setupRiveListeners()})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))}},t.prototype.setupRiveListeners=function(t){var i=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var e=(this.animator.stateMachines||[]).filter((function(t){return t.playing&&i.runtime.hasListeners(t.instance)})).map((function(t){return t.instance})),n=this.isTouchScrollEnabled,r=this.dispatchPointerExit,o=this.enableMultiTouch;t&&"isTouchScrollEnabled"in t&&(n=t.isTouchScrollEnabled),this.eventCleanup=(0,l.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:e,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:n,dispatchPointerExit:r,enableMultiTouch:o,layoutScaleFactor:this._layout.layoutScaleFactor})}},t.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},t.prototype.initializeAudio=function(){var t,i=this;E.status==O.UNAVAILABLE&&(null===(t=this.artboard)||void 0===t?void 0:t.hasAudio)&&null===this._audioEventListener&&(this._audioEventListener={type:x.AudioStatusChange,callback:function(){return i.onSystemAudioChanged()}},E.add(this._audioEventListener),E.establishAudio())},t.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},t.prototype.initData=function(t,i,e,n,r){return d(this,void 0,void 0,(function(){var o,s,a,h;return f(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),null!=this.riveFile?[3,2]:(o=new D({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=o,[4,o.init()]);case 1:if(l.sent(),this.destroyed)return o.destroyIfUnused(),[2,!1];l.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(t,i,e,n,r),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:x.Load,data:null!==(h=this.src)&&void 0!==h?h:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return s=l.sent(),a=(c=s)&&c.isHandledError?c.message:"Problem loading file; may be corrupt!",console.warn(a),this.eventManager.fire({type:x.LoadError,data:a}),[2,Promise.reject(a)];case 4:return[2]}var c}))}))},t.prototype.initArtboard=function(t,i,e,n,r){if(this.file){var o,s=t?this.file.artboardByName(t):this.file.defaultArtboard();if(!s){var a="Invalid artboard name or no default artboard";return console.warn(a),void this.eventManager.fire({type:x.LoadError,data:a})}if(this.artboard=s,s.volume=this._volume*E.systemVolume,this.animator=new C(this.runtime,this.artboard,this.eventManager),i.length>0||e.length>0?(o=i.concat(e),this.animator.initLinearAnimations(i,n),this.animator.initStateMachines(e,n)):o=[this.animator.atLeastOne(n,!1)],this.taskQueue.add({event:{type:n?x.Play:x.Pause,data:o}}),r){var h=this.file.defaultArtboardViewModel(s);if(null!==h){var c=h.defaultInstance();if(null!==c){var u=new R(c,null);(0,l.createFinalization)(u,u.runtimeInstance),this.bindViewModelInstance(u)}}}}},t.prototype.drawFrame=function(){var t,i;(null===(t=null===document||void 0===document?void 0:document.timeline)||void 0===t?void 0:t.currentTime)?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),null===(i=this.runtime)||void 0===i||i.resolveAnimationFrame()):this.scheduleRendering()},t.prototype._canvasSizeChanged=function(){var t=!1;return this.canvas&&(this.canvas.width!==this._currentCanvasWidth&&(this._currentCanvasWidth=this.canvas.width,t=!0),this.canvas.height!==this._currentCanvasHeight&&(this._currentCanvasHeight=this.canvas.height,t=!0)),t},t.prototype.draw=function(t,i){var e;this.frameRequestId=null;var n=performance.now();this.lastRenderTime||(this.lastRenderTime=t),this.renderSecondTimer+=t-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,null==i||i());var r=(t-this.lastRenderTime)/1e3;this.lastRenderTime=t;for(var s=0,a=this.animator.animations.filter((function(t){return t.playing||t.needsScrub})).sort((function(t){return t.needsScrub?-1:1}));s<a.length;s++){var h=a[s];h.advance(r),h.instance.didLoop&&(h.loopCount+=1),h.apply(1)}for(var c=0,u=this.animator.stateMachines.filter((function(t){return t.playing}));c<u.length;c++){var d=u[c],f=d.reportedEventCount();if(f)for(var p=0;p<f;p++){var g=d.reportedEventAt(p);if(g)if(g.type===w.OpenUrl){if(this.eventManager.fire({type:x.RiveEvent,data:g}),this.automaticallyHandleEvents){var m=document.createElement("a"),v=g.url,b=g.target,y=(0,l.sanitizeUrl)(v);v&&m.setAttribute("href",y),b&&m.setAttribute("target",b),y&&y!==l.BLANK_URL&&m.click()}}else this.eventManager.fire({type:x.RiveEvent,data:g})}d.advanceAndApply(r)}0==this.animator.stateMachines.length&&this.artboard.advance(r);var k=this.renderer;this._hasZeroSize||(this.drawOptimization==o.AlwaysDraw||this.artboard.didChange()||this._needsRedraw||this._canvasSizeChanged())&&(k.clear(),k.save(),this.alignRenderer(),this.artboard.draw(k),k.restore(),k.flush(),this._needsRedraw=!1),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(r),this.frameCount++;var A=performance.now();for(this.frameTimes.push(A),this.durations.push(A-n);this.frameTimes[0]<=A-1e3;)this.frameTimes.shift(),this.durations.shift();null===(e=this._viewModelInstance)||void 0===e||e.handleCallbacks(),this.animator.isPlaying?this.scheduleRendering():(this.animator.isPaused||this.animator.isStopped)&&(this.lastRenderTime=0)},t.prototype.alignRenderer=function(){var t=this,i=t.runtime,e=t._layout,n=t.artboard;t.renderer.align(e.runtimeFit(i),e.runtimeAlignment(i),{minX:e.minX,minY:e.minY,maxX:e.maxX,maxY:e.maxY},n.bounds,this._devicePixelRatioUsed*e.layoutScaleFactor)},Object.defineProperty(t.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frameTime",{get:function(){return 0===this.durations.length?0:(this.durations.reduce((function(t,i){return t+i}),0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),t.prototype.cleanup=function(){var t,i;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),null!==this._observed&&W.remove(this._observed),this.removeRiveListeners(),this.file&&(null===(t=this.riveFile)||void 0===t||t.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),null!==this._audioEventListener&&(E.remove(this._audioEventListener),this._audioEventListener=null),null===(i=this._viewModelInstance)||void 0===i||i.cleanup(),this._viewModelInstance=null,this._dataEnums=null},t.prototype.deleteRiveRenderer=function(){var t;null===(t=this.renderer)||void 0===t||t.delete(),this.renderer=null},t.prototype.cleanupInstances=function(){null!==this.eventCleanup&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},t.prototype.retrieveTextRun=function(t){var i;if(t)if(this.artboard){var e=this.artboard.textRun(t);if(e)return e;console.warn("Could not access a text run with name '".concat(t,"' in the '").concat(null===(i=this.artboard)||void 0===i?void 0:i.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."))}else console.warn("Tried to access text run, but the Artboard is null");else console.warn("No text run name provided")},t.prototype.getTextRunValue=function(t){var i=this.retrieveTextRun(t);return i?i.text:void 0},t.prototype.setTextRunValue=function(t,i){var e=this.retrieveTextRun(t);e&&(e.text=i)},t.prototype.play=function(t,i){var e=this;t=Z(t),this.readyForPlaying?(this.animator.play(t),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()):this.taskQueue.add({action:function(){return e.play(t,i)}})},t.prototype.pause=function(t){var i=this;t=Z(t),this.readyForPlaying?(this.eventCleanup&&this.eventCleanup(),this.animator.pause(t)):this.taskQueue.add({action:function(){return i.pause(t)}})},t.prototype.scrub=function(t,i){var e=this;t=Z(t),this.readyForPlaying?(this.animator.scrub(t,i||0),this.drawFrame()):this.taskQueue.add({action:function(){return e.scrub(t,i)}})},t.prototype.stop=function(t){var i=this;t=Z(t),this.readyForPlaying?(this.animator&&this.animator.stop(t),this.eventCleanup&&this.eventCleanup()):this.taskQueue.add({action:function(){return i.stop(t)}})},t.prototype.reset=function(t){var i,e,n=null==t?void 0:t.artboard,r=Z(null==t?void 0:t.animations),o=Z(null==t?void 0:t.stateMachines),s=null!==(i=null==t?void 0:t.autoplay)&&void 0!==i&&i,a=null!==(e=null==t?void 0:t.autoBind)&&void 0!==e&&e;this.cleanupInstances(),this.initArtboard(n,r,o,s,a),this.taskQueue.process()},t.prototype.load=function(t){this.file=null,this.stop(),this.init(t)},Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},set:function(t){this._layout=t,t.maxX&&t.maxY||this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),t.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},t.prototype.resizeDrawingSurfaceToCanvas=function(t){if(this.canvas instanceof HTMLCanvasElement&&window){var e=this.canvas.getBoundingClientRect(),n=e.width,r=e.height,o=t||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=o,this.canvas.width=o*n,this.canvas.height=o*r,this._needsRedraw=!0,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===i.Layout){var s=this._layout.layoutScaleFactor;this.artboard.width=n/s,this.artboard.height=r/s}}},Object.defineProperty(t.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var t=[],i=0;i<this.artboard.animationCount();i++)t.push(this.artboard.animationByIndex(i).name);return t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var t=[],i=0;i<this.artboard.stateMachineCount();i++)t.push(this.artboard.stateMachineByIndex(i).name);return t},enumerable:!1,configurable:!0}),t.prototype.stateMachineInputs=function(t){if(this.loaded){var i=this.animator.stateMachines.find((function(i){return i.name===t}));return null==i?void 0:i.inputs}},t.prototype.retrieveInputAtPath=function(t,i){if(t)if(this.artboard){var e=this.artboard.inputByPath(t,i);if(e)return e;console.warn("Could not access an input with name: '".concat(t,"', at path:'").concat(i,"'"))}else console.warn("Tried to access input: '".concat(t,"', at path: '").concat(i,"', but the Artboard is null"));else console.warn("No input name provided for path '".concat(i,"'"))},t.prototype.setBooleanStateAtPath=function(t,i,e){var n=this.retrieveInputAtPath(t,e);n&&(n.type===m.Boolean?n.asBool().value=i:console.warn("Input with name: '".concat(t,"', at path:'").concat(e,"' is not a boolean")))},t.prototype.setNumberStateAtPath=function(t,i,e){var n=this.retrieveInputAtPath(t,e);n&&(n.type===m.Number?n.asNumber().value=i:console.warn("Input with name: '".concat(t,"', at path:'").concat(e,"' is not a number")))},t.prototype.fireStateAtPath=function(t,i){var e=this.retrieveInputAtPath(t,i);e&&(e.type===m.Trigger?e.asTrigger().fire():console.warn("Input with name: '".concat(t,"', at path:'").concat(i,"' is not a trigger")))},t.prototype.retrieveTextAtPath=function(t,i){if(t)if(i)if(this.artboard){var e=this.artboard.textByPath(t,i);if(e)return e;console.warn("Could not access text with name: '".concat(t,"', at path:'").concat(i,"'"))}else console.warn("Tried to access text: '".concat(t,"', at path: '").concat(i,"', but the Artboard is null"));else console.warn("No path provided for text '".concat(t,"'"));else console.warn("No text name provided for path '".concat(i,"'"))},t.prototype.getTextRunValueAtPath=function(t,i){var e=this.retrieveTextAtPath(t,i);if(e)return e.text;console.warn("Could not get text with name: '".concat(t,"', at path:'").concat(i,"'"))},t.prototype.setTextRunValueAtPath=function(t,i,e){var n=this.retrieveTextAtPath(t,e);n?n.text=i:console.warn("Could not set text with name: '".concat(t,"', at path:'").concat(e,"'"))},Object.defineProperty(t.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter((function(t){return t.playing})).map((function(t){return t.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter((function(t){return t.playing})).map((function(t){return t.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter((function(t){return!t.playing})).map((function(t){return t.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter((function(t){return!t.playing})).map((function(t){return t.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStopped",{get:function(){var t,i;return null===(i=null===(t=this.animator)||void 0===t?void 0:t.isStopped)||void 0===i||i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),t.prototype.on=function(t,i){this.eventManager.add({type:t,callback:i})},t.prototype.off=function(t,i){this.eventManager.remove({type:t,callback:i})},t.prototype.unsubscribe=function(t,i){console.warn("This function is deprecated: please use `off()` instead."),this.off(t,i)},t.prototype.removeAllRiveEventListeners=function(t){this.eventManager.removeAll(t)},t.prototype.unsubscribeAll=function(t){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(t)},t.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},t.prototype.startRendering=function(){this.drawFrame()},t.prototype.scheduleRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.frameRequestId=this.runtime.requestAnimationFrame?this.runtime.requestAnimationFrame(this._boundDraw):requestAnimationFrame(this._boundDraw))},t.prototype.enableFPSCounter=function(t){this.runtime.enableFPSCounter(t)},t.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(t.prototype,"contents",{get:function(){if(this.loaded){for(var t={artboards:[]},i=0;i<this.file.artboardCount();i++){for(var e=this.file.artboardByIndex(i),n={name:e.name,animations:[],stateMachines:[]},r=0;r<e.animationCount();r++){var o=e.animationByIndex(r);n.animations.push(o.name)}for(var s=0;s<e.stateMachineCount();s++){for(var a=e.stateMachineByIndex(s),h=a.name,l=new this.runtime.StateMachineInstance(a,e),c=[],u=0;u<l.inputCount();u++){var d=l.input(u);c.push({name:d.name,type:d.type})}n.stateMachines.push({name:h,inputs:c})}t.artboards.push(n)}return t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(t){this._volume=t,this.artboard&&(this.artboard.volume=t*E.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"artboardWidth",{get:function(){var t;return this.artboard?this.artboard.width:null!==(t=this._artboardWidth)&&void 0!==t?t:0},set:function(t){this._artboardWidth=t,this.artboard&&(this.artboard.width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"artboardHeight",{get:function(){var t;return this.artboard?this.artboard.height:null!==(t=this._artboardHeight)&&void 0!==t?t:0},set:function(t){this._artboardHeight=t,this.artboard&&(this.artboard.height=t)},enumerable:!1,configurable:!0}),t.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(t.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(t){this._devicePixelRatioUsed=t},enumerable:!1,configurable:!0}),t.prototype.bindViewModelInstance=function(t){var i;this.artboard&&!this.destroyed&&t&&t.runtimeInstance&&(t.internalIncrementReferenceCount(),null===(i=this._viewModelInstance)||void 0===i||i.cleanup(),this._viewModelInstance=t,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach((function(i){return i.bindViewModelInstance(t)})):this.artboard.bindViewModelInstance(t.runtimeInstance))},Object.defineProperty(t.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),t.prototype.viewModelByIndex=function(t){var i=this.file.viewModelByIndex(t);return null!==i?new z(i):null},t.prototype.viewModelByName=function(t){var i;return null===(i=this.riveFile)||void 0===i?void 0:i.viewModelByName(t)},t.prototype.enums=function(){if(null===this._dataEnums){var t=this.file.enums();this._dataEnums=t.map((function(t){return new F(t)}))}return this._dataEnums},t.prototype.defaultViewModel=function(){if(this.artboard){var t=this.file.defaultArtboardViewModel(this.artboard);if(t)return new z(t)}return null},t.prototype.getArtboard=function(t){var i,e;return null!==(e=null===(i=this.riveFile)||void 0===i?void 0:i.getArtboard(t))&&void 0!==e?e:null},t.prototype.getBindableArtboard=function(t){var i,e;return null!==(e=null===(i=this.riveFile)||void 0===i?void 0:i.getBindableArtboard(t))&&void 0!==e?e:null},t.prototype.getDefaultBindableArtboard=function(){var t,i;return null!==(i=null===(t=this.riveFile)||void 0===t?void 0:t.getDefaultBindableArtboard())&&void 0!==i?i:null},t.missingErrorMessage="Rive source file or data buffer required",t.cleanupErrorMessage="Attempt to use file after calling cleanup.",t}(),z=function(){function t(t){this._viewModel=t}return Object.defineProperty(t.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),t.prototype.instanceByIndex=function(t){var i=this._viewModel.instanceByIndex(t);if(null!==i){var e=new R(i,null);return(0,l.createFinalization)(e,i),e}return null},t.prototype.instanceByName=function(t){var i=this._viewModel.instanceByName(t);if(null!==i){var e=new R(i,null);return(0,l.createFinalization)(e,i),e}return null},t.prototype.defaultInstance=function(){var t=this._viewModel.defaultInstance();if(null!==t){var i=new R(t,null);return(0,l.createFinalization)(i,t),i}return null},t.prototype.instance=function(){var t=this._viewModel.instance();if(null!==t){var i=new R(t,null);return(0,l.createFinalization)(i,t),i}return null},Object.defineProperty(t.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),t}(),F=function(){function t(t){this._dataEnum=t}return Object.defineProperty(t.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),t}();!function(t){t.Number="number",t.String="string",t.Boolean="boolean",t.Color="color",t.Trigger="trigger",t.Enum="enum",t.List="list",t.Image="image",t.Artboard="artboard"}(I||(I={}));var R=function(){function t(t,i){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=t,null!==i&&this._parents.push(i)}return Object.defineProperty(t.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),t.prototype.handleCallbacks=function(){0!==this._propertiesWithCallbacks.length&&(this._propertiesWithCallbacks.forEach((function(t){t.handleCallbacks()})),this._propertiesWithCallbacks.forEach((function(t){t.clearChanges()}))),this._children.forEach((function(t){return t.handleCallbacks()}))},t.prototype.addParent=function(t){this._parents.includes(t)||(this._parents.push(t),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&t.addToViewModelCallbacks(this))},t.prototype.removeParent=function(t){var i=this._parents.indexOf(t);-1!==i&&(this._parents[i].removeFromViewModelCallbacks(this),this._parents.splice(i,1))},t.prototype.addToPropertyCallbacks=function(t){var i=this;this._propertiesWithCallbacks.includes(t)||(this._propertiesWithCallbacks.push(t),this._propertiesWithCallbacks.length>0&&this._parents.forEach((function(t){t.addToViewModelCallbacks(i)})))},t.prototype.removeFromPropertyCallbacks=function(t){var i=this;this._propertiesWithCallbacks.includes(t)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter((function(i){return i!==t})),0===this._children.length&&0===this._propertiesWithCallbacks.length&&this._parents.forEach((function(t){t.removeFromViewModelCallbacks(i)})))},t.prototype.addToViewModelCallbacks=function(t){var i=this;this._children.includes(t)||(this._children.push(t),this._parents.forEach((function(t){t.addToViewModelCallbacks(i)})))},t.prototype.removeFromViewModelCallbacks=function(t){var i=this;this._children.includes(t)&&(this._children=this._children.filter((function(i){return i!==t})),0===this._children.length&&0===this._propertiesWithCallbacks.length&&this._parents.forEach((function(t){t.removeFromViewModelCallbacks(i)})))},t.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach((function(t){t.clearCallbacks()}))},t.prototype.propertyFromPath=function(t,i){var e=t.split("/");return this.propertyFromPathSegments(e,0,i)},t.prototype.viewModelFromPathSegments=function(t,i){var e=this.internalViewModelInstance(t[i]);return null!==e?i==t.length-1?e:e.viewModelFromPathSegments(t,i++):null},t.prototype.propertyFromPathSegments=function(t,i,e){var n,r,o,s,a,h,l,c,u,d,f,p,g,m,v,b,w,y;if(i<t.length-1){var x=this.internalViewModelInstance(t[i]);return null!==x?x.propertyFromPathSegments(t,i+1,e):null}var k=null;switch(e){case I.Number:if(null!==(k=null!==(r=null===(n=this._runtimeInstance)||void 0===n?void 0:n.number(t[i]))&&void 0!==r?r:null))return new H(k,this);break;case I.String:if(null!==(k=null!==(s=null===(o=this._runtimeInstance)||void 0===o?void 0:o.string(t[i]))&&void 0!==s?s:null))return new B(k,this);break;case I.Boolean:if(null!==(k=null!==(h=null===(a=this._runtimeInstance)||void 0===a?void 0:a.boolean(t[i]))&&void 0!==h?h:null))return new V(k,this);break;case I.Color:if(null!==(k=null!==(c=null===(l=this._runtimeInstance)||void 0===l?void 0:l.color(t[i]))&&void 0!==c?c:null))return new q(k,this);break;case I.Trigger:if(null!==(k=null!==(d=null===(u=this._runtimeInstance)||void 0===u?void 0:u.trigger(t[i]))&&void 0!==d?d:null))return new U(k,this);break;case I.Enum:if(null!==(k=null!==(p=null===(f=this._runtimeInstance)||void 0===f?void 0:f.enum(t[i]))&&void 0!==p?p:null))return new X(k,this);break;case I.List:if(null!==(k=null!==(m=null===(g=this._runtimeInstance)||void 0===g?void 0:g.list(t[i]))&&void 0!==m?m:null))return new Y(k,this);break;case I.Image:if(null!==(k=null!==(b=null===(v=this._runtimeInstance)||void 0===v?void 0:v.image(t[i]))&&void 0!==b?b:null))return new K(k,this);break;case I.Artboard:if(null!==(k=null!==(y=null===(w=this._runtimeInstance)||void 0===w?void 0:w.artboard(t[i]))&&void 0!==y?y:null))return new G(k,this)}return null},t.prototype.internalViewModelInstance=function(i){var e;if(this._viewModelInstances.has(i))return this._viewModelInstances.get(i);var n=null===(e=this._runtimeInstance)||void 0===e?void 0:e.viewModel(i);if(null!==n){var r=new t(n,this);return(0,l.createFinalization)(r,n),r.internalIncrementReferenceCount(),this._viewModelInstances.set(i,r),r}return null},t.prototype.number=function(t){return this.propertyFromPath(t,I.Number)},t.prototype.string=function(t){return this.propertyFromPath(t,I.String)},t.prototype.boolean=function(t){return this.propertyFromPath(t,I.Boolean)},t.prototype.color=function(t){return this.propertyFromPath(t,I.Color)},t.prototype.trigger=function(t){return this.propertyFromPath(t,I.Trigger)},t.prototype.enum=function(t){return this.propertyFromPath(t,I.Enum)},t.prototype.list=function(t){return this.propertyFromPath(t,I.List)},t.prototype.image=function(t){return this.propertyFromPath(t,I.Image)},t.prototype.artboard=function(t){return this.propertyFromPath(t,I.Artboard)},t.prototype.viewModel=function(t){var i=t.split("/"),e=i.length>1?this.viewModelFromPathSegments(i.slice(0,i.length-1),0):this;return null!=e?e.internalViewModelInstance(i[i.length-1]):null},t.prototype.internalReplaceViewModel=function(t,i){var e;if(null!==i.runtimeInstance){var n=(null===(e=this._runtimeInstance)||void 0===e?void 0:e.replaceViewModel(t,i.runtimeInstance))||!1;if(n){i.internalIncrementReferenceCount();var r=this.internalViewModelInstance(t);null!==r&&(r.removeParent(this),this._children.includes(r)&&(this._children=this._children.filter((function(t){return t!==r}))),r.cleanup()),this._viewModelInstances.set(t,i),i.addParent(this)}return n}return!1},t.prototype.replaceViewModel=function(t,i){var e,n=t.split("/"),r=n.length>1?this.viewModelFromPathSegments(n.slice(0,n.length-1),0):this;return null!==(e=null==r?void 0:r.internalReplaceViewModel(n[n.length-1],i))&&void 0!==e&&e},t.prototype.incrementReferenceCount=function(){var t;this._referenceCount++,null===(t=this._runtimeInstance)||void 0===t||t.incrementReferenceCount()},t.prototype.decrementReferenceCount=function(){var t;this._referenceCount--,null===(t=this._runtimeInstance)||void 0===t||t.decrementReferenceCount()},Object.defineProperty(t.prototype,"properties",{get:function(){var t;return(null===(t=this._runtimeInstance)||void 0===t?void 0:t.getProperties().map((function(t){return u({},t)})))||[]},enumerable:!1,configurable:!0}),t.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},t.prototype.cleanup=function(){var t,i=this;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&(null===(t=this._runtimeInstance)||void 0===t||t.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach((function(t){t.cleanup()})),this._viewModelInstances.clear();var e=p([],this._children,!0);this._children.length=0;var n=p([],this._parents,!0);this._parents.length=0,e.forEach((function(t){t.removeParent(i)})),n.forEach((function(t){t.removeFromViewModelCallbacks(i)}))}},t}(),N=function(){function t(t,i){this.callbacks=[],this._viewModelInstanceValue=t,this._parentViewModel=i}return t.prototype.on=function(t){0===this.callbacks.length&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(t)||(this.callbacks.push(t),this._parentViewModel.addToPropertyCallbacks(this))},t.prototype.off=function(t){t?this.callbacks=this.callbacks.filter((function(i){return i!==t})):this.callbacks.length=0,0===this.callbacks.length&&this._parentViewModel.removeFromPropertyCallbacks(this)},t.prototype.internalHandleCallback=function(){},t.prototype.handleCallbacks=function(){var t=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach((function(i){t.internalHandleCallback(i)}))},t.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},t.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(t.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),t}(),B=function(t){function i(i,e){return t.call(this,i,e)||this}return c(i,t),Object.defineProperty(i.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(t){this._viewModelInstanceValue.value=t},enumerable:!1,configurable:!0}),i.prototype.internalHandleCallback=function(t){t(this.value)},i}(N),H=function(t){function i(i,e){return t.call(this,i,e)||this}return c(i,t),Object.defineProperty(i.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(t){this._viewModelInstanceValue.value=t},enumerable:!1,configurable:!0}),i.prototype.internalHandleCallback=function(t){t(this.value)},i}(N),V=function(t){function i(i,e){return t.call(this,i,e)||this}return c(i,t),Object.defineProperty(i.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(t){this._viewModelInstanceValue.value=t},enumerable:!1,configurable:!0}),i.prototype.internalHandleCallback=function(t){t(this.value)},i}(N),U=function(t){function i(i,e){return t.call(this,i,e)||this}return c(i,t),i.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},i.prototype.internalHandleCallback=function(t){t()},i}(N),X=function(t){function i(i,e){return t.call(this,i,e)||this}return c(i,t),Object.defineProperty(i.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(t){this._viewModelInstanceValue.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(t){this._viewModelInstanceValue.valueIndex=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),i.prototype.internalHandleCallback=function(t){t(this.value)},i}(N),Y=function(t){function i(i,e){return t.call(this,i,e)||this}return c(i,t),Object.defineProperty(i.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),i.prototype.addInstance=function(t){null!=t.runtimeInstance&&(this._viewModelInstanceValue.addInstance(t.runtimeInstance),t.addParent(this._parentViewModel))},i.prototype.addInstanceAt=function(t,i){return!(null==t.runtimeInstance||!this._viewModelInstanceValue.addInstanceAt(t.runtimeInstance,i)||(t.addParent(this._parentViewModel),0))},i.prototype.removeInstance=function(t){null!=t.runtimeInstance&&(this._viewModelInstanceValue.removeInstance(t.runtimeInstance),t.removeParent(this._parentViewModel))},i.prototype.removeInstanceAt=function(t){this._viewModelInstanceValue.removeInstanceAt(t)},i.prototype.instanceAt=function(t){var i=this._viewModelInstanceValue.instanceAt(t);if(null!=i){var e=new R(i,this._parentViewModel);return(0,l.createFinalization)(e,i),e}return null},i.prototype.swap=function(t,i){this._viewModelInstanceValue.swap(t,i)},i.prototype.internalHandleCallback=function(t){t()},i}(N),q=function(t){function i(i,e){return t.call(this,i,e)||this}return c(i,t),Object.defineProperty(i.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(t){this._viewModelInstanceValue.value=t},enumerable:!1,configurable:!0}),i.prototype.rgb=function(t,i,e){this._viewModelInstanceValue.rgb(t,i,e)},i.prototype.rgba=function(t,i,e,n){this._viewModelInstanceValue.argb(n,t,i,e)},i.prototype.argb=function(t,i,e,n){this._viewModelInstanceValue.argb(t,i,e,n)},i.prototype.alpha=function(t){this._viewModelInstanceValue.alpha(t)},i.prototype.opacity=function(t){this._viewModelInstanceValue.alpha(Math.round(255*Math.max(0,Math.min(1,t))))},i.prototype.internalHandleCallback=function(t){t(this.value)},i}(N),K=function(t){function i(i,e){return t.call(this,i,e)||this}return c(i,t),Object.defineProperty(i.prototype,"value",{set:function(t){var i;this._viewModelInstanceValue.value(null!==(i=null==t?void 0:t.nativeImage)&&void 0!==i?i:null)},enumerable:!1,configurable:!0}),i.prototype.internalHandleCallback=function(t){t()},i}(N),G=function(t){function i(i,e){return t.call(this,i,e)||this}return c(i,t),Object.defineProperty(i.prototype,"value",{set:function(t){var i,e,n;n=t.isBindableArtboard?t:t.file.internalBindableArtboardFromArtboard(t.nativeArtboard),this._viewModelInstanceValue.value(null!==(i=null==n?void 0:n.nativeArtboard)&&void 0!==i?i:null),(null==n?void 0:n.nativeViewModel)&&this._viewModelInstanceValue.viewModelInstance(null!==(e=null==n?void 0:n.nativeViewModel)&&void 0!==e?e:null)},enumerable:!1,configurable:!0}),i.prototype.internalHandleCallback=function(t){t()},i}(N),J=function(t){return d(void 0,void 0,void 0,(function(){var i;return f(this,(function(e){switch(e.label){case 0:return i=new Request(t),[4,fetch(i)];case 1:return[4,e.sent().arrayBuffer()];case 2:return[2,e.sent()]}}))}))},Z=function(t){return"string"==typeof t?[t]:t instanceof Array?t:[]},Q={EventManager:_,TaskQueueManager:S},tt=function(t){return d(void 0,void 0,void 0,(function(){var i,e;return f(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(i){return b.getInstance((function(e){e.decodeAudio(t,i)}))}))];case 1:return i=n.sent(),e=new l.AudioWrapper(i),l.finalizationRegistry.register(e,i),[2,e]}}))}))},it=function(t){return d(void 0,void 0,void 0,(function(){var i,e;return f(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(i){return b.getInstance((function(e){e.decodeImage(t,i)}))}))];case 1:return i=n.sent(),e=new l.ImageWrapper(i),l.finalizationRegistry.register(e,i),[2,e]}}))}))},et=function(t){return d(void 0,void 0,void 0,(function(){var i,e;return f(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(i){return b.getInstance((function(e){e.decodeFont(t,i)}))}))];case 1:return i=n.sent(),e=new l.FontWrapper(i),l.finalizationRegistry.register(e,i),[2,e]}}))}))}})(),n})(),tt.exports=Q());const et=class{constructor(i){t(this,i),this.id="",this.value="",this.height="",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.src="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.delayVisible="",this.initializeRive=t=>{const i=s.getInstance(),e=this.el.querySelector("canvas");this.riveInstance=new it.Rive({src:t,canvas:e,stateMachines:"Idle",autoplay:!0,onLoad:()=>{this.riveInstance.resizeDrawingSurfaceToCanvas(),i.setRiveInstance(this.riveInstance)}})}}async componentDidLoad(){it.RuntimeLoader.setWasmUrl(i("./rive.wasm")),a(this.el,this.delayVisible),h(this.el,this.type),this.initializeRive(l(this.src))}render(){return e(n,{key:"8a31ce98213ff51bf7cfc776690b6770bbeae604",id:this.id,type:this.type,"tab-index":this.tabIndex,value:this.value,style:{height:this.height,width:this.width,backgroundColor:this.bgColor,top:this.y,left:this.x,display:this.visible?"flex":"none",zIndex:this.z},"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},e("canvas",{key:"922568310a3be177e3185f86c54df95d16a0e42b",class:"lido-canvas"}))}get el(){return r(this)}};et.style=".lido-canvas{height:100%;width:100%}";const nt=class{constructor(i){t(this,i),this.pivotimage="https://aeakbcdznktpsbrfsgys.supabase.co/storage/v1/object/public/template-assets/balancing/Display%20stand.svg",this.scaleimage="https://aeakbcdznktpsbrfsgys.supabase.co/storage/v1/object/public/template-assets/balancing/Bar.svg",this.handlerimage="https://aeakbcdznktpsbrfsgys.supabase.co/storage/v1/object/public/template-assets/balancing/Stands.svg",this.fill="brown",this.tilt=0,this.maxTilt=9.5,this.onEntry="",this.height="auto",this.width="auto",this.x="0px",this.y="0px",this.z="0",this.visible=!1,this.margin="",this.padding="",this.balanceSymbol="=",this.showSymbol=!1,this.operation="count",this.pivotSvg="",this.scaleSvg="",this.handlerSvg="",this.style={},this.tiltf=0,this.leftVal=0,this.rightVal=0,this.currentAngle=0}async revealSymbol(){this.showSymbol=!0}async hideSymbol(){this.showSymbol=!1}async componentWillLoad(){this.updateStyles(),this.pivotSvg=await this.fetchAndApplyFill(this.pivotimage),this.scaleSvg=await this.fetchAndApplyFill(this.scaleimage),this.handlerSvg=await this.fetchAndApplyFill(this.handlerimage)}componentDidLoad(){this.animateBalance(),this.leftParentEl=document.getElementById("leftparent"),this.rightParentEl=document.getElementById("rightparent"),h(this.el)}disconnectedCallback(){null!=this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}async fetchAndApplyFill(t){try{const i=await fetch(t);if(!i.ok)return"";let e=await i.text();return e=e.replace(/fill="[^"]*"/g,""),e=e.replace(/stroke="[^"]*"/g,""),e=e.replace(/<svg([^>]*)>/,`<svg$1 fill="${this.fill}" stroke="${this.fill}">`),e}catch(t){return console.error("SVG fetch failed:",t),""}}tiltChanged(t){this.tiltf=t}async updateTilt(t,i){const e=Math.max(-5,Math.min(5,i-t));await new Promise((t=>setTimeout(t,350))),this.tiltf=e}animateBalance(){const t=()=>{let i=this.tiltf/5*this.maxTilt;if(i>this.maxTilt&&(i=this.maxTilt),i<-this.maxTilt&&(i=-this.maxTilt),this.currentAngle+=.1*(i-this.currentAngle),this.currentAngle>this.maxTilt&&(this.currentAngle=this.maxTilt),this.currentAngle<-this.maxTilt&&(this.currentAngle=-this.maxTilt),this.scaleEl&&(this.scaleEl.style.transform=`rotate(${this.currentAngle}deg)`,this.scaleEl.style.transformOrigin="50% 80%"),this.leftParentEl&&this.rightParentEl){const t=window.innerHeight>window.innerWidth,i=this.currentAngle/this.maxTilt*(t?40:60);this.leftParentEl.style.transform=`translateY(${-i}px)`,this.rightParentEl.style.transform=`translateY(${i}px)`}if(this.leftHandleEl&&this.rightHandleEl){const t=window.innerHeight>window.innerWidth,i=this.currentAngle/this.maxTilt*(t?40:60);this.leftHandleEl.style.transform=`translateY(${-i}px)`,this.rightHandleEl.style.transform=`translateY(${i}px)`}this.animationFrameId=requestAnimationFrame(t)};t()}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:c(this.height,t),width:c(this.width,t),top:c(this.y,t),left:c(this.x,t),zIndex:this.z,display:"true"===c(`${this.visible}`,t)?"flex":"none",margin:c(this.margin,t),padding:c(this.padding,t)}}render(){return e(n,{key:"e1cdc8aab0b18f3cc654a52a1e315ba6d708adb3",id:"lido-balance","bg-color":"red",onEntry:this.onEntry,class:"lido-balance",tilt:this.tilt.toString(),style:this.style,operation:this.operation.toString()},e("div",{key:"98ed1d2b6eb29e0fcf2ac656f8bb87cbe4420dfa",innerHTML:this.pivotSvg,id:"pivotimg",class:"pivot"}),e("div",{key:"8139021fec3f6d19a8fc711f02dc9e61197e5e5c",innerHTML:this.scaleSvg,id:"scaleimg",class:"scale",ref:t=>this.scaleEl=t}),e("div",{key:"3f7621e16932c862ea50e3ed6e941efb3b77c292",innerHTML:this.handlerSvg,id:"handlerimg",class:"handler",ref:t=>this.leftHandleEl=t}),e("div",{key:"939e0df96916eb3259e6adcefa0c9a786aeccdef",innerHTML:this.handlerSvg,id:"handimg",class:"hand",ref:t=>this.rightHandleEl=t}),e("div",{key:"c4de234c5058cb5d6bef94b1c75f67ca85ee7fc9",id:"balanceSymbol",class:"lido-balance-symbol","aria-hidden":!this.showSymbol},this.showSymbol?this.balanceSymbol:""))}get el(){return r(this)}static get watchers(){return{tilt:[{tiltChanged:0}]}}};nt.style='#lido-balance{position:relative;height:500px;width:1205px;top:20%;left:-91px;z-index:0}.lido-balance-symbol{position:absolute;top:64%;left:50%;transform:translate(-50%, -50%);font-size:5vw;font-weight:bold;color:black;pointer-events:none;z-index:999}@media (orientation: portrait){.lido-balance-shadow{height:100px;position:absolute;top:80%;left:28%}}@media (orientation: landscape){.lido-balance-shadow{height:100px;position:absolute;top:90%;left:33%}}@media (orientation: portrait){#pivotimg{position:absolute;height:auto;width:23%;bottom:18%;left:38%;z-index:100}}#pivotimg::after{content:"";position:absolute;bottom:-30px;left:50%;transform:translateX(-50%);width:120%;height:60px;background-image:url("https://aeakbcdznktpsbrfsgys.supabase.co/storage/v1/object/public/template-assets/balancing/Shadow.svg");background-size:contain;background-repeat:no-repeat;background-position:center;pointer-events:none;z-index:10}@media (orientation: landscape){#pivotimg{position:absolute;height:auto;width:23%;bottom:8%;left:38%;z-index:100}}.lido-balance .pivot svg{width:100%;height:auto}#scaleimg{position:absolute;width:73%;height:auto;top:61%;left:14%;z-index:90}.lido-balance .scale svg{width:100%;height:auto}@media (orientation: landscape){#handlerimg{position:absolute;width:35%;height:auto;top:49%;left:2%}}@media (orientation:portrait ){#handlerimg{position:absolute;width:35%;height:auto;top:53%;left:2%}}.lido-balance .handler svg{width:100%;height:auto;fill:brown}@media (orientation: landscape){#handimg{position:absolute;width:35%;height:auto;top:49%;right:2%}}@media (orientation:portrait){#handimg{position:absolute;width:35%;height:auto;top:53%;right:2%}}.lido-balance .hand svg{width:100%;height:auto;fill:brown}.pivot svg path:nth-of-type(1){fill:brown}.pivot svg path[d^="M78.9414"]{fill:white}';const rt=class{constructor(i){t(this,i),this.onOk=o(this,"onOk"),this.width="479px",this.visible=!1,this.height="711px",this.objective="",this.onEntry="",this.x="0px",this.y="0px",this.bgColor="#60DADA",this.penIcon="https://aeakbcdznktpsbrfsgys.supabase.co/storage/v1/object/public/template-assets/calculator/penIcon.png",this.displayValue="",this.style={},this.userAnswers=[]}updateValueAttr(){this.el.setAttribute("value",this.displayValue)}componentWillLoad(){if(!this.objective){const t=this.el.closest("lido-container");t&&(this.objective=(t.getAttribute("objective")||"").replace("=","").trim())}this.updateValueAttr()}handleClick(t){"OK"===t?this.verifyAnswer():""===t?this.displayValue=this.displayValue.slice(0,-1):this.displayValue.length<8&&(this.displayValue+=t),this.updateValueAttr()}async verifyAnswer(){const t=this.displayValue.trim();if(!t)return;let i=!1;const e=this.el.closest("lido-container");if(!e)return;if(this.objective&&""!=this.objective&&!this.objective.includes(","))console.log("hi iscorrect verified"),i=t===this.objective;else if(this.objective&&this.objective.includes(",")){const n="true"===e.getAttribute("is-continue-on-correct"),r=this.objective.split(",").map((t=>t.trim())),o=this.userAnswers.length;o<r.length&&Number(t)===Number(r[o])&&(i=!0),n?i&&this.userAnswers.push(Number(t)):this.userAnswers.push(Number(t))}else if(""===this.objective){const n=e.getAttribute("equationCheck")||"";if(!n)return;try{const e=u(n);i=Number(e)===Number(t.trim()),console.log("Equation check:",e,t,i)}catch(t){console.error("Error evaluating equation:",t),i=!1}}this.onOk.emit(i);const n=document.getElementById("btn-11");if(i){n.style.pointerEvents="none",this.displayValue="",d(i);const t=(null==e?void 0:e.getAttribute("onCorrect"))||"";await f(t,e),t.includes("scrollCellAfterEquationSolved")?0===this.objective.length&&(p(),window.dispatchEvent(new CustomEvent(g))):(p(),window.dispatchEvent(new CustomEvent(g)))}else{n.style.pointerEvents="none",this.displayValue="",d(i);const t=(null==e?void 0:e.getAttribute("onInCorrect"))||"",r=(null==e?void 0:e.getAttribute("onCorrect"))||"";"false"===e.getAttribute("is-continue-on-correct")?await f(r,e):await f(t,e)}n.style.pointerEvents="auto"}render(){return e(n,{key:"595c92e80baed8e1709c51302aa427d672b3a9e0",onEntry:this.onEntry,id:"lidoCalculator",style:{width:this.width,height:this.height,backgroundColor:this.bgColor,left:this.x,top:this.y}},e("lido-cell",{key:"4a2966a46fd008d66fedeb5f44e0ee2c5e8c083a",visible:"true",height:"94px",width:"60px"},e("lido-text",{key:"35e38f7412be8489b668ba0aab927b7ba3d98f29",visible:"true",id:"lido-calculator-penIcon",type:"click",height:"80px",x:"176%",width:"89px",onEntry:"this.position='relative';",class:"top-icon"},e("img",{key:"926def912022a30a27f5419d98348beb84fc1a42",src:this.penIcon,alt:"pen",style:{width:"100%",height:"100%"}}))),e("div",{key:"41a69c7aa7d1dfbeea19b1a1ef095b97d2c953ba",class:"lido-calculator-displayParent"},e("div",{key:"047dfc84e8b02739a982287f82b1df2b7f552dcd",class:"lido-calculator-display"},this.displayValue)),e("div",{key:"41cd91f2c9aa40f6adcf6b0318e07e394bc3b38e",class:"lido-calculator-buttons"},["1","2","3","4","5","6","7","8","9","","0","OK"].map(((t,i)=>e("lido-text",{id:`btn-${i}`,string:t,visible:"true",type:"click",class:{"lido-calculator-btn-special":""===t||"OK"===t,"lido-calculator-btn-default":""!==t&&"OK"!==t},onClick:()=>this.handleClick(t)})))))}get el(){return r(this)}};rt.style="#lidoCalculator{border-radius:19px;border:5px solid #029A9A;position:relative;display:flex;flex-direction:column;padding:2%;box-sizing:border-box}.lido-calculator-btn-special{background-color:#014D4D !important;--btn-shadow-color:#0a2f2f !important}.lido-calculator-btn-default{background-color:#029A9A !important;color:#000;--btn-shadow-color:#0f4242 !important}#lido-calculator-penIcon{--btn-bg-color:#FB7038 !important;--btn-shadow-px:0 8px 0 !important;--btn-shadow-color:#D74B12 !important;border-radius:5px !important}.lido-calculator-displayParent{width:89%;height:107px;background-color:rgb(68, 186, 186);border-radius:5px;margin:14px auto 17px auto;overflow:hidden;display:flex;align-items:end}.lido-calculator-display{width:97%;height:94px;background:#029A9A;color:#fff;text-align:right;display:flex;justify-content:flex-end;align-items:center;font-size:72px;font-weight:700;font-family:'Baloo Bhai 2', serif;border-radius:5px 0px 0px 5px;box-sizing:border-box;margin:0 0px -6px auto}.lido-calculator-buttons{flex:1;display:grid;grid-template-columns:repeat(3, 1fr);grid-auto-rows:1fr;gap:0%;width:100%;justify-items:center;align-items:center;position:relative;top:-1%}.lido-calculator-buttons lido-text{display:flex !important;justify-content:center;align-items:center;width:96px !important;height:80px !important;font-size:72px !important;font-weight:700 !important;color:#fff;border-radius:5px !important;cursor:pointer;text-align:center;line-height:1;box-sizing:border-box;transition:transform 0.1s}.lido-calculator-buttons lido-text:active{transform:scale(0.95)}";const ot=class{constructor(i){t(this,i),this.width="800px",this.height="700px",this.x="0px",this.y="0px",this.onEntry="",this.drawing=!1,this.style={}}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={width:c(this.width,t),height:c(this.height,t),left:c(this.x,t),top:c(this.y,t),position:"absolute"},this.canvas&&(this.canvas.width=parseInt(c(this.width,t)),this.canvas.height=parseInt(c(this.height,t)),this.ctx.strokeStyle="#000",this.ctx.lineWidth=10,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.loadBackground())}componentDidLoad(){this.canvas=this.el.shadowRoot.querySelector("#lido-canvas"),this.ctx=this.canvas.getContext("2d"),this.ctx.strokeStyle="#000",this.ctx.lineWidth=10,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.updateStyles(),this.loadBackground(),this.canvas.addEventListener("pointerdown",(t=>this.start(t))),this.canvas.addEventListener("pointermove",(t=>this.move(t))),window.addEventListener("pointerup",(()=>this.stop())),window.addEventListener("resize",(()=>this.updateStyles()))}loadBackground(){if(!this.bgImage)return this.ctx.fillStyle="#fff",void this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height);const t=new Image;t.crossOrigin="anonymous",t.src=this.bgImage,t.onload=()=>{this.ctx.drawImage(t,0,0,this.canvas.width,this.canvas.height)}}getPos(t){const i=this.canvas.getBoundingClientRect();return{x:this.canvas.width/i.width*(t.clientX-i.left),y:this.canvas.height/i.height*(t.clientY-i.top)}}start(t){this.drawing=!0;const i=this.getPos(t);this.ctx.beginPath(),this.ctx.moveTo(i.x,i.y)}move(t){if(!this.drawing)return;const i=this.getPos(t);this.ctx.lineTo(i.x,i.y),this.ctx.stroke()}stop(){this.drawing=!1,this.ctx.closePath()}clearCanvas(){this.loadBackground()}render(){return e(n,{key:"6768ff870d132528267f2e824fdc6edf5a5fa2be",id:"lido-canvas",class:"lido-canvas",style:this.style},e("button",{key:"ba3d5456edfa4618b6c3f57b97fa18cef45f7ae9",id:"lido-exit-button",onClick:()=>this.clearCanvas()},e("lido-text",{key:"3484c9005819e3d08adf8d36b247d3c45610d0b5",visible:"true",height:"92px",width:"43px",id:"lido-exit-icon","font-color":"white",onEntry:"this.font-weight='900';","font-size":"96px",string:"X"})),e("canvas",{key:"cd4167cefde8d4cf159779c46283cafbc3b0afcc",id:"lido-canvas",style:{width:this.style.width,height:this.style.height}}))}get el(){return r(this)}};ot.style=":host{display:flex;justify-content:center;align-items:center}.lido-canvas{background:red;border:2px solid #ccc;border-radius:8px;display:flex;flex-direction:column;overflow:hidden;position:relative}#lido-exit-button{padding:6px 14px;border:none;background:transparent;color:#fff;border-radius:6px;cursor:pointer;font-size:14px;position:relative;top:-43%;left:18%;z-index:10}canvas{touch-action:none;display:block}";const st=class{constructor(i){t(this,i),this.showSpeakIcon=!1,this.scrollbarWidth="",this.id="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.gap="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible="false",this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.childElementsLength=9999,this.minLength=0,this.maxLength=9999,this.layout="wrap",this.minDrops=1,this.maxDrops=1,this.margin="",this.padding="",this.alignItems="",this.borderRadius="0px",this.flexDirection="",this.style={},this.delayVisible="",this.disableSpeak=!1}componentDidLoad(){a(this.el,this.delayVisible),h(this.el,this.type),m(this.el,this.minLength,this.maxLength,this.childElementsLength),setTimeout((()=>{const t=this.el.className.includes("lido-random")?this.el:null;if(t){const i=t.parentElement;if(!i)return;const e=i.offsetWidth,n=i.offsetHeight;Array.from(t.children).forEach((t=>{const i=e-t.offsetWidth,r=n-t.offsetHeight,o=Math.random()*i,s=Math.random()*r;t.style.position="absolute",t.style.left=`${o}px`,t.style.top=`${s}px`}))}}),50),this.showSpeakIcon&&v(this.el)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:c(this.height,t),width:c(this.width,t),backgroundColor:c(this.bgColor,t),top:c(this.y,t),left:c(this.x,t),zIndex:this.z,margin:c(this.margin,t),padding:c(this.padding,t),borderRadius:c(this.borderRadius,t),gap:c(this.gap,t),"--scrollbar-width":c(this.scrollbarWidth||"0px",t),display:JSON.parse(c(`${this.visible}`,t))?"wrap"===c(this.layout,t)?"grid":"pos"===c(this.layout,t)||"random"===c(this.layout,t)?"block":"flex":"none",flexDirection:this.flexDirection?c(this.flexDirection,t):"",alignItems:this.alignItems?c(this.alignItems,t):""},this.el.className=`lido-${c(this.layout,t)}`}render(){return e(n,{key:"0f7d35324da319917dec546cbb1f25065897bb02",id:this.id,class:"lido-cell",value:this.value,type:this.type,"tab-index":this.tabIndex,style:this.style,minDrops:this.minDrops,maxDrops:this.maxDrops,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,"flex-direction":this.flexDirection,"disable-speak":this.disableSpeak},e("slot",{key:"2a337b5fae7641bbe78c5f1aa1c96e12c1281f4a"}))}get el(){return r(this)}};st.style=".lido-col{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);padding:15px;border-radius:10px;display:flex;justify-content:space-around;flex-direction:column;align-items:center}.lido-col>*{}.lido-row{display:flex;justify-content:space-around;align-items:center;}.lido-row>*{}.lido-wrap{display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fill, minmax(186px, auto))}.lido-wrap>*{padding:10px;box-sizing:border-box}.lido-flex{display:flex;flex-wrap:wrap;align-content:flex-start;gap:10px}.lido-pos{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);display:flex;justify-content:space-around;flex-direction:column;position:fixed}.lido-pos>*{position:absolute}.lido-random{position:relative;width:100%;height:100%}.lido-random>*{position:absolute}.lido-col::-webkit-scrollbar,.lido-wrap::-webkit-scrollbar,.lido-flex::-webkit-scrollbar{width:var(--scrollbar-width);height:var(--scrollbar-width)}.lido-col::-webkit-scrollbar-thumb,.lido-wrap::-webkit-scrollbar-thumb,.lido-flex::-webkit-scrollbar-thumb{background-color:#888;border-radius:10px;border:3px solid transparent;background-clip:content-box}.lido-col::-webkit-scrollbar-track,.lido-wrap::-webkit-scrollbar-track,.lido-flex::-webkit-scrollbar-track{background:#f1f1f1}";const at=class{constructor(i){t(this,i),this.showSpeakIcon=!1,this.minDrops=1,this.maxDrops=1,this.margin="",this.style={}}componentDidLoad(){h(this.el,this.type),m(this.el,this.minLength,this.maxLength,this.childElementsLength),this.showSpeakIcon&&v(this.el)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const t=this.borderImage?l(this.borderImage):"",i=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:c(this.height,i),width:c(this.width,i),backgroundColor:c(this.bgColor,i),top:c(this.y,i),left:c(this.x,i),zIndex:this.z,display:this.visible?"flex":"none",flexDirection:this.direction?c(this.direction,i):"column",borderImage:`url(${t})`,borderImageSlice:t?"0 fill":"",boxShadow:this.boxShadow?this.boxShadow:"unset",margin:c(this.margin,i)}}render(){return e(n,{key:"7845d3364dd13cb42959f67610254ee892119c39",id:this.id,class:"lido-col",type:this.type,"tab-index":this.tabIndex,value:this.value,style:this.style,minDrops:this.minDrops,maxDrops:this.maxDrops,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},e("slot",{key:"09a68a30534c5ea83d7166acd720b4b8f23f494e"}))}get el(){return r(this)}};at.style=".lido-col{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);padding:15px;border-radius:10px;display:flex;justify-content:space-around;flex-direction:column;align-items:center}.lido-col>*{}";const ht=t=>"string"==typeof t,lt=()=>{let t,i;const e=new Promise(((e,n)=>{t=e,i=n}));return e.resolve=t,e.reject=i,e},ct=t=>null==t?"":""+t,ut=/###/g,dt=t=>t&&t.indexOf("###")>-1?t.replace(ut,"."):t,ft=t=>!t||ht(t),pt=(t,i,e)=>{const n=ht(i)?i.split("."):i;let r=0;for(;r<n.length-1;){if(ft(t))return{};const i=dt(n[r]);!t[i]&&e&&(t[i]=new e),t=Object.prototype.hasOwnProperty.call(t,i)?t[i]:{},++r}return ft(t)?{}:{obj:t,k:dt(n[r])}},gt=(t,i,e)=>{const{obj:n,k:r}=pt(t,i,Object);if(void 0!==n||1===i.length)return void(n[r]=e);let o=i[i.length-1],s=i.slice(0,i.length-1),a=pt(t,s,Object);for(;void 0===a.obj&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=pt(t,s,Object),a?.obj&&void 0!==a.obj[`${a.k}.${o}`]&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=e},mt=(t,i)=>{const{obj:e,k:n}=pt(t,i);if(e&&Object.prototype.hasOwnProperty.call(e,n))return e[n]},vt=(t,i,e)=>{for(const n in i)"__proto__"!==n&&"constructor"!==n&&(n in t?ht(t[n])||t[n]instanceof String||ht(i[n])||i[n]instanceof String?e&&(t[n]=i[n]):vt(t[n],i[n],e):t[n]=i[n]);return t},bt=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var wt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const yt=t=>ht(t)?t.replace(/[&<>"'\/]/g,(t=>wt[t])):t,xt=[" ",",","?","!",";"],kt=new class{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const i=this.regExpMap.get(t);if(void 0!==i)return i;const e=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,e),this.regExpQueue.push(t),e}}(20),At=(t,i,e=".")=>{if(!t)return;if(t[i]){if(!Object.prototype.hasOwnProperty.call(t,i))return;return t[i]}const n=i.split(e);let r=t;for(let t=0;t<n.length;){if(!r||"object"!=typeof r)return;let i,o="";for(let s=t;s<n.length;++s)if(s!==t&&(o+=e),o+=n[s],i=r[o],void 0!==i){if(["string","number","boolean"].indexOf(typeof i)>-1&&s<n.length-1)continue;t+=s-t+1;break}r=i}return r},$t=t=>t?.replace("_","-"),jt={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,i){console?.[t]?.apply?.(console,i)}};class Mt{constructor(t,i={}){this.init(t,i)}init(t,i={}){this.prefix=i.prefix||"i18next:",this.logger=t||jt,this.options=i,this.debug=i.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,i,e,n){return n&&!this.debug?null:(ht(t[0])&&(t[0]=`${e}${this.prefix} ${t[0]}`),this.logger[i](t))}create(t){return new Mt(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new Mt(this.logger,t)}}var Ct=new Mt;class Ot{constructor(){this.observers={}}on(t,i){return t.split(" ").forEach((t=>{this.observers[t]||(this.observers[t]=new Map);const e=this.observers[t].get(i)||0;this.observers[t].set(i,e+1)})),this}off(t,i){this.observers[t]&&(i?this.observers[t].delete(i):delete this.observers[t])}emit(t,...i){this.observers[t]&&Array.from(this.observers[t].entries()).forEach((([t,e])=>{for(let n=0;n<e;n++)t(...i)})),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach((([e,n])=>{for(let r=0;r<n;r++)e.apply(e,[t,...i])}))}}class _t extends Ot{constructor(t,i={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=i,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const i=this.options.ns.indexOf(t);i>-1&&this.options.ns.splice(i,1)}getResource(t,i,e,n={}){const r=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,o=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;t.indexOf(".")>-1?s=t.split("."):(s=[t,i],e&&(Array.isArray(e)?s.push(...e):ht(e)&&r?s.push(...e.split(r)):s.push(e)));const a=mt(this.data,s);return!a&&!i&&!e&&t.indexOf(".")>-1&&(t=s[0],i=s[1],e=s.slice(2).join(".")),!a&&o&&ht(e)?At(this.data?.[t]?.[i],e,r):a}addResource(t,i,e,n,r={silent:!1}){const o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let s=[t,i];e&&(s=s.concat(o?e.split(o):e)),t.indexOf(".")>-1&&(s=t.split("."),n=i,i=s[1]),this.addNamespaces(i),gt(this.data,s,n),r.silent||this.emit("added",t,i,e,n)}addResources(t,i,e,n={silent:!1}){for(const n in e)(ht(e[n])||Array.isArray(e[n]))&&this.addResource(t,i,n,e[n],{silent:!0});n.silent||this.emit("added",t,i,e)}addResourceBundle(t,i,e,n,r,o={silent:!1,skipCopy:!1}){let s=[t,i];t.indexOf(".")>-1&&(s=t.split("."),n=e,e=i,i=s[1]),this.addNamespaces(i);let a=mt(this.data,s)||{};o.skipCopy||(e=JSON.parse(JSON.stringify(e))),n?vt(a,e,r):a={...a,...e},gt(this.data,s,a),o.silent||this.emit("added",t,i,e)}removeResourceBundle(t,i){this.hasResourceBundle(t,i)&&delete this.data[t][i],this.removeNamespaces(i),this.emit("removed",t,i)}hasResourceBundle(t,i){return void 0!==this.getResource(t,i)}getResourceBundle(t,i){return i||(i=this.options.defaultNS),this.getResource(t,i)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const i=this.getDataByLanguage(t);return!!(i&&Object.keys(i)||[]).find((t=>i[t]&&Object.keys(i[t]).length>0))}toJSON(){return this.data}}var St={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,i,e,n,r){return t.forEach((t=>{i=this.processors[t]?.process(i,e,n,r)??i})),i}};const It=Symbol("i18next/PATH_KEY");function Et(t,i){const{[It]:e}=t(function(){const t=[],i=Object.create(null);let e;return i.get=(n,r)=>(e?.revoke?.(),r===It?t:(t.push(r),e=Proxy.revocable(n,i),e.proxy)),Proxy.revocable(Object.create(null),i).proxy}());return e.join(i?.keySeparator??".")}const Pt={},Tt=t=>!ht(t)&&"boolean"!=typeof t&&"number"!=typeof t;class Wt extends Ot{constructor(t,i={}){var e,n;super(),e=t,n=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((t=>{e[t]&&(n[t]=e[t])})),this.options=i,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Ct.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,i={interpolation:{}}){const e={...i};if(null==t)return!1;const n=this.resolve(t,e);if(void 0===n?.res)return!1;const r=Tt(n.res);return!1!==e.returnObjects||!r}extractFromKey(t,i){let e=void 0!==i.nsSeparator?i.nsSeparator:this.options.nsSeparator;void 0===e&&(e=":");const n=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let r=i.ns||this.options.defaultNS||[];const o=e&&t.indexOf(e)>-1,s=!(this.options.userDefinedKeySeparator||i.keySeparator||this.options.userDefinedNsSeparator||i.nsSeparator||((t,i,e)=>{i=i||"",e=e||"";const n=xt.filter((t=>i.indexOf(t)<0&&e.indexOf(t)<0));if(0===n.length)return!0;const r=kt.getRegExp(`(${n.map((t=>"?"===t?"\\?":t)).join("|")})`);let o=!r.test(t);if(!o){const i=t.indexOf(e);i>0&&!r.test(t.substring(0,i))&&(o=!0)}return o})(t,e,n));if(o&&!s){const i=t.match(this.interpolator.nestingRegexp);if(i&&i.length>0)return{key:t,namespaces:ht(r)?[r]:r};const o=t.split(e);(e!==n||e===n&&this.options.ns.indexOf(o[0])>-1)&&(r=o.shift()),t=o.join(n)}return{key:t,namespaces:ht(r)?[r]:r}}translate(t,i,e){let n="object"==typeof i?{...i}:i;if("object"!=typeof n&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof n&&(n={...n}),n||(n={}),null==t)return"";"function"==typeof t&&(t=Et(t,{...this.options,...n})),Array.isArray(t)||(t=[String(t)]);const r=void 0!==n.returnDetails?n.returnDetails:this.options.returnDetails,o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(t[t.length-1],n),h=a[a.length-1];let l=void 0!==n.nsSeparator?n.nsSeparator:this.options.nsSeparator;void 0===l&&(l=":");const c=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===c?.toLowerCase())return u?r?{res:`${h}${l}${s}`,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:h,usedParams:this.getUsedParamsDetails(n)}:`${h}${l}${s}`:r?{res:s,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:h,usedParams:this.getUsedParamsDetails(n)}:s;const d=this.resolve(t,n);let f=d?.res;const p=d?.usedKey||s,g=d?.exactUsedKey||s,m=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,b=void 0!==n.count&&!ht(n.count),w=Wt.hasDefaultValue(n),y=b?this.pluralResolver.getSuffix(c,n.count,n):"",x=n.ordinal&&b?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",k=b&&!n.ordinal&&0===n.count,A=k&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${y}`]||n[`defaultValue${x}`]||n.defaultValue;let $=f;v&&!f&&w&&($=A);const j=Tt($),M=Object.prototype.toString.apply($);if(!(v&&$&&j&&["[object Number]","[object Function]","[object RegExp]"].indexOf(M)<0)||ht(m)&&Array.isArray($))if(v&&ht(m)&&Array.isArray(f))f=f.join(m),f&&(f=this.extendTranslation(f,t,n,e));else{let i=!1,r=!1;!this.isValidLookup(f)&&w&&(i=!0,f=A),this.isValidLookup(f)||(r=!0,f=s);const a=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&r?void 0:f,u=w&&A!==f&&this.options.updateMissing;if(r||i||u){if(this.logger.log(u?"updateKey":"missingKey",c,h,s,u?A:f),o){const t=this.resolve(s,{...n,keySeparator:!1});t&&t.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let t=[];const i=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&i&&i[0])for(let e=0;e<i.length;e++)t.push(i[e]);else"all"===this.options.saveMissingTo?t=this.languageUtils.toResolveHierarchy(n.lng||this.language):t.push(n.lng||this.language);const e=(t,i,e)=>{const r=w&&e!==f?e:a;this.options.missingKeyHandler?this.options.missingKeyHandler(t,h,i,r,u,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(t,h,i,r,u,n),this.emit("missingKey",t,h,i,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?t.forEach((t=>{const i=this.pluralResolver.getSuffixes(t,n);k&&n[`defaultValue${this.options.pluralSeparator}zero`]&&i.indexOf(`${this.options.pluralSeparator}zero`)<0&&i.push(`${this.options.pluralSeparator}zero`),i.forEach((i=>{e([t],s+i,n[`defaultValue${i}`]||A)}))})):e(t,s,A))}f=this.extendTranslation(f,t,n,d,e),r&&f===s&&this.options.appendNamespaceToMissingKey&&(f=`${h}${l}${s}`),(r||i)&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${l}${s}`:s,i?f:void 0,n))}else{if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const t=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,$,{...n,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return r?(d.res=t,d.usedParams=this.getUsedParamsDetails(n),d):t}if(o){const t=Array.isArray($),i=t?[]:{},e=t?g:p;for(const t in $)if(Object.prototype.hasOwnProperty.call($,t)){const r=`${e}${o}${t}`;i[t]=this.translate(r,w&&!f?{...n,defaultValue:Tt(A)?A[t]:void 0,joinArrays:!1,ns:a}:{...n,joinArrays:!1,ns:a}),i[t]===r&&(i[t]=$[t])}f=i}}return r?(d.res=f,d.usedParams=this.getUsedParamsDetails(n),d):f}extendTranslation(t,i,e,n,r){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...e},e.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!e.skipInterpolation){e.interpolation&&this.interpolator.init({...e,interpolation:{...this.options.interpolation,...e.interpolation}});const o=ht(t)&&(void 0!==e?.interpolation?.skipOnVariables?e.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(o){const i=t.match(this.interpolator.nestingRegexp);s=i&&i.length}let a=e.replace&&!ht(e.replace)?e.replace:e;if(this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),t=this.interpolator.interpolate(t,a,e.lng||this.language||n.usedLng,e),o){const i=t.match(this.interpolator.nestingRegexp);s<(i&&i.length)&&(e.nest=!1)}!e.lng&&n&&n.res&&(e.lng=this.language||n.usedLng),!1!==e.nest&&(t=this.interpolator.nest(t,((...t)=>r?.[0]!==t[0]||e.context?this.translate(...t,i):(this.logger.warn(`It seems you are nesting recursively key: ${t[0]} in key: ${i[0]}`),null)),e)),e.interpolation&&this.interpolator.reset()}const o=e.postProcess||this.options.postProcess,s=ht(o)?[o]:o;return null!=t&&s?.length&&!1!==e.applyPostProcessor&&(t=St.handle(s,t,i,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(e)},...e}:e,this)),t}resolve(t,i={}){let e,n,r,o,s;return ht(t)&&(t=[t]),t.forEach((t=>{if(this.isValidLookup(e))return;const a=this.extractFromKey(t,i),h=a.key;n=h;let l=a.namespaces;this.options.fallbackNS&&(l=l.concat(this.options.fallbackNS));const c=void 0!==i.count&&!ht(i.count),u=c&&!i.ordinal&&0===i.count,d=void 0!==i.context&&(ht(i.context)||"number"==typeof i.context)&&""!==i.context,f=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);l.forEach((t=>{this.isValidLookup(e)||(s=t,Pt[`${f[0]}-${t}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(s)||(Pt[`${f[0]}-${t}`]=!0,this.logger.warn(`key "${n}" for languages "${f.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((n=>{if(this.isValidLookup(e))return;o=n;const s=[h];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(s,h,n,t,i);else{let t;c&&(t=this.pluralResolver.getSuffix(n,i.count,i));const e=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(i.ordinal&&0===t.indexOf(r)&&s.push(h+t.replace(r,this.options.pluralSeparator)),s.push(h+t),u&&s.push(h+e)),d){const n=`${h}${this.options.contextSeparator||"_"}${i.context}`;s.push(n),c&&(i.ordinal&&0===t.indexOf(r)&&s.push(n+t.replace(r,this.options.pluralSeparator)),s.push(n+t),u&&s.push(n+e))}}let a;for(;a=s.pop();)this.isValidLookup(e)||(r=a,e=this.getResource(n,t,a,i))})))}))})),{res:e,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:s}}isValidLookup(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}getResource(t,i,e,n={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,i,e,n):this.resourceStore.getResource(t,i,e,n)}getUsedParamsDetails(t={}){const i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],e=t.replace&&!ht(t.replace);let n=e?t.replace:t;if(e&&void 0!==t.count&&(n.count=t.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!e){n={...n};for(const t of i)delete n[t]}return n}static hasDefaultValue(t){for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&"defaultValue"===i.substring(0,12)&&void 0!==t[i])return!0;return!1}}class Dt{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ct.create("languageUtils")}getScriptPartFromCode(t){if(!(t=$t(t))||t.indexOf("-")<0)return null;const i=t.split("-");return 2===i.length?null:(i.pop(),"x"===i[i.length-1].toLowerCase()?null:this.formatLanguageCode(i.join("-")))}getLanguagePartFromCode(t){if(!(t=$t(t))||t.indexOf("-")<0)return t;const i=t.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(t){if(ht(t)&&t.indexOf("-")>-1){let i;try{i=Intl.getCanonicalLocales(t)[0]}catch(t){}return i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let i;return t.forEach((t=>{if(i)return;const e=this.formatLanguageCode(t);this.options.supportedLngs&&!this.isSupportedCode(e)||(i=e)})),!i&&this.options.supportedLngs&&t.forEach((t=>{if(i)return;const e=this.getScriptPartFromCode(t);if(this.isSupportedCode(e))return i=e;const n=this.getLanguagePartFromCode(t);if(this.isSupportedCode(n))return i=n;i=this.options.supportedLngs.find((t=>t===n?t:t.indexOf("-")<0&&n.indexOf("-")<0?void 0:t.indexOf("-")>0&&n.indexOf("-")<0&&t.substring(0,t.indexOf("-"))===n||0===t.indexOf(n)&&n.length>1?t:void 0))})),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(t,i){if(!t)return[];if("function"==typeof t&&(t=t(i)),ht(t)&&(t=[t]),Array.isArray(t))return t;if(!i)return t.default||[];let e=t[i];return e||(e=t[this.getScriptPartFromCode(i)]),e||(e=t[this.formatLanguageCode(i)]),e||(e=t[this.getLanguagePartFromCode(i)]),e||(e=t.default),e||[]}toResolveHierarchy(t,i){const e=this.getFallbackCodes((!1===i?[]:i)||this.options.fallbackLng||[],t),n=[],r=t=>{t&&(this.isSupportedCode(t)?n.push(t):this.logger.warn(`rejecting language code not found in supportedLngs: ${t}`))};return ht(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(t))):ht(t)&&r(this.formatLanguageCode(t)),e.forEach((t=>{n.indexOf(t)<0&&r(this.formatLanguageCode(t))})),n}}const Lt={zero:0,one:1,two:2,few:3,many:4,other:5},zt={select:t=>1===t?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Ft{constructor(t,i={}){this.languageUtils=t,this.options=i,this.logger=Ct.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(t,i={}){const e=$t("dev"===t?"en":t),n=i.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:e,type:n});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let o;try{o=new Intl.PluralRules(e,{type:n})}catch(e){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),zt;if(!t.match(/-|_/))return zt;const n=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(n,i)}return this.pluralRulesCache[r]=o,o}needsPlural(t,i={}){let e=this.getRule(t,i);return e||(e=this.getRule("dev",i)),e?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,i,e={}){return this.getSuffixes(t,e).map((t=>`${i}${t}`))}getSuffixes(t,i={}){let e=this.getRule(t,i);return e||(e=this.getRule("dev",i)),e?e.resolvedOptions().pluralCategories.sort(((t,i)=>Lt[t]-Lt[i])).map((t=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${t}`)):[]}getSuffix(t,i,e={}){const n=this.getRule(t,e);return n?`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${n.select(i)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",i,e))}}const Rt=(t,i,e,n=".",r=!0)=>{let o=((t,i,e)=>{const n=mt(t,e);return void 0!==n?n:mt(i,e)})(t,i,e);return!o&&r&&ht(e)&&(o=At(t,e,n),void 0===o&&(o=At(i,e,n))),o},Nt=t=>t.replace(/\$/g,"$$$$");class Bt{constructor(t={}){this.logger=Ct.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(t=>t),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:i,escapeValue:e,useRawValueToEscape:n,prefix:r,prefixEscaped:o,suffix:s,suffixEscaped:a,formatSeparator:h,unescapeSuffix:l,unescapePrefix:c,nestingPrefix:u,nestingPrefixEscaped:d,nestingSuffix:f,nestingSuffixEscaped:p,nestingOptionsSeparator:g,maxReplaces:m,alwaysFormat:v}=t.interpolation;this.escape=void 0!==i?i:yt,this.escapeValue=void 0===e||e,this.useRawValueToEscape=void 0!==n&&n,this.prefix=r?bt(r):o||"{{",this.suffix=s?bt(s):a||"}}",this.formatSeparator=h||",",this.unescapePrefix=l?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=u?bt(u):d||bt("$t("),this.nestingSuffix=f?bt(f):p||bt(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(t,i)=>t?.source===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,i,e,n){let r,o,s;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=t=>{if(t.indexOf(this.formatSeparator)<0){const r=Rt(i,a,t,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,e,{...n,...i,interpolationkey:t}):r}const r=t.split(this.formatSeparator),o=r.shift().trim(),s=r.join(this.formatSeparator).trim();return this.format(Rt(i,a,o,this.options.keySeparator,this.options.ignoreJSONStructure),s,e,{...n,...i,interpolationkey:o})};this.resetRegExp();const l=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,c=void 0!==n?.interpolation?.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:t=>Nt(t)},{regex:this.regexp,safeValue:t=>Nt(this.escapeValue?this.escape(t):t)}].forEach((i=>{for(s=0;r=i.regex.exec(t);){const e=r[1].trim();if(o=h(e),void 0===o)if("function"==typeof l){const i=l(t,r,n);o=ht(i)?i:""}else if(n&&Object.prototype.hasOwnProperty.call(n,e))o="";else{if(c){o=r[0];continue}this.logger.warn(`missed to pass in variable ${e} for interpolating ${t}`),o=""}else ht(o)||this.useRawValueToEscape||(o=ct(o));const a=i.safeValue(o);if(t=t.replace(r[0],a),c?(i.regex.lastIndex+=o.length,i.regex.lastIndex-=r[0].length):i.regex.lastIndex=0,s++,s>=this.maxReplaces)break}})),t}nest(t,i,e={}){let n,r,o;const s=(t,i)=>{const e=this.nestingOptionsSeparator;if(t.indexOf(e)<0)return t;const n=t.split(new RegExp(`${e}[ ]*{`));let r=`{${n[1]}`;t=n[0],r=this.interpolate(r,o);const s=r.match(/'/g),a=r.match(/"/g);((s?.length??0)%2==0&&!a||a.length%2!=0)&&(r=r.replace(/'/g,'"'));try{o=JSON.parse(r),i&&(o={...i,...o})}catch(i){return this.logger.warn(`failed parsing options string in nesting for key ${t}`,i),`${t}${e}${r}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,t};for(;n=this.nestingRegexp.exec(t);){let a=[];o={...e},o=o.replace&&!ht(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const h=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(-1!==h&&(a=n[1].slice(h).split(this.formatSeparator).map((t=>t.trim())).filter(Boolean),n[1]=n[1].slice(0,h)),r=i(s.call(this,n[1].trim(),o),o),r&&n[0]===t&&!ht(r))return r;ht(r)||(r=ct(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${t}`),r=""),a.length&&(r=a.reduce(((t,i)=>this.format(t,i,e.lng,{...e,interpolationkey:n[1].trim()})),r.trim())),t=t.replace(n[0],r),this.regexp.lastIndex=0}return t}}const Ht=t=>{const i={};return(e,n,r)=>{let o=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(o={...o,[r.interpolationkey]:void 0});const s=n+JSON.stringify(o);let a=i[s];return a||(a=t($t(n),r),i[s]=a),a(e)}},Vt=t=>(i,e,n)=>t($t(e),n)(i);class Ut{constructor(t={}){this.logger=Ct.create("formatter"),this.options=t,this.init(t)}init(t,i={interpolation:{}}){this.formatSeparator=i.interpolation.formatSeparator||",";const e=i.cacheInBuiltFormats?Ht:Vt;this.formats={number:e(((t,i)=>{const e=new Intl.NumberFormat(t,{...i});return t=>e.format(t)})),currency:e(((t,i)=>{const e=new Intl.NumberFormat(t,{...i,style:"currency"});return t=>e.format(t)})),datetime:e(((t,i)=>{const e=new Intl.DateTimeFormat(t,{...i});return t=>e.format(t)})),relativetime:e(((t,i)=>{const e=new Intl.RelativeTimeFormat(t,{...i});return t=>e.format(t,i.range||"day")})),list:e(((t,i)=>{const e=new Intl.ListFormat(t,{...i});return t=>e.format(t)}))}}add(t,i){this.formats[t.toLowerCase().trim()]=i}addCached(t,i){this.formats[t.toLowerCase().trim()]=Ht(i)}format(t,i,e,n={}){const r=i.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find((t=>t.indexOf(")")>-1))){const t=r.findIndex((t=>t.indexOf(")")>-1));r[0]=[r[0],...r.splice(1,t)].join(this.formatSeparator)}return r.reduce(((t,i)=>{const{formatName:r,formatOptions:o}=(t=>{let i=t.toLowerCase().trim();const e={};if(t.indexOf("(")>-1){const n=t.split("(");i=n[0].toLowerCase().trim();const r=n[1].substring(0,n[1].length-1);"currency"===i&&r.indexOf(":")<0?e.currency||(e.currency=r.trim()):"relativetime"===i&&r.indexOf(":")<0?e.range||(e.range=r.trim()):r.split(";").forEach((t=>{if(t){const[i,...n]=t.split(":"),r=n.join(":").trim().replace(/^'+|'+$/g,""),o=i.trim();e[o]||(e[o]=r),"false"===r&&(e[o]=!1),"true"===r&&(e[o]=!0),isNaN(r)||(e[o]=parseInt(r,10))}}))}return{formatName:i,formatOptions:e}})(i);if(this.formats[r]){let i=t;try{const s=n?.formatParams?.[n.interpolationkey]||{};i=this.formats[r](t,s.locale||s.lng||n.locale||n.lng||e,{...o,...n,...s})}catch(t){this.logger.warn(t)}return i}return this.logger.warn(`there was no format function for ${r}`),t}),t)}}class Xt extends Ot{constructor(t,i,e,n={}){super(),this.backend=t,this.store=i,this.services=e,this.languageUtils=e.languageUtils,this.options=n,this.logger=Ct.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(e,n.backend,n)}queueLoad(t,i,e,n){const r={},o={},s={},a={};return t.forEach((t=>{let n=!0;i.forEach((i=>{const s=`${t}|${i}`;!e.reload&&this.store.hasResourceBundle(t,i)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===o[s]&&(o[s]=!0):(this.state[s]=1,n=!1,void 0===o[s]&&(o[s]=!0),void 0===r[s]&&(r[s]=!0),void 0===a[i]&&(a[i]=!0)))})),n||(s[t]=!0)})),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(a)}}loaded(t,i,e){const n=t.split("|"),r=n[0],o=n[1];i&&this.emit("failedLoading",r,o,i),!i&&e&&this.store.addResourceBundle(r,o,e,void 0,void 0,{skipCopy:!0}),this.state[t]=i?-1:2,i&&e&&(this.state[t]=0);const s={};this.queue.forEach((e=>{((t,i,e)=>{const{obj:n,k:r}=pt(t,i,Object);n[r]=n[r]||[],n[r].push(e)})(e.loaded,[r],o),((t,i)=>{void 0!==t.pending[i]&&(delete t.pending[i],t.pendingCount--)})(e,t),i&&e.errors.push(i),0!==e.pendingCount||e.done||(Object.keys(e.loaded).forEach((t=>{s[t]||(s[t]={});const i=e.loaded[t];i.length&&i.forEach((i=>{void 0===s[t][i]&&(s[t][i]=!0)}))})),e.done=!0,e.errors.length?e.callback(e.errors):e.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((t=>!t.done))}read(t,i,e,n=0,r=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:t,ns:i,fcName:e,tried:n,wait:r,callback:o});this.readingCalls++;const s=(s,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const t=this.waitingReads.shift();this.read(t.lng,t.ns,t.fcName,t.tried,t.wait,t.callback)}s&&a&&n<this.maxRetries?setTimeout((()=>{this.read.call(this,t,i,e,n+1,2*r,o)}),r):o(s,a)},a=this.backend[e].bind(this.backend);if(2!==a.length)return a(t,i,s);try{const e=a(t,i);e&&"function"==typeof e.then?e.then((t=>s(null,t))).catch(s):s(null,e)}catch(t){s(t)}}prepareLoading(t,i,e={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();ht(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ht(i)&&(i=[i]);const r=this.queueLoad(t,i,e,n);if(!r.toLoad.length)return r.pending.length||n(),null;r.toLoad.forEach((t=>{this.loadOne(t)}))}load(t,i,e){this.prepareLoading(t,i,{},e)}reload(t,i,e){this.prepareLoading(t,i,{reload:!0},e)}loadOne(t,i=""){const e=t.split("|"),n=e[0],r=e[1];this.read(n,r,"read",void 0,void 0,((e,o)=>{e&&this.logger.warn(`${i}loading namespace ${r} for language ${n} failed`,e),!e&&o&&this.logger.log(`${i}loaded namespace ${r} for language ${n}`,o),this.loaded(t,e,o)}))}saveMissing(t,i,e,n,r,o={},s=()=>{}){if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(i)){if(null!=e&&""!==e){if(this.backend?.create){const a={...o,isUpdate:r},h=this.backend.create.bind(this.backend);if(h.length<6)try{let r;r=5===h.length?h(t,i,e,n,a):h(t,i,e,n),r&&"function"==typeof r.then?r.then((t=>s(null,t))).catch(s):s(null,r)}catch(t){s(t)}else h(t,i,e,n,s,a)}t&&t[0]&&this.store.addResource(t[0],i,e,n)}}else this.logger.warn(`did not save key "${e}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const Yt=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let i={};if("object"==typeof t[1]&&(i=t[1]),ht(t[1])&&(i.defaultValue=t[1]),ht(t[2])&&(i.tDescription=t[2]),"object"==typeof t[2]||"object"==typeof t[3]){const e=t[3]||t[2];Object.keys(e).forEach((t=>{i[t]=e[t]}))}return i},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),qt=t=>(ht(t.ns)&&(t.ns=[t.ns]),ht(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ht(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),"boolean"==typeof t.initImmediate&&(t.initAsync=t.initImmediate),t),Kt=()=>{};class Gt extends Ot{constructor(t={},i){var e;if(super(),this.options=qt(t),this.services={},this.logger=Ct,this.modules={external:[]},e=this,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})),i&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,i),this;setTimeout((()=>{this.init(t,i)}),0)}}init(t={},i){this.isInitializing=!0,"function"==typeof t&&(i=t,t={}),null==t.defaultNS&&t.ns&&(ht(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const e=Yt();var n;this.options={...e,...this.options,...qt(t)},this.options.interpolation={...e.interpolation,...this.options.interpolation},void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),"function"!=typeof this.options.overloadTranslationOptionHandler&&(this.options.overloadTranslationOptionHandler=e.overloadTranslationOptionHandler),!1===this.options.showSupportNotice||(n=this,n?.modules?.backend?.name?.indexOf("Locize")>0||n?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||n?.options?.backend?.backends&&n.options.backend.backends.some((t=>t?.name?.indexOf("Locize")>0||t?.constructor?.name?.indexOf("Locize")>0)))||"undefined"!=typeof console&&void 0!==console.info&&console.info(" i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com ");const r=t=>t?"function"==typeof t?new t:t:null;if(!this.options.isClone){let t;Ct.init(this.modules.logger?r(this.modules.logger):null,this.options),t=this.modules.formatter?this.modules.formatter:Ut;const i=new Dt(this.options);this.store=new _t(this.options.resources,this.options);const n=this.services;n.logger=Ct,n.resourceStore=this.store,n.languageUtils=i,n.pluralResolver=new Ft(i,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==e.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!t||this.options.interpolation.format&&this.options.interpolation.format!==e.interpolation.format||(n.formatter=r(t),n.formatter.init&&n.formatter.init(n,this.options),this.options.interpolation.format=n.formatter.format.bind(n.formatter)),n.interpolator=new Bt(this.options),n.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},n.backendConnector=new Xt(r(this.modules.backend),n.resourceStore,n,this.options),n.backendConnector.on("*",((t,...i)=>{this.emit(t,...i)})),this.modules.languageDetector&&(n.languageDetector=r(this.modules.languageDetector),n.languageDetector.init&&n.languageDetector.init(n,this.options.detection,this.options)),this.modules.i18nFormat&&(n.i18nFormat=r(this.modules.i18nFormat),n.i18nFormat.init&&n.i18nFormat.init(this)),this.translator=new Wt(this.services,this.options),this.translator.on("*",((t,...i)=>{this.emit(t,...i)})),this.modules.external.forEach((t=>{t.init&&t.init(this)}))}if(this.format=this.options.interpolation.format,i||(i=Kt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const t=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);t.length>0&&"dev"!==t[0]&&(this.options.lng=t[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=(...i)=>this.store[t](...i)})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=(...i)=>(this.store[t](...i),this)}));const o=lt(),s=()=>{const t=(t,e)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(e),i(t,e)};if(this.languages&&!this.isInitialized)return t(null,this.t.bind(this));this.changeLanguage(this.options.lng,t)};return this.options.resources||!this.options.initAsync?s():setTimeout(s,0),o}loadResources(t,i=Kt){let e=i;const n=ht(t)?t:this.language;if("function"==typeof t&&(e=t),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===n?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return e();const t=[],i=i=>{i&&"cimode"!==i&&this.services.languageUtils.toResolveHierarchy(i).forEach((i=>{"cimode"!==i&&t.indexOf(i)<0&&t.push(i)}))};n?i(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((t=>i(t))),this.options.preload?.forEach?.((t=>i(t))),this.services.backendConnector.load(t,this.options.ns,(t=>{t||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),e(t)}))}else e(null)}reloadResources(t,i,e){const n=lt();return"function"==typeof t&&(e=t,t=void 0),"function"==typeof i&&(e=i,i=void 0),t||(t=this.languages),i||(i=this.options.ns),e||(e=Kt),this.services.backendConnector.reload(t,i,(t=>{n.resolve(),e(t)})),n}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&St.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}setResolvedLanguage(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1)){for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,i){this.isLanguageChangingTo=t;const e=lt();this.emit("languageChanging",t);const n=t=>{this.language=t,this.languages=this.services.languageUtils.toResolveHierarchy(t),this.resolvedLanguage=void 0,this.setResolvedLanguage(t)},r=(r,o)=>{o?this.isLanguageChangingTo===t&&(n(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,e.resolve(((...t)=>this.t(...t))),i&&i(r,((...t)=>this.t(...t)))},o=i=>{t||i||!this.services.languageDetector||(i=[]);const e=ht(i)?i:i&&i[0],o=this.store.hasLanguageSomeTranslations(e)?e:this.services.languageUtils.getBestMatchFromCodes(ht(i)?[i]:i);o&&(this.language||n(o),this.translator.language||this.translator.changeLanguage(o),this.services.languageDetector?.cacheUserLanguage?.(o)),this.loadResources(o,(t=>{r(t,o)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t):o(this.services.languageDetector.detect()),e}getFixedT(t,i,e){const n=(t,i,...r)=>{let o;o="object"!=typeof i?this.options.overloadTranslationOptionHandler([t,i].concat(r)):{...i},o.lng=o.lng||n.lng,o.lngs=o.lngs||n.lngs,o.ns=o.ns||n.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||e||n.keyPrefix);const s=this.options.keySeparator||".";let a;return o.keyPrefix&&Array.isArray(t)?a=t.map((t=>("function"==typeof t&&(t=Et(t,{...this.options,...i})),`${o.keyPrefix}${s}${t}`))):("function"==typeof t&&(t=Et(t,{...this.options,...i})),a=o.keyPrefix?`${o.keyPrefix}${s}${t}`:t),this.t(a,o)};return ht(t)?n.lng=t:n.lngs=t,n.ns=i,n.keyPrefix=e,n}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,i={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const e=i.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===e.toLowerCase())return!0;const o=(t,i)=>{const e=this.services.backendConnector.state[`${t}|${i}`];return-1===e||0===e||2===e};if(i.precheck){const t=i.precheck(this,o);if(void 0!==t)return t}return!(!this.hasResourceBundle(e,t)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!o(e,t)||n&&!o(r,t)))}loadNamespaces(t,i){const e=lt();return this.options.ns?(ht(t)&&(t=[t]),t.forEach((t=>{this.options.ns.indexOf(t)<0&&this.options.ns.push(t)})),this.loadResources((t=>{e.resolve(),i&&i(t)})),e):(i&&i(),Promise.resolve())}loadLanguages(t,i){const e=lt();ht(t)&&(t=[t]);const n=this.options.preload||[],r=t.filter((t=>n.indexOf(t)<0&&this.services.languageUtils.isSupportedCode(t)));return r.length?(this.options.preload=n.concat(r),this.loadResources((t=>{e.resolve(),i&&i(t)})),e):(i&&i(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const i=new Intl.Locale(t);if(i&&i.getTextInfo){const t=i.getTextInfo();if(t&&t.direction)return t.direction}}catch(t){}const i=this.services?.languageUtils||new Dt(Yt());return t.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(i.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},i){const e=new Gt(t,i);return e.createInstance=Gt.createInstance,e}cloneInstance(t={},i=Kt){const e=t.forkResourceStore;e&&delete t.forkResourceStore;const n={...this.options,...t,isClone:!0},r=new Gt(n);if(void 0===t.debug&&void 0===t.prefix||(r.logger=r.logger.clone(t)),["store","services","language"].forEach((t=>{r[t]=this[t]})),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},e){const t=Object.keys(this.store.data).reduce(((t,i)=>(t[i]={...this.store.data[i]},t[i]=Object.keys(t[i]).reduce(((e,n)=>(e[n]={...t[i][n]},e)),t[i]),t)),{});r.store=new _t(t,n),r.services.resourceStore=r.store}if(t.interpolation){const i={...Yt().interpolation,...this.options.interpolation,...t.interpolation},e={...n,interpolation:i};r.services.interpolator=new Bt(e)}return r.translator=new Wt(r.services,n),r.translator.on("*",((t,...i)=>{r.emit(t,...i)})),r.init(n,i),r.translator.options=n,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Jt=Gt.createInstance(),{slice:Zt,forEach:Qt}=[],ti=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ii={create(t,i,e,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};e&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+60*e*1e3)),n&&(r.domain=n),document.cookie=function(t,i){const e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"};let n=`${t}=${encodeURIComponent(i)}`;if(e.maxAge>0){const t=e.maxAge-0;if(Number.isNaN(t))throw new Error("maxAge should be a Number");n+=`; Max-Age=${Math.floor(t)}`}if(e.domain){if(!ti.test(e.domain))throw new TypeError("option domain is invalid");n+=`; Domain=${e.domain}`}if(e.path){if(!ti.test(e.path))throw new TypeError("option path is invalid");n+=`; Path=${e.path}`}if(e.expires){if("function"!=typeof e.expires.toUTCString)throw new TypeError("option expires is invalid");n+=`; Expires=${e.expires.toUTCString()}`}if(e.httpOnly&&(n+="; HttpOnly"),e.secure&&(n+="; Secure"),e.sameSite)switch("string"==typeof e.sameSite?e.sameSite.toLowerCase():e.sameSite){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;case"none":n+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return e.partitioned&&(n+="; Partitioned"),n}(t,i,r)},read(t){const i=`${t}=`,e=document.cookie.split(";");for(let t=0;t<e.length;t++){let n=e[t];for(;" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(i))return n.substring(i.length,n.length)}return null},remove(t,i){this.create(t,"",-1,i)}};var ei={name:"cookie",lookup(t){let{lookupCookie:i}=t;if(i&&"undefined"!=typeof document)return ii.read(i)||void 0},cacheUserLanguage(t,i){let{lookupCookie:e,cookieMinutes:n,cookieDomain:r,cookieOptions:o}=i;e&&"undefined"!=typeof document&&ii.create(e,t,n,r,o)}},ni={name:"querystring",lookup(t){let i,{lookupQuerystring:e}=t;if("undefined"!=typeof window){let{search:t}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(t=window.location.hash.substring(window.location.hash.indexOf("?")));const n=t.substring(1).split("&");for(let t=0;t<n.length;t++){const r=n[t].indexOf("=");r>0&&n[t].substring(0,r)===e&&(i=n[t].substring(r+1))}}return i}},ri={name:"hash",lookup(t){let i,{lookupHash:e,lookupFromHashIndex:n}=t;if("undefined"!=typeof window){const{hash:t}=window.location;if(t&&t.length>2){const r=t.substring(1);if(e){const t=r.split("&");for(let n=0;n<t.length;n++){const r=t[n].indexOf("=");r>0&&t[n].substring(0,r)===e&&(i=t[n].substring(r+1))}}if(i)return i;if(!i&&n>-1){const i=t.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(i))return;const e="number"==typeof n?n:0;return i[e]?.replace("/","")}}}return i}};let oi=null;const si=()=>{if(null!==oi)return oi;try{if(oi="undefined"!=typeof window&&null!==window.localStorage,!oi)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch(t){oi=!1}return oi};var ai={name:"localStorage",lookup(t){let{lookupLocalStorage:i}=t;if(i&&si())return window.localStorage.getItem(i)||void 0},cacheUserLanguage(t,i){let{lookupLocalStorage:e}=i;e&&si()&&window.localStorage.setItem(e,t)}};let hi=null;const li=()=>{if(null!==hi)return hi;try{if(hi="undefined"!=typeof window&&null!==window.sessionStorage,!hi)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch(t){hi=!1}return hi};var ci={name:"sessionStorage",lookup(t){let{lookupSessionStorage:i}=t;if(i&&li())return window.sessionStorage.getItem(i)||void 0},cacheUserLanguage(t,i){let{lookupSessionStorage:e}=i;e&&li()&&window.sessionStorage.setItem(e,t)}},ui={name:"navigator",lookup(t){const i=[];if("undefined"!=typeof navigator){const{languages:t,userLanguage:e,language:n}=navigator;if(t)for(let e=0;e<t.length;e++)i.push(t[e]);e&&i.push(e),n&&i.push(n)}return i.length>0?i:void 0}},di={name:"htmlTag",lookup(t){let i,{htmlTag:e}=t;const n=e||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(i=n.getAttribute("lang")),i}},fi={name:"path",lookup(t){let{lookupFromPathIndex:i}=t;if("undefined"==typeof window)return;const e=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(e))return;const n="number"==typeof i?i:0;return e[n]?.replace("/","")}},pi={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:i}=t;const e="number"==typeof i?i+1:1,n="undefined"!=typeof window&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[e]}};let gi=!1;try{gi=!0}catch(t){}const mi=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];gi||mi.splice(1,1);class vi{constructor(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,i)}init(){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},this.options=function(t){return Qt.call(Zt.call(arguments,1),(i=>{if(i)for(const e in i)void 0===t[e]&&(t[e]=i[e])})),t}(t,this.options||{},{order:mi,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=t=>t.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(ei),this.addDetector(ni),this.addDetector(ai),this.addDetector(ci),this.addDetector(ui),this.addDetector(di),this.addDetector(fi),this.addDetector(pi),this.addDetector(ri)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order).forEach((i=>{if(this.detectors[i]){let e=this.detectors[i].lookup(this.options);e&&"string"==typeof e&&(e=[e]),e&&(t=t.concat(e))}})),t=t.filter((t=>{return null!=t&&!("string"==typeof(i=t)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some((t=>t.test(i))));var i})).map((t=>this.options.convertDetectedLanguage(t))),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||i.forEach((i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(t,this.options)})))}}vi.type="languageDetector";Jt.use(vi).init({resources:{en:{translation:{"Do you want to exit?":"Do you want to exit?",Exit:"Exit","Continue playing":"Continue playing","Drop the elements to match the given symbol order":"Drop the elements to match the given symbol order","Fill  in  the  blanks":"Fill  in  the  blanks",instruction:{dragAndDrop:"Match the items by dragging and dropping them into the correct places.",mcq:"Select the correct answer from the options provided.",tracing:"Trace the shape by following the outline carefully.",flashcards:"Review the flashcards to reinforce your learning.",substractionWithImage:"substractionWithImageEngAudio",substractionWithoutImage:"substractionWithoutImageEngAudio",numberIdentificationWithImage:"numberIdentificationWithImageEngAudio",numberIdentificationWithoutImage:"numberIdentificationWithoutImageEngAudio",wordBuildingWithImage:"wordBuildingWithImageEngAudio",wordBuildingWithoutImage:"wordBuildingWithoutImageEngAudio",pictureClues:"pictureCluesEngAudio",pictureWordMatchMultipleImages:"pictureWordMatchMultipleImagesEngAudio",pictureWordMatchSingleImage:"pictureWordMatchSingleImageEngAudio",sentenceMatch:"sentenceMatchEngAudio",imageMatch:"imageMatchEngAudio",palStoryTale:"palStoryTaleEngAudio",palEgmaPatternMatching:"palEgmaPatternMatchingEngAudio",palEgmaWordProblemDragnDrop:"palEgmaWordProblemDragnDropEngAudio",palEgmaWordProblemClick:"palEgmaWordProblemClickEngAudio",palEgraOddOneOut:"palEgraOddOneOutEngAudio",palEgraArrangePictures:"palEgraArrangePicturesEngAudio",palEgraBuildWord:"palEgraBuildWordEngAudio",palEgraWordFormation:"palEgraWordFormationEngAudio",palInventedSpelling:"palInventedSpellingEngAudio",palLetterIdentification:"palLetterIdentificationEngAudio",palStoryMaking:"palStoryMakingEngAudio",palegmasumtogether:"palegmasumtogetherEngAudio",palegmamultioption:"palegmamultioptionEngAudio",palegraoptionaudio:"palegraoptionaudioEngAudio",palegrawordmatch:"palegrawordmatchEngAudio",palegramcqimages:"palegramcqimagesEngAudio"}}},fr:{translation:{"Do you want to exit?":"Voulez-vous quitter?",Exit:"Quitter","Continue playing":"Continuer  jouer","Drop the elements to match the given symbol order":"Dposez les lments pour correspondre au symbole donn","Fill  in  the  blanks":"Remplissez les blancs",instruction:{dragAndDrop:"Faites glisser les objets vers le bon emplacement.",mcq:"Choisissez la bonne rponse parmi les options proposes.",tracing:"Tracez soigneusement la forme en suivant la ligne.",flashcards:"Regardez les cartes mmoire pour renforcer lapprentissage."}}},hi:{translation:{"Do you want to exit?":"     ?",Exit:" ","Continue playing":"  ","Drop the elements to match the given symbol order":"          ","Fill  in  the  blanks":"  ",instruction:{dragAndDrop:"Match the items by dragging and dropping them into the correct places.",mcq:"Select the correct answer from the options provided.",tracing:"Trace the shape by following the outline carefully.",flashcards:"Review the flashcards to reinforce your learning.",substractionWithImage:"substractionWithImageHiAudio",substractionWithoutImage:"substractionWithoutImageHiAudio",numberIdentificationWithImage:"numberIdentificationWithImageHiAudio",numberIdentificationWithoutImage:"numberIdentificationWithoutImageHiAudio",wordBuildingWithImage:"wordBuildingWithImageHiAudio",wordBuildingWithoutImage:"wordBuildingWithoutImageHiAudio",pictureClues:"pictureCluesHiAudio",pictureWordMatchMultipleImages:"pictureWordMatchMultipleImagesHiAudio",pictureWordMatchSingleImage:"pictureWordMatchSingleImageHiAudio",sentenceMatch:"sentenceMatchHiAudio",imageMatch:"imageMatchHiAudio",palStoryTale:"palStoryTaleHiAudio",palEgmaPatternMatching:"palEgmaPatternMatchingHiAudio",palEgmaWordProblemDragnDrop:"palEgmaWordProblemDragnDropHiAudio",palEgmaWordProblemClick:"palEgmaWordProblemClickHiAudio",palEgraOddOneOut:"palEgraOddOneOutHiAudio",palEgraArrangePictures:"palEgraArrangePicturesHiAudio",palEgraBuildWord:"palEgraBuildWordHiAudio",palEgraWordFormation:"palEgraWordFormationHiAudio",palInventedSpelling:"palInventedSpellingHiAudio",palLetterIdentification:"palLetterIdentificationHiAudio",palStoryMaking:"palStoryMakingHiAudio",palegmasumtogether:"palegmasumtogetherHiAudio",palegmamultioption:"palegmamultioptionHiAudio",palegraoptionaudio:"palegraoptionaudioHiAudio",palegrawordmatch:"palegrawordmatchHiAudio",palegramcqimages:"palegramcqimagesHiAudio"}}},ka:{translation:{"Do you want to exit?":"  ?",Exit:"","Continue playing":" ","Drop the elements to match the given symbol order":"    ","Fill  in  the  blanks":"   ",instruction:{dragAndDrop:"Match the items by dragging and dropping them into the correct places.",mcq:"Select the correct answer from the options provided.",tracing:"Trace the shape by following the outline carefully.",flashcards:"Review the flashcards to reinforce your learning.",substractionWithImage:"substractionWithImageKaAudio",substractionWithoutImage:"substractionWithoutImageKaAudio",numberIdentificationWithImage:"numberIdentificationWithImageKaAudio",numberIdentificationWithoutImage:"numberIdentificationWithoutImageKaAudio",wordBuildingWithImage:"wordBuildingWithImageKaAudio",wordBuildingWithoutImage:"wordBuildingWithoutImageKaAudio",pictureClues:"pictureCluesKaAudio",pictureWordMatchMultipleImages:"pictureWordMatchMultipleImagesKaAudio",pictureWordMatchSingleImage:"pictureWordMatchSingleImageKaAudio",sentenceMatch:"sentenceMatchKaAudio",imageMatch:"imageMatchKaAudio",palStoryTale:"palStoryTaleKaAudio",palEgmaPatternMatching:"palEgmaPatternMatchingKaAudio",palEgmaWordProblemDragnDrop:"palEgmaWordProblemDragnDropKaAudio",palEgmaWordProblemClick:"palEgmaWordProblemClickKaAudio",palEgraOddOneOut:"palEgraOddOneOutKaAudio",palEgraArrangePictures:"palEgraArrangePicturesKaAudio",palEgraBuildWord:"palEgraBuildWordKaAudio",palEgraWordFormation:"palEgraWordFormationKaAudio",palInventedSpelling:"palInventedSpellingKaAudio",palLetterIdentification:"palLetterIdentificationKaAudio",palStoryMaking:"palStoryMakingKaAudio",palegmasumtogether:"palegmasumtogetherKaAudio",palegmamultioption:"palegmamultioptionKaAudio",palegraoptionaudio:"palegraoptionaudioKaAudio",palegrawordmatch:"palegrawordmatchKaAudio",palegramcqimages:"palegramcqimagesKaAudio"}}},te:{translation:{"Do you want to exit?":"  ?",Exit:" ","Continue playing":" ","Drop the elements to match the given symbol order":"     ","Fill  in  the  blanks":" "}},port:{translation:{"Do you want to exit?":"Voc deseja sair?",Exit:"Sair","Continue playing":"Continuar jogando","Drop the elements to match the given symbol order":"Solte os elementos para corresponder  ordem dos smbolos fornecida","Fill  in  the  blanks":"Preencha os espaos em branco"}},ma:{translation:{instruction:{dragAndDrop:"      .",mcq:"    .",tracing:"     .",flashcards:"     ."}}}},fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["querystring","localStorage","navigator","htmlTag"],caches:["localStorage"]}});const bi=class{constructor(i){t(this,i),this.Lang="",this.showDropBorder=!0,this.appendToDropOnCompletion=!1,this.id="",this.objective="",this.customStyle="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="auto",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.bgImage="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.canplay=!0,this.showCheck=!1,this.isContinueOnCorrect=!1,this.isAllowOnlyCorrect=!1,this.baseUrl="",this.margin="",this.showPrevButton="false",this.showNextButton="false",this.delayVisible="",this.disableSpeak=!1,this.templateId="",this.highlightWordByWord=!1,this.instructName="",this.speakFlag=!1}languageChanged(t){const i=t||this.resolveLanguage();this.updateChildTextLanguage(i)}componentWillLoad(){const t=this.resolveLanguage();this.updateChildTextLanguage(t),this.resolveInstructionAudio()}resolveInstructionAudio(){var t;this.instructName=null!==(t={flashcard:"instruction.flashcards",mcq:"instruction.mcq",tracing:"instruction.tracing",dragAndDrop:"instruction.dragAndDrop",substractionWithImage:"substractionWithImageAudio",substractionWithoutImage:"substractionWithoutImageAudio",numberIdentificationWithImage:"numberIdentificationWithImageAudio",numberIdentificationWithoutImage:"numberIdentificationWithoutImageAudio",wordBuildingWithImage:"wordBuildingWithImageAudio",wordBuildingWithoutImage:"wordBuildingWithoutImageAudio",pictureClues:"pictureCluesAudio",pictureWordMatchMultipleImages:"pictureWordMatchMultipleImagesAudio",pictureWordMatchSingleImage:"pictureWordMatchSingleImageAudio",sentenceMatch:"sentenceMatchAudio",imageMatch:"imageMatchAudio",palStoryTale:"palStoryTaleAudio",palEgmaPatternMatching:"palEgmaPatternMatchingAudio",palEgmaWordProblemDragnDrop:"palEgmaWordProblemDragnDropAudio",palEgmaWordProblemClick:"palEgmaWordProblemClickAudio",palEgraOddOneOut:"palEgraOddOneOutAudio",palEgraArrangePictures:"palEgraArrangePicturesAudio",palEgraBuildWord:"palEgraBuildWordAudio",palEgraWordFormation:"palEgraWordFormationAudio",palInventedSpelling:"palInventedSpellingAudio",palLetterIdentification:"palLetterIdentificationAudio",palStoryMaking:"palStoryMakingAudio",palegmasumtogether:"palegmasumtogetherAudio",palegmamultioption:"palegmamultioptionAudio",palegraoptionaudio:"palegraoptionAudio",palegrawordmatch:"palegrawordmatchAudio",palegramcqimages:"palegramcqimagesAudio"}[this.templateId])&&void 0!==t?t:"";const i=document.querySelector("lido-home");if(!i)return;const e=i.getAttribute(b)||"";this.speakFlag=e.includes(this.templateId),this.speakFlag||i.setAttribute(b,[e,this.templateId].filter(Boolean).join(","))}resolveLanguage(){var t,i;const e=this.el.closest("lido-root"),n=(null==e?void 0:e.Lang)||"";if(null==n?void 0:n.trim())return n;const r=this.el.closest("lido-home"),o=(null==r?void 0:r.Lang)||"";if(null==o?void 0:o.trim())return o;if(null===(t=this.Lang)||void 0===t?void 0:t.trim())return this.Lang;const s=this.el.getAttribute("Lang");return(null==s?void 0:s.trim())?s:null===(i=this.el.textContent)||void 0===i?void 0:i.trim()}convertToPixels(t,i=document.body){if(!t)return 0;if(t.endsWith("px"))return parseFloat(t);const e=document.createElement("div");e.style.position="absolute",e.style.visibility="hidden",e.style.height=t,i.appendChild(e);const n=e.offsetHeight;return i.removeChild(e),n}scaleContainer(t){const i=this.getClosestParentWithWidth();let e=0;i&&(e=Math.min(i.clientWidth/1600,i.clientHeight/900)),t.style.transform=`translate(-50%, -50%) scale(${0!=e?e:w()})`,t.style.left="50%",t.style.top="50%",t.style.position="absolute",this.screenOrientation()}getClosestParentWithWidth(){let t=this.el.parentElement;for(;t;){if(t.offsetWidth>0)return t;t=t.parentElement}return null}screenOrientation(){window.innerHeight>window.innerWidth?(this.el.style.height="1600px",this.el.style.width="900px"):(this.el.style.height="900px",this.el.style.width="1600px")}updateChildTextLanguage(t){const i=t||Jt.language||"en";Jt.changeLanguage(i),this.el.querySelectorAll("lido-text").forEach((t=>{t.Lang=i,t.dispatchEvent(new CustomEvent("languageChanged",{bubbles:!0}))}))}componentDidLoad(){this.scaleContainer(this.el);const t=this.bgImage?l(this.bgImage):"";if(document.body.style.pointerEvents="auto",document.body.style.backgroundColor=this.bgColor,document.body.style.backgroundImage=t?`url(${t})`:"none",document.body.style.backgroundPosition=t?"bottom":"none",window.addEventListener("resize",(()=>this.scaleContainer(this.el))),window.addEventListener("load",(()=>this.scaleContainer(this.el))),this.templateId?setTimeout((()=>{this.el.setAttribute("onEntry",`${this.templateId}.speak='${!this.speakFlag}'; `+this.el.getAttribute("onEntry")),h(this.el,this.type)}),100):h(this.el,this.type),this.customStyle){const t=document.createElement("style");t.innerHTML=this.customStyle,document.head.appendChild(t)}const i=this.resolveLanguage();this.updateChildTextLanguage(i),setTimeout((()=>{y()}),100),x.getI().start()}disconnectedCallback(){window.removeEventListener("resize",(()=>this.scaleContainer(this.el))),window.removeEventListener("load",(()=>this.scaleContainer(this.el))),document.body.style.backgroundColor="",document.body.style.backgroundImage="",x.getI().stop()}render(){const t={backgroundColor:this.bgColor,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",margin:this.margin,userSelect:"none"};return console.log(" ~ LidoContainer ~ canplay:",this.canplay),e(n,{key:"014c301faa29986c542f20cf02699b30c2d6c4fb",id:"lido-container",Lang:this.Lang,"tab-index":0,class:"lido-container",objective:this.objective,baseUrl:this.baseUrl,style:t,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,onTouch:this.onTouch,onInCorrect:this.onInCorrect,onCorrect:this.onCorrect,onEntry:this.onEntry,"show-check":`${this.showCheck}`,"is-continue-on-correct":`${this.isContinueOnCorrect}`,"is-allow-only-correct":`${this.isAllowOnlyCorrect}`,canplay:`${this.canplay}`,appendToDropOnCompletion:`${this.appendToDropOnCompletion}`,"show-prev-button":`${this.showPrevButton}`,"show-next-button":`${this.showNextButton}`,"show-drop-border":`${this.showDropBorder}`,"bg-image":this.bgImage,"exit-button-url":this.exitButtonUrl,"prev-button-url":this.prevButtonUrl,"next-button-url":this.nextButtonUrl,"speaker-button-url":this.speakerButtonUrl,"disable-speak":this.disableSpeak,"template-id":this.templateId,audio:this.audio,"highlight-word-by-word":`${this.highlightWordByWord}`},e("lido-text",{key:"eb9e9336b0e154d79c16a4fc37ffb2134a7f624e",visible:"false",id:this.templateId,audio:"",string:this.instructName}),e("slot",{key:"a6b90e19056a716c63b06fa0e8de96397a8d0a96"}))}get el(){return r(this)}static get watchers(){return{Lang:[{languageChanged:0}]}}};bi.style=".lido-container{position:relative;height:100%;width:100%;background-color:var(--bgColor, transparent);display:flex;flex-direction:column;justify-content:center;align-items:center}";const wi=class{constructor(i){t(this,i),this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible=!0,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.flipped=!1,this.margin="",this.disableSpeak=!1,this.style={},this.delayVisible="",this.updateStyles=()=>{const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:c(this.height,t)||"200px",width:c(this.width,t)||"200px",backgroundColor:c(this.bgColor,t),top:c(this.y,t),left:c(this.x,t),zIndex:this.z,display:this.visible?this.display?c(this.display,t):"inline-block":"none",flexDirection:this.direction?c(this.direction,t):void 0,margin:c(this.margin,t)}},this.handleFlip=()=>{this.flipped=!this.flipped}}handleFlippedChange(){}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles),window.addEventListener("load",this.updateStyles)}componentDidLoad(){a(this.el,this.delayVisible);const t=this.el.querySelector(".card");t&&setTimeout((()=>{t.classList.add("flipped"),setTimeout((()=>{t.classList.remove("flipped")}),500)}),500),h(this.el,this.type)}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles),window.removeEventListener("load",this.updateStyles)}render(){return e(n,{key:"feb4183de8377349b990563bf7f2e6a999d8a1c5",value:this.value,"tab-index":this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,type:this.type,onClick:this.handleFlip,"disable-speak":this.disableSpeak},e("div",{key:"e1a8a03fb07fba6f7d44f207a1ef7081bb188bcf",class:"card "+(this.flipped?"flipped":"")},e("div",{key:"fc8df309a9e6bf2b44198ca6c41c0e1a3ee6dcf9",class:"card-face card-front"},null!=this.front?this.front:e("slot",{name:"front"})),e("div",{key:"e707168ae9e3fc8518b635c8e10b83305f569f5c",class:"card-face card-back"},null!=this.back?this.back:e("slot",{name:"back"}))))}get el(){return r(this)}static get watchers(){return{flipped:[{handleFlippedChange:0}]}}};wi.style=".card{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform 0.6s ease;cursor:pointer}.card.flipped{transform:rotateY(180deg)}.card-face{position:absolute;width:100%;height:100%;backface-visibility:hidden;display:flex;align-items:center;justify-content:center}.card-back{transform:rotateY(180deg)}";const yi=class{constructor(i){t(this,i),this.id="",this.value="",this.z="0",this.tabIndex=0,this.visible=!1,this.onEntry="",this.delayVisible="",this.floatDirection="bottomToTop"}componentDidLoad(){a(this.el,this.delayVisible),h(this.el,this.type),this.initializeFloatElement()}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}initializeFloatElement(){Array.from(this.el.children).forEach((t=>{const i=t;k(i),t.addEventListener("click",(()=>{A(i)}))}))}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:"leftToRight"!==this.floatDirection?"100%":c(this.height,t),width:"leftToRight"===this.floatDirection?"100%":c(this.width,t),backgroundColor:c(this.bgColor,t),zIndex:this.z,display:this.visible?"flex":"none"}}render(){return e(n,{key:"d12c96be36eb27c4b46cb2b494f1de3352634feb",class:"lido-float","float-direction":this.floatDirection,id:this.id,"tab-index":this.tabIndex,style:this.style,onEntry:this.onEntry},e("slot",{key:"5c2b330b5fb5c27ead76a0a9514750d4dd3ef820"}))}get el(){return r(this)}};yi.style=".lido-float{position:relative}.lido-float>*{position:absolute;cursor:pointer}@keyframes float-up{from{top:var(--el-top)}to{top:-500px}}#removeShadow{box-shadow:unset !important}@keyframes float-lr{from{right:var(--el-left)}to{right:-500px}}";const xi=class{constructor(i){t(this,i),this.commonAudioPath="",this.showNav=!0,this.activeContainerIndexes=[],this.Lang="",this.xmlData="",this.initialIndex=0,this.canplay=!0,this.baseUrl="",this.height="",this.uuid=$(),this.currentContainerIndex=this.initialIndex,this.exitFlag=!1,this.containers=[],this.NextContainerKey=t=>{var i,e;console.log(" ~ LidoHome ~ NextContainerKey ~","ths uuid",this.uuid,"doc uuid",document.querySelector("lido-home").getAttribute("uuid"),"are both equal : ",this.uuid===(null===(i=document.querySelector("lido-home"))||void 0===i?void 0:i.getAttribute("uuid"))),this.uuid===(null===(e=document.querySelector("lido-home"))||void 0===e?void 0:e.getAttribute("uuid"))&&(null!=t&&t==this.currentContainerIndex||(null!=t&&t<this.containers.length?(this.currentContainerIndex=t,j(this.currentContainerIndex)):this.currentContainerIndex<this.containers.length-1?(this.currentContainerIndex++,j(this.currentContainerIndex)):this.currentContainerIndex>=this.containers.length-1&&(localStorage.removeItem(M),C(),this.currentContainerIndex=null),this.containers=[...this.containers],this.updateArrowVisibility()))},this.PrevContainerKey=t=>{console.log(" PrevContainerKey CALLED with index:",t),this.currentContainerIndex<=0||(this.currentContainerIndex--,j(this.currentContainerIndex),this.containers=[...this.containers],this.updateArrowVisibility())},this.showDotsandbtn=!1,this.updateArrowVisibility=()=>{this.showNav&&setTimeout((()=>{const t=this.el.querySelector("lido-container");if(!t)return;const i=t.getAttribute("show-prev-button"),e=t.getAttribute("show-next-button"),n=this.el.querySelector("#lido-arrow-right");this.el.querySelector("#lido-arrow-left").style.visibility="true"!==i?"hidden":"visible",n.style.visibility="true"!==e?"hidden":"visible"}),100)},this.popUpClick=t=>{const i=this.el.querySelector(".lido-alert-popup");this.exitFlag=!1,i&&("exit"===t?(O(),_.getI().stop(),localStorage.removeItem(M),i.remove(),this.currentContainerIndex=0):i.remove())}}onLangChange(t){this.setLanguage(t),this.containers=[...this.containers]}setLanguage(t){Jt.changeLanguage(t||Jt.language),this.containers=[...this.containers]}onCommonAudioPathChange(t){this.publishCommonAudioPath(t)}componentWillLoad(){this.navBarIcons={exit:this.exitButtonUrl||P,prev:this.prevButtonUrl||E,next:this.nextButtonUrl||I,speak:this.speakerButtonUrl||S},0===this.currentContainerIndex&&localStorage.removeItem(M),window.addEventListener(g,(()=>{this.NextContainerKey()})),window.addEventListener(T,(()=>{this.PrevContainerKey()})),window.addEventListener("changeContainer",(t=>{this.NextContainerKey(t.detail.index)})),this.parseXMLData(this.xmlData),window.addEventListener("beforeunload",(()=>{_.getI().stop(),localStorage.removeItem(M)}))}componentDidLoad(){this.publishCommonAudioPath(this.commonAudioPath),setTimeout((()=>{this.showDotsandbtn=!0}),10),this.updateArrowVisibility(),this.scaleNavbarContainer(),this.currentContainerIndex=0,this.handleIcons(),window.addEventListener("resize",(()=>{this.scaleNavbarContainer()}))}publishCommonAudioPath(t){if(!t)return;const i=t.replace(/\/+$/,"");window[W]=i,console.log("[LidoHome] Published common audio path:",i),window.dispatchEvent(new Event("lidoCommonAudioPathReady"))}async handleIcons(){var t;const i=async(t,i,e)=>t?l(t):i?l(i):null!=e&&e,e=document.getElementById(D),n=e.getAttribute("exit-button-url"),r=e.getAttribute("prev-button-url"),o=e.getAttribute("next-button-url"),s=null!==(t=e.getAttribute("speak-button-url"))&&void 0!==t?t:e.getAttribute("speaker-button-url");this.navBarIcons={exit:`${await i(this.exitButtonUrl,n,P)}`,prev:`${await i(this.prevButtonUrl,r,E)}`,next:`${await i(this.nextButtonUrl,o,I)}`,speak:`${await i(this.speakerButtonUrl,s,S)}`}}updateBackgroundImage(){const t=document.querySelector(D),i=t.getAttribute("bg-image");document.body.style.background="none",t.style.backgroundImage=i?`url(${i})`:"none",t.style.backgroundPosition=i?"bottom":"none",setTimeout((()=>{const i=document.querySelector(".lido-dot-container");i.classList.add("nav-for-lanai"),t.append(i)}),50)}disconnectedCallback(){window.removeEventListener(g,(()=>{this.NextContainerKey()})),window.removeEventListener("changeContainer",(t=>{this.NextContainerKey(t.detail.index)})),window.removeEventListener(T,(()=>{this.PrevContainerKey()})),window.removeEventListener("resize",(()=>{this.scaleNavbarContainer()}))}parseXMLData(t){if(t){const i=(new DOMParser).parseFromString(t,"text/xml");this.parseContainers(i.documentElement)}}onXmlDataChange(t){this.parseXMLData(t)}parseElement(t){const i=t.nodeName.toLowerCase(),n={};Array.from(t.attributes).forEach((t=>{n[t.name]=t.value}));const r=Array.from(t.childNodes).map((t=>1===t.nodeType?this.parseElement(t):3===t.nodeType&&""!==t.textContent.trim()?t.textContent:null)).filter(Boolean);"lido-text"===i&&n.string&&(n.string=Jt.t(n.string)),"lido-text"===i&&n.string&&(n.string=Jt.t(n.string));const o={"lido-container":e("lido-container",Object.assign({},n,{canplay:this.canplay,baseUrl:this.baseUrl,height:this.height}),r),"lido-flash-card":e("lido-flash-card",Object.assign({},n),r),"lido-col":e("lido-col",Object.assign({},n),r),"lido-trace":e("lido-trace",Object.assign({},n),r),"lido-image":e("lido-image",Object.assign({},n),r),"lido-row":e("lido-row",Object.assign({},n),r),"lido-text":e("lido-text",Object.assign({},n),r),"lido-pos":e("lido-pos",Object.assign({},n),r),"lido-shape":e("lido-shape",Object.assign({},n),r),"lido-wrap":e("lido-wrap",Object.assign({},n),r),"lido-random":e("lido-random",Object.assign({},n),r),"lido-avatar":e("lido-avatar",Object.assign({},n),r),"lido-cell":e("lido-cell",Object.assign({},n),r),"lido-slide-fill":e("lido-slide-fill",Object.assign({},n),r),"lido-float":e("lido-float",Object.assign({},n),r),"lido-keyboard":e("lido-keyboard",Object.assign({},n),r),"lido-math-matrix":e("lido-math-matrix",Object.assign({},n),r),"lido-balance":e("lido-balance",Object.assign({},n),r),"lido-calculator":e("lido-calculator",Object.assign({},n),r),"lido-canvas":e("lido-canvas",Object.assign({},n),r)};return o[i]?o[i]:(console.warn(`Unknown tag: ${i}`),null)}parseContainers(t){const i=t.querySelectorAll("lido-container"),e=Array.from(i).map(((t,i)=>{if(!this.activeContainerIndexes.length||this.activeContainerIndexes.includes(i))return()=>this.parseElement(t)})).filter(Boolean);this.containers=e}areAllDropsFilled(){const t=Array.from(document.querySelectorAll('[type="drop"]')),i=Array.from(document.querySelectorAll('[type="drag"]')).filter((t=>t.getAttribute("drop-to")));return t.every((t=>{const e=t.id;return i.some((t=>t.getAttribute("drop-to")===e))}))}async btnpopup(){B(!1),await _.getI().stop();const t=document.getElementById(D),i=t.querySelectorAll("*"),e=t.getAttribute(b);if(e){const t=this.el.querySelector(`#${e}`);t&&await f("this.speak='true';",t)}for(const t of Array.from(i)){if(L())break;const i=t.getAttribute("tab-index"),e=t;if(i&&Number(i)>0){if(t&&"true"!==t.getAttribute("disable-speak")&&await _.getI().play(e),L()){await _.getI().stop();break}await new Promise((t=>setTimeout(t,300)))}}if(this.areAllDropsFilled()){const i=t.objective,e=JSON.parse(localStorage.getItem(z)||"[]"),n=F(i,e);console.log("Resultt",n),n&&R()}else console.log("Not yet filled ")}scaleNavbarContainer(){setTimeout((()=>{const t=document.querySelector(".lido-dot-container");t&&((1600===window.innerWidth&&900===window.innerHeight||900===window.innerWidth&&1600===window.innerHeight)&&document.querySelectorAll(".lido-exit-button, #main-audio").forEach((t=>{t.style.marginLeft="10px",t.style.marginRight="10px"})),t.style.top=window.innerWidth>window.innerHeight?"6%":"3.5%",t.style.transform="translate(-50%, -50%)",t.style.visibility="visible",Array.from(t.children).forEach((t=>{t.style.transform=`scale(${w()})`})),t.style.width=window.outerWidth+"px")}),500)}renderDots(){const t={pointerEvents:this.canplay?"none":""};return e("div",{id:"lido-dot-indicator",class:"lido-dot-container",style:{visibility:"hidden"}},e("div",{class:"lido-exit-button popup\r\n        -button",onClick:()=>{this.exitFlag=!0,_.getI().stop()}},e("lido-image",{src:this.navBarIcons.exit})),e("div",{class:"lido-btn-dot-container"},e("div",{id:"lido-arrow-left",onClick:()=>{N()}},e("lido-image",{src:this.navBarIcons.prev})),this.containers.map(((i,n)=>e("div",{class:"parent_dots"},e("span",{class:"lido-dot "+(n<this.currentContainerIndex?"completed":n===this.currentContainerIndex?"current":""),onClick:()=>this.jumpToContainer(n),style:t})))),e("div",{id:"lido-arrow-right",onClick:t=>{console.log("Target:",t.target),console.log("Current Target:",t.currentTarget),console.log(" Button clicked - nextBtn action triggered"),f("this.nextBtn='true'",t.currentTarget)}},e("lido-image",{src:this.navBarIcons.next}))),e("div",{id:"main-audio",class:"popup-button",onClick:()=>this.btnpopup()},e("lido-image",{visible:"true",src:this.navBarIcons.speak})))}jumpToContainer(t){this.NextContainerKey(t)}render(){var t,i;return console.log(" ~ LidoHome ~ render ~ this.containers:",this),this.xmlData?e(n,{class:"lido-home",uuid:this.uuid,"template-id":"",index:this.currentContainerIndex,totalIndex:this.containers.length,style:{userSelect:"none"}},e("div",{key:this.currentContainerIndex},null===(i=(t=this.containers)[this.currentContainerIndex])||void 0===i?void 0:i.call(t)),this.renderDots(),this.exitFlag&&e("div",{class:"lido-alert-parent"},e("div",{class:"lido-alert-popup"},e("lido-cell",{class:"lido-alert-content",visible:"true",layout:"col",width:"340px",height:"210px","bg-color":"#fff","border-radius":"16px",onEntry:"this.box-shadow= '0 4px 8px 0 rgba(0, 0, 0, 0.25)';"},e("lido-text",{visible:"true",string:"Do you want to exit?",width:"294px",height:"38px",class:"popup-exit-text","font-size":"22px",onEntry:"this.margin-bottom =' -36px';"}),e("lido-cell",{visible:"true",layout:"row",width:"294px",class:"btn-cell"},e("lido-text",{visible:"true",string:"Exit",width:"92px",height:"53px","font-size":"16px",margin:"0px 50px 0px 0px",class:"popup-button",onClick:()=>this.popUpClick("exit"),borderRadius:"16px",onEntry:'this.color="#F34D08"; this.font-weight="700"; this.box-shadow="0 2px 0 #F34D08";',fontFamily:"Baloo Bhai 2","font-weight":"700",bgColor:"white","border-radius":"16px"}),e("lido-text",{visible:"true",string:"Continue playing",width:"155px",height:"53px","font-size":"16px",class:"popup-button",onClick:()=>this.popUpClick("cancel"),borderRadius:"16px",onEntry:'this.color=white; this.font-weight="700"; this.box-shadow="0 2px 0 #F34D08";',"font-family":"Baloo Bhai 2","font-weight":"700",bgColor:"#F34D08","border-radius":"16px"})))))):e("div",null,"Please provide XML data.")}get el(){return r(this)}static get watchers(){return{Lang:[{onLangChange:0}],commonAudioPath:[{onCommonAudioPathChange:0}],xmlData:[{onXmlDataChange:0}]}}};xi.style="@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap'); @import url('https://fonts.googleapis.com/css2?family=Baloo+2:wght@400..800&display=swap'); @import url('https://fonts.googleapis.com/css2?family=Baloo+Bhai+2:wght@400..800&display=swap'); body{overflow:hidden;background-position:center;background-size:cover;background-repeat:no-repeat;height:100vh}*{user-select:none}.lido-disable-check-button{pointer-events:none;background-color:#9393935c !important;color:white}.lido-element-selected{border:2px solid;background-color:#ffdf7d !important}.diagonal-target,.diagonal-drop *{transform:scale(0.8) !important;opacity:1 !important}.cloned-element{display:flex !important;position:absolute !important;filter:grayscale(100%);pointer-events:none}.removeShadow{box-shadow:0px 0px 0px 0px #ff8900 !important}.highlight-element{border:2px solid white;box-shadow:rgb(243, 77, 8) 0px 0px 40px !important}.drop-element.empty{border:4px dashed #f34d08 !important}.drop-element.filled{border:'none' !important}.drag-element{box-shadow:0px 15px 11px rgba(43, 0, 0, 0.3) !important}.drag-element.dropped{box-shadow:none !important}.click-element{background-color:var(--btn-bg-color, rgba(255, 172, 76, 1)) !important;box-shadow:var(--btn-shadow-px) var(--btn-shadow-color, rgba(225, 121, 76, 1)) !important;cursor:pointer;transition:box-shadow 0.1s ease-out, transform 0.2s ease-out;}.click-element:active{box-shadow:0px 0px 0px var(--btn-shadow-color, rgba(225, 121, 76, 1)) !important;transform:translateY(var(--btn-active));}.click-element:focus{outline:2px solid dodgerblue;outline-offset:3px}.after-drop-popup-container{width:200%;height:200%;background-color:rgba(0, 0, 0, 0.8);position:absolute;display:flex;flex-direction:row-reverse;align-items:center;justify-content:center !important;gap:80px}.after-drop-popup-drag-element{scale:1.5;border-radius:8px;transform:none !important;position:unset !important}.after-drop-popup-drop-element{scale:1.5;border:unset;border-radius:8px;transform:none !important;position:unset !important}@keyframes zoomFadeIn{0%{transform:scale(0.6);opacity:0}100%{transform:scale(1);opacity:1}}.zoom-fade-in{animation:zoomFadeIn 0.8s ease-out forwards}@keyframes zoomFadeOut{0%{transform:scale(1);opacity:1}100%{transform:scale(0.6);opacity:0}}.zoom-fade-out{animation:zoomFadeOut 0.8s ease-in forwards}.slide-numbers{width:70px;height:70px;border:1px solid #f57139;background-color:white;font-weight:500;color:#f57139;font-size:44px;border-radius:40px;display:flex;align-items:center;justify-content:center;font-family:'Baloo Bhai 2', serif}.slide-numbers-bottom{position:absolute;display:flex;justify-content:space-around;align-items:center;bottom:-25px;width:100%;height:50px}.slide-numbers-left{position:absolute;display:flex;flex-direction:column;justify-content:space-around;height:100%;width:50px;left:-25px;bottom:0px}.lido-speak-icon{width:56px;height:56px;position:absolute;top:-25px;right:-25px;z-index:10;background-image:url(\"https://aeakbcdznktpsbrfsgys.supabase.co/storage/v1/object/public/template-assets/template/audioIcon.png\");background-color:white;border:4px solid #F34D08;border-radius:16px;box-shadow:0px 4px 0px 0px #F34D08;background-size:contain;background-repeat:no-repeat;cursor:pointer}.lido-speak-icon:active{transform:translateY(8px);box-shadow:0px 0px 0px 0px !important}.lido-strong-shake{animation:strongShake 0.3s ease}.lido-scaled-shake{animation:scaledShake 0.6s ease-in-out}.lido-horizontal-shake{animation:horizontalShake 0.6s ease-in-out;border-radius:20px}.lido-vertical-shake{animation:verticalShake 0.6s ease-in-out;border-radius:20px}.lido-diagonal-shake{animation:diagonalShake 0.5s ease-in-out;border-radius:20px;will-change:transform}.lido-glow{animation:glowPulse 1s infinite alternate;transition:opacity 0.5s ease-in-out}.lido-box-highlight{animation:topToPlace 0.3s linear}.lido-display-hiddenvalue{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:80px;font-weight:1000;color:brown;-webkit-text-stroke:2px white;font-family:'Baloo Bhai 2', sans-serif;pointer-events:none}.lido-image-colorize{position:relative;display:inline-block}.lido-image-colorize::after{content:'';position:absolute;inset:0;background:var(--tint-color);mix-blend-mode:multiply;opacity:0.8;pointer-events:none;mask-image:var(--mask-url);mask-size:cover;mask-repeat:no-repeat;mask-position:center}.lido-tts-highlight-overlay{position:fixed;pointer-events:none;z-index:9999;background:linear-gradient(      180deg,      rgba(255, 235, 59, 0.95),      rgba(255, 214, 0, 0.95)    );border-radius:6px;box-shadow:0 2px 6px rgba(0, 0, 0, 0.18),      inset 0 -1px 0 rgba(255, 255, 255, 0.25);transition:left 55ms linear,      top 55ms linear,      width 55ms ease-out,      height 55ms ease-out,      opacity 80ms ease-out;opacity:0.95;will-change:transform, width, height}@keyframes rightToPlace{from{transform:translateX(2000px)}to{transform:translateX(0)}}@keyframes topToPlace{from{transform:translateY(-1000px)}to{transform:translateY(0)}}@keyframes bottomToPlace{from{transform:translateY(1000px)}to{transform:translateY(0)}}@keyframes placeToLeft{from{}to{transform:translateX(-2000px)}}@keyframes placeToRight{from{}to{transform:translateX(2000px)}}@keyframes leftToPlace{from{transform:translateX(-2000px)}to{transform:translateX(0)}}@keyframes shake{0%{transform:translateX(0)}10%{transform:translateX(-5px)}20%{transform:translateX(5px)}30%{transform:translateX(-5px)}40%{transform:translateX(5px)}50%{transform:translateX(-5px)}60%{transform:translateX(5px)}70%{transform:translateX(-5px)}80%{transform:translateX(5px)}90%{transform:translateX(-5px)}100%{transform:translateX(0)}}@keyframes fallAndBounce{0%{transform:translateY(-1000px)}25%{transform:translateY(0px)}50%{transform:translateY(-200px)}75%{transform:translateY(0)}90%{transform:translateY(-100px)}100%{transform:translateY(0)}}@keyframes placeToDown{0%{transform:translateY(0)}100%{transform:translateY(1000px)}}@keyframes strongShake{0%{transform:translateX(0)}20%{transform:translateX(-8px)}40%{transform:translateX(8px)}60%{transform:translateX(-6px)}80%{transform:translateX(6px)}100%{transform:translateX(0)}}@keyframes scaledShake{0%{transform:scale(1) translateX(0);box-shadow:0 0 0 transparent}20%{transform:scale(1.10) translateX(-12px);box-shadow:0 0 10px red}40%{transform:scale(1.10) translateX(12px);box-shadow:0 0 12px red}60%{transform:scale(1.10) translateX(-8px);box-shadow:0 0 10px red}80%{transform:scale(1.10) translateX(8px);box-shadow:0 0 12px red}100%{transform:scale(1) translateX(0);box-shadow:none}}@keyframes horizontalShake{0%{transform:scale(1) translateX(0);background-color:transparent}20%{transform:translateX(-20px);background-color:rgba(255, 0, 0, 0.2)}40%{transform:translateX(20px);background-color:rgba(255, 0, 0, 0.4)}60%{transform:translateX(-10px);background-color:rgba(255, 0, 0, 0.3)}80%{transform:translateX(10px);background-color:rgba(255, 0, 0, 0.2)}100%{transform:translateX(0);background-color:transparent}}@keyframes verticalShake{0%{transform:translateY(0);background-color:transparent}20%{transform:translateY(-20px);background-color:rgba(255, 0, 0, 0.2)}40%{transform:translateY(0);background-color:rgba(255, 0, 0, 0.4)}60%{transform:translateY(20px);background-color:rgba(255, 0, 0, 0.2)}80%{transform:translateY(0);background-color:rgba(255, 0, 0, 0.1)}100%{transform:translateY(0);background-color:transparent}}@keyframes diagonalShake{0%{transform:translate(0, 0);background-color:transparent}25%{transform:translate(20px, -20px);background-color:rgba(255, 0, 0, 0.2)}50%{transform:translate(-20px, 20px);background-color:rgba(255, 0, 0, 0.3)}75%{transform:translate(10px, -10px);background-color:rgba(255, 0, 0, 0.2)}100%{transform:translate(0, 0);background-color:transparent}}@keyframes glowPulse{0%{filter:drop-shadow(0 0 5px yellow)              drop-shadow(0 0 10px yellow)              drop-shadow(0 0 20px yellow)              drop-shadow(0 0 30px orange)}50%{filter:drop-shadow(0 0 10px yellow)              drop-shadow(0 0 20px yellow)              drop-shadow(0 0 40px yellow)              drop-shadow(0 0 50px orange)}100%{filter:drop-shadow(0 0 5px yellow)              drop-shadow(0 0 10px yellow)              drop-shadow(0 0 20px yellow)              drop-shadow(0 0 30px orange)}}@keyframes trace-animation{0%{}100%{width:var(--trace-width, 100px);height:var(--trace-height, 100px)}}.lido-snackbar{visibility:visible;min-width:250px;background-color:#333;color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:1;bottom:30px;left:50%;transform:translateX(-50%);font-size:17px}.lido-dot-container{display:flex;justify-content:space-between;align-items:center;visibility:hidden;position:absolute;left:50%;padding:0 5px;z-index:1;width:100vw;max-width:100vw;box-sizing:border-box;height:0px}.lido-dot{height:18px;width:18px;margin:0 4px;background-color:#bbb;border-radius:50%;display:inline-block;transition:background-color 0.3s;cursor:pointer;z-index:1}.lido-btn-dot-container{flex-shrink:1;flex-grow:1;display:flex;justify-content:center;align-items:center;text-align:center;z-index:1;min-width:0;height:0px}.lido-dot.completed{background-color:grey}.lido-dot.current{background-color:green}.lido-dot:not(.completed):not(.current){background-color:#bbb}#lido-arrow-left,#lido-arrow-right{width:88px;height:88px;display:flex;align-items:center;justify-content:center;border-radius:12px;z-index:1000;box-shadow:0px 8px 0px 0px #8b310f;background-color:#f34d08;cursor:pointer;visibility:hidden;flex-shrink:0}#lido-arrow-left:active,#lido-arrow-right:active{transform:translateY(8px);box-shadow:0px 0px 0px 0px}.navbar{display:flex;justify-content:center}.lido-exit-button,#main-audio{width:80px;height:80px;z-index:1000;cursor:pointer;background-color:white;display:flex;align-items:center;justify-content:center;border:4px solid #f34d08;border-radius:16px;box-shadow:0px 8px #f34d08;flex-shrink:0;}#main-audio:active,.popup-button:active .lido-exit-button:active{margin-bottom:-8px;box-shadow:0px 0px 0px 0px !important}.lido-alert-popup{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0, 0, 0, 0.5);display:flex;align-items:center;justify-content:center;z-index:1000}@media (max-width: 768px){#lido-arrow-left,#lido-arrow-right{width:70px;height:70px;margin:0 8px}.lido-exit-button,#main-audio{width:65px;height:65px;margin:0 8px}.lido-dot{height:16px;width:16px;margin:0 2.5px}}@media (max-width: 480px){#lido-arrow-left,#lido-arrow-right{width:74px;height:74px;margin:0px 5px}.lido-exit-button,#main-audio{width:65px;height:65px;margin:0px 5px}.lido-dot{height:15px;width:15px;margin:0 1.5px}.lido-dot-container{padding:0 3px}}@media (max-width: 375px){#lido-arrow-left,#lido-arrow-right{width:70px;height:70px;margin:0px 3px}.lido-exit-button,#main-audio{width:70px;height:70px;margin:0px 3px}.lido-dot{height:14px;width:14px;margin:0 1px}.lido-dot-container{padding:0 2px}}@media (max-width: 320px){#lido-arrow-left,#lido-arrow-right,.lido-exit-button,#main-audio{width:70px;height:70px;margin:0px 2px}.lido-dot{height:12px;width:12px;margin:0 0.5px}.lido-dot-container{padding:0 2px}}@media (max-width: 900px) and (orientation: landscape){#lido-arrow-left,#lido-arrow-right{width:70px;height:70px;margin:0px 5px}.lido-exit-button,#main-audio{width:70px;height:70px;margin:0px 5px}.lido-dot{height:14px;width:14px;margin:0 1px}.lido-dot-container{padding:0 5px}}.popup-exit-text{white-space:nowrap;font-size:22px;font-weight:600;margin-top:-8%}.lido-alert-parent{z-index:10000 !important;position:absolute;top:0;left:0}.popup-button{width:80px;height:80px;z-index:1000;cursor:pointer;display:flex;align-items:center;justify-content:center;border:4px solid #F34D08;border-radius:16px;box-shadow:0 8px 0 #F34D08}.nav-for-lanai{position:absolute;top:0%;left:0%;max-width:none;width:100%;height:auto;visibility:visible}";var ki,Ai,$i={exports:{}},ji={},Mi={},Ci={};function Oi(){return ki||(ki=1,t=Ci,Object.defineProperty(t,"__esModule",{value:!0}),t.MUST_INSTALL_PUPPETEER=t.DEFAULT_CONVERSION_ERROR_MESSAGE=t.UNEXPECTED_ERROR_MESSAGE_INTRODUCTION=t.UNEXPECTED_ERROR_MESSAGE_LINK=t.UNEXPECTED_ERROR_MESSAGE_PREFIX=void 0,t.UNEXPECTED_ERROR_MESSAGE_PREFIX="Unexpected error has occurred, please report this by using the following link: ",t.UNEXPECTED_ERROR_MESSAGE_LINK="https://github.com/OvidijusParsiunas/css-filter-converter/issues/new",t.UNEXPECTED_ERROR_MESSAGE_INTRODUCTION=t.UNEXPECTED_ERROR_MESSAGE_PREFIX+t.UNEXPECTED_ERROR_MESSAGE_LINK,t.DEFAULT_CONVERSION_ERROR_MESSAGE="Input value is invalid",t.MUST_INSTALL_PUPPETEER="To convert filter values to color in Node - you will first need to install 'puppeteer' by running: \n npm install puppeteer"),Ci;var t}function _i(){if(Ai)return Mi;Ai=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.ErrorHandling=void 0;const t=Oi();class i{static generateErrorResult(t){return{color:null,error:{message:t}}}static generateInputErrorMessage(t,i,e){const n=[`Input ${t} color string could not be parsed.`,`String received: ${i}.`];return e&&n.splice(1,0,`Expected format: ${e}.`),n.join(" ")}static generateUnexpectedError(e){return i.generateErrorResult(`${t.UNEXPECTED_ERROR_MESSAGE_INTRODUCTION}: \n${e.message}`)}static hasError(t){return!!t.errorMessage}}return Mi.ErrorHandling=i,Mi}var Si,Ii={};function Ei(){if(Si)return Ii;Si=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.SheenUtil=void 0;class t{static parseSheenFromOptions(t){return!t||"boolean"!=typeof t.sheen||t.sheen}}return Ii.SheenUtil=t,t.SHEEN_FILTER_PREFIX="brightness(0) saturate(100%)",Ii}var Pi,Ti={};function Wi(){return Pi||(Pi=1,t=Ti,Object.defineProperty(t,"__esModule",{value:!0}),t.ColorTypes=void 0,(i=t.ColorTypes||(t.ColorTypes={})).HEX="hex",i.RGB="rgb",i.HSL="hsl",i.KEYWORD="keyword",i.FILTER="filter"),Ti;var t,i}var Di,Li,zi,Fi={},Ri={},Ni={};function Bi(){return Di||(Di=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.RgbColor=void 0,Ni.RgbColor=class{constructor(t=[0,0,0]){this.r=this.clamp(t[0]),this.g=this.clamp(t[1]),this.b=this.clamp(t[2])}clamp(t){return t>255?t=255:t<0&&(t=0),t}setRgb(t,i,e){this.r=this.clamp(t),this.g=this.clamp(i),this.b=this.clamp(e)}multiply(t){const i=this.clamp(this.r*t[0]+this.g*t[1]+this.b*t[2]),e=this.clamp(this.r*t[3]+this.g*t[4]+this.b*t[5]),n=this.clamp(this.r*t[6]+this.g*t[7]+this.b*t[8]);this.r=i,this.g=e,this.b=n}hueRotate(t=0){t=t/180*Math.PI;const i=Math.sin(t),e=Math.cos(t);this.multiply([.213+.787*e-.213*i,.715-.715*e-.715*i,.072-.072*e+.928*i,.213-.213*e+.143*i,.715+.285*e+.14*i,.072-.072*e-.283*i,.213-.213*e-.787*i,.715-.715*e+.715*i,.072+.928*e+.072*i])}sepia(t=1){this.multiply([.393+.607*(1-t),.769-.769*(1-t),.189-.189*(1-t),.349-.349*(1-t),.686+.314*(1-t),.168-.168*(1-t),.272-.272*(1-t),.534-.534*(1-t),.131+.869*(1-t)])}saturate(t=1){this.multiply([.213+.787*t,.715-.715*t,.072-.072*t,.213-.213*t,.715+.285*t,.072-.072*t,.213-.213*t,.715-.715*t,.072+.928*t])}linear(t=1,i=0){this.r=this.clamp(this.r*t+255*i),this.g=this.clamp(this.g*t+255*i),this.b=this.clamp(this.b*t+255*i)}brightness(t=1){this.linear(t)}contrast(t=1){this.linear(t,-.5*t+.5)}invert(t=1){this.r=this.clamp(255*(t+this.r/255*(1-2*t))),this.g=this.clamp(255*(t+this.g/255*(1-2*t))),this.b=this.clamp(255*(t+this.b/255*(1-2*t)))}}),Ni}var Hi,Vi,Ui,Xi,Yi,qi,Ki,Gi,Ji,Zi,Qi,te,ie,ee={},ne={},re={},oe={};function se(){return Ui||(Ui=1,t=oe,Object.defineProperty(t,"__esModule",{value:!0}),t.ColorFormats=void 0,(i=t.ColorFormats||(t.ColorFormats={})).HEX="#ffffff or #fff",i.RGB="rgb([0-255], [0-255], [0-255]) or rgb([0-255], [0-255], [0-255], [0-1]) or rgb([0-100%], [0-100%], [0-100%]) or rgb([0-100%], [0-100%], [0-100%], [0-100%]) or [0-255], [0-255], [0-255] or [0-255] [0-255] [0-255]",i.HSL="hsl([0-360], [0-100], [0-100]) or hsl([0-360], [0-100%], [0-100%]) or [0-360], [0-100], [0-100] or [0-360] [0-100] [0-100]",i.FILTER="blur(), brightness(), contrast(), drop-shadow(), grayscale(), hue-rotate(), invert(), saturate(), sepia() with each parameter populated with %, px or deg where approriate e.g. contrast(101%)",i.KEYWORD="Generic color string. See the following link for all available colors: https://github.com/colorjs/color-name/blob/master/index.js"),oe;var t,i}function ae(){return Yi?Xi:(Yi=1,Xi={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]})}function he(){if(Gi)return Ki;Gi=1;const t=ae(),i={};for(const e of Object.keys(t))i[t[e]]=e;const e={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Ki=e;for(const t of Object.keys(e)){if(!("channels"in e[t]))throw new Error("missing channels property: "+t);if(!("labels"in e[t]))throw new Error("missing channel labels property: "+t);if(e[t].labels.length!==e[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:i,labels:n}=e[t];delete e[t].channels,delete e[t].labels,Object.defineProperty(e[t],"channels",{value:i}),Object.defineProperty(e[t],"labels",{value:n})}return e.rgb.hsl=function(t){const i=t[0]/255,e=t[1]/255,n=t[2]/255,r=Math.min(i,e,n),o=Math.max(i,e,n),s=o-r;let a,h;o===r?a=0:i===o?a=(e-n)/s:e===o?a=2+(n-i)/s:n===o&&(a=4+(i-e)/s),a=Math.min(60*a,360),a<0&&(a+=360);const l=(r+o)/2;return h=o===r?0:l<=.5?s/(o+r):s/(2-o-r),[a,100*h,100*l]},e.rgb.hsv=function(t){let i,e,n,r,o;const s=t[0]/255,a=t[1]/255,h=t[2]/255,l=Math.max(s,a,h),c=l-Math.min(s,a,h),u=function(t){return(l-t)/6/c+.5};return 0===c?(r=0,o=0):(o=c/l,i=u(s),e=u(a),n=u(h),s===l?r=n-e:a===l?r=1/3+i-n:h===l&&(r=2/3+e-i),r<0?r+=1:r>1&&(r-=1)),[360*r,100*o,100*l]},e.rgb.hwb=function(t){const i=t[0],n=t[1];let r=t[2];const o=e.rgb.hsl(t)[0],s=1/255*Math.min(i,Math.min(n,r));return r=1-1/255*Math.max(i,Math.max(n,r)),[o,100*s,100*r]},e.rgb.cmyk=function(t){const i=t[0]/255,e=t[1]/255,n=t[2]/255,r=Math.min(1-i,1-e,1-n);return[100*((1-i-r)/(1-r)||0),100*((1-e-r)/(1-r)||0),100*((1-n-r)/(1-r)||0),100*r]},e.rgb.keyword=function(e){const n=i[e];if(n)return n;let r,o=1/0;for(const i of Object.keys(t)){const n=((s=e)[0]-(a=t[i])[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2;n<o&&(o=n,r=i)}var s,a;return r},e.keyword.rgb=function(i){return t[i]},e.rgb.xyz=function(t){let i=t[0]/255,e=t[1]/255,n=t[2]/255;return i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,[100*(.4124*i+.3576*e+.1805*n),100*(.2126*i+.7152*e+.0722*n),100*(.0193*i+.1192*e+.9505*n)]},e.rgb.lab=function(t){const i=e.rgb.xyz(t);let n=i[0],r=i[1],o=i[2];return n/=95.047,r/=100,o/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,[116*r-16,500*(n-r),200*(r-o)]},e.hsl.rgb=function(t){const i=t[0]/360,e=t[1]/100,n=t[2]/100;let r,o,s;if(0===e)return s=255*n,[s,s,s];r=n<.5?n*(1+e):n+e-n*e;const a=2*n-r,h=[0,0,0];for(let t=0;t<3;t++)o=i+1/3*-(t-1),o<0&&o++,o>1&&o--,s=6*o<1?a+6*(r-a)*o:2*o<1?r:3*o<2?a+(r-a)*(2/3-o)*6:a,h[t]=255*s;return h},e.hsl.hsv=function(t){const i=t[0];let e=t[1]/100,n=t[2]/100,r=e;const o=Math.max(n,.01);return n*=2,e*=n<=1?n:2-n,r*=o<=1?o:2-o,[i,100*(0===n?2*r/(o+r):2*e/(n+e)),(n+e)/2*100]},e.hsv.rgb=function(t){const i=t[0]/60,e=t[1]/100;let n=t[2]/100;const r=Math.floor(i)%6,o=i-Math.floor(i),s=255*n*(1-e),a=255*n*(1-e*o),h=255*n*(1-e*(1-o));switch(n*=255,r){case 0:return[n,h,s];case 1:return[a,n,s];case 2:return[s,n,h];case 3:return[s,a,n];case 4:return[h,s,n];case 5:return[n,s,a]}},e.hsv.hsl=function(t){const i=t[0],e=t[1]/100,n=t[2]/100,r=Math.max(n,.01);let o,s;s=(2-e)*n;const a=(2-e)*r;return o=e*r,o/=a<=1?a:2-a,o=o||0,s/=2,[i,100*o,100*s]},e.hwb.rgb=function(t){const i=t[0]/360;let e=t[1]/100,n=t[2]/100;const r=e+n;let o;r>1&&(e/=r,n/=r);const s=Math.floor(6*i),a=1-n;o=6*i-s,1&s&&(o=1-o);const h=e+o*(a-e);let l,c,u;switch(s){default:case 6:case 0:l=a,c=h,u=e;break;case 1:l=h,c=a,u=e;break;case 2:l=e,c=a,u=h;break;case 3:l=e,c=h,u=a;break;case 4:l=h,c=e,u=a;break;case 5:l=a,c=e,u=h}return[255*l,255*c,255*u]},e.cmyk.rgb=function(t){const i=t[1]/100,e=t[2]/100,n=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-n)+n)),255*(1-Math.min(1,i*(1-n)+n)),255*(1-Math.min(1,e*(1-n)+n))]},e.xyz.rgb=function(t){const i=t[0]/100,e=t[1]/100,n=t[2]/100;let r,o,s;return r=3.2406*i+-1.5372*e+-.4986*n,o=-.9689*i+1.8758*e+.0415*n,s=.0557*i+-.204*e+1.057*n,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[255*r,255*o,255*s]},e.xyz.lab=function(t){let i=t[0],e=t[1],n=t[2];return i/=95.047,e/=100,n/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,[116*e-16,500*(i-e),200*(e-n)]},e.lab.xyz=function(t){let i,e,n;e=(t[0]+16)/116,i=t[1]/500+e,n=e-t[2]/200;const r=e**3,o=i**3,s=n**3;return e=r>.008856?r:(e-16/116)/7.787,i=o>.008856?o:(i-16/116)/7.787,n=s>.008856?s:(n-16/116)/7.787,i*=95.047,e*=100,n*=108.883,[i,e,n]},e.lab.lch=function(t){const i=t[0],e=t[1],n=t[2];let r;return r=360*Math.atan2(n,e)/2/Math.PI,r<0&&(r+=360),[i,Math.sqrt(e*e+n*n),r]},e.lch.lab=function(t){const i=t[1],e=t[2]/360*2*Math.PI;return[t[0],i*Math.cos(e),i*Math.sin(e)]},e.rgb.ansi16=function(t,i=null){const[n,r,o]=t;let s=null===i?e.rgb.hsv(t)[2]:i;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(o/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===s&&(a+=60),a},e.hsv.ansi16=function(t){return e.rgb.ansi16(e.hsv.rgb(t),t[2])},e.rgb.ansi256=function(t){const i=t[0],e=t[1],n=t[2];return i===e&&e===n?i<8?16:i>248?231:Math.round((i-8)/247*24)+232:16+36*Math.round(i/255*5)+6*Math.round(e/255*5)+Math.round(n/255*5)},e.ansi16.rgb=function(t){let i=t%10;if(0===i||7===i)return t>50&&(i+=3.5),i=i/10.5*255,[i,i,i];const e=.5*(1+~~(t>50));return[(1&i)*e*255,(i>>1&1)*e*255,(i>>2&1)*e*255]},e.ansi256.rgb=function(t){if(t>=232){const i=10*(t-232)+8;return[i,i,i]}let i;return t-=16,[Math.floor(t/36)/5*255,Math.floor((i=t%36)/6)/5*255,i%6/5*255]},e.rgb.hex=function(t){const i=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(i.length)+i},e.hex.rgb=function(t){const i=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!i)return[0,0,0];let e=i[0];3===i[0].length&&(e=e.split("").map((t=>t+t)).join(""));const n=parseInt(e,16);return[n>>16&255,n>>8&255,255&n]},e.rgb.hcg=function(t){const i=t[0]/255,e=t[1]/255,n=t[2]/255,r=Math.max(Math.max(i,e),n),o=Math.min(Math.min(i,e),n),s=r-o;let a,h;return a=s<1?o/(1-s):0,h=s<=0?0:r===i?(e-n)/s%6:r===e?2+(n-i)/s:4+(i-e)/s,h/=6,h%=1,[360*h,100*s,100*a]},e.hsl.hcg=function(t){const i=t[1]/100,e=t[2]/100,n=e<.5?2*i*e:2*i*(1-e);let r=0;return n<1&&(r=(e-.5*n)/(1-n)),[t[0],100*n,100*r]},e.hsv.hcg=function(t){const i=t[2]/100,e=t[1]/100*i;let n=0;return e<1&&(n=(i-e)/(1-e)),[t[0],100*e,100*n]},e.hcg.rgb=function(t){const i=t[1]/100,e=t[2]/100;if(0===i)return[255*e,255*e,255*e];const n=[0,0,0],r=t[0]/360%1*6,o=r%1,s=1-o;let a=0;switch(Math.floor(r)){case 0:n[0]=1,n[1]=o,n[2]=0;break;case 1:n[0]=s,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=o;break;case 3:n[0]=0,n[1]=s,n[2]=1;break;case 4:n[0]=o,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=s}return a=(1-i)*e,[255*(i*n[0]+a),255*(i*n[1]+a),255*(i*n[2]+a)]},e.hcg.hsv=function(t){const i=t[1]/100,e=i+t[2]/100*(1-i);let n=0;return e>0&&(n=i/e),[t[0],100*n,100*e]},e.hcg.hsl=function(t){const i=t[1]/100,e=t[2]/100*(1-i)+.5*i;let n=0;return e>0&&e<.5?n=i/(2*e):e>=.5&&e<1&&(n=i/(2*(1-e))),[t[0],100*n,100*e]},e.hcg.hwb=function(t){const i=t[1]/100,e=i+t[2]/100*(1-i);return[t[0],100*(e-i),100*(1-e)]},e.hwb.hcg=function(t){const i=1-t[2]/100,e=i-t[1]/100;let n=0;return e<1&&(n=(i-e)/(1-e)),[t[0],100*e,100*n]},e.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},e.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},e.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},e.gray.hsl=function(t){return[0,0,t[0]]},e.gray.hsv=e.gray.hsl,e.gray.hwb=function(t){return[0,100,t[0]]},e.gray.cmyk=function(t){return[0,0,0,t[0]]},e.gray.lab=function(t){return[t[0],0,0]},e.gray.hex=function(t){const i=255&Math.round(t[0]/100*255),e=((i<<16)+(i<<8)+i).toString(16).toUpperCase();return"000000".substring(e.length)+e},e.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]},Ki}function le(){if(Zi)return Ji;Zi=1;const t=he();function i(t,i){return function(e){return i(t(e))}}function e(e,n){const r=[n[e].parent,e];let o=t[n[e].parent][e],s=n[e].parent;for(;n[s].parent;)r.unshift(n[s].parent),o=i(t[n[s].parent][s],o),s=n[s].parent;return o.conversion=r,o}return Ji=function(i){const n=function(i){const e=function(){const i={},e=Object.keys(t);for(let t=e.length,n=0;n<t;n++)i[e[n]]={distance:-1,parent:null};return i}(),n=[i];for(e[i].distance=0;n.length;){const i=n.pop(),r=Object.keys(t[i]);for(let t=r.length,o=0;o<t;o++){const t=r[o],s=e[t];-1===s.distance&&(s.distance=e[i].distance+1,s.parent=i,n.unshift(t))}}return e}(i),r={},o=Object.keys(n);for(let t=o.length,i=0;i<t;i++){const t=o[i];null!==n[t].parent&&(r[t]=e(t,n))}return r}}function ce(){if(te)return Qi;te=1;const t=he(),i=le(),e={};return Object.keys(t).forEach((n=>{e[n]={},Object.defineProperty(e[n],"channels",{value:t[n].channels}),Object.defineProperty(e[n],"labels",{value:t[n].labels});const r=i(n);Object.keys(r).forEach((t=>{const i=r[t];e[n][t]=function(t){const i=function(...i){const e=i[0];if(null==e)return e;e.length>1&&(i=e);const n=t(i);if("object"==typeof n)for(let t=n.length,i=0;i<t;i++)n[i]=Math.round(n[i]);return n};return"conversion"in t&&(i.conversion=t.conversion),i}(i),e[n][t].raw=function(t){const i=function(...i){const e=i[0];return null==e?e:(e.length>1&&(i=e),t(i))};return"conversion"in t&&(i.conversion=t.conversion),i}(i)}))})),Qi=e}var ue,de={},fe={},pe={},ge={};function me(){if(ue)return ge;ue=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.FilterToHexShared=void 0;const t=_i(),i=se(),e=Wi();return ge.FilterToHexShared=class{static generateInputErrorMessage(n){return t.ErrorHandling.generateInputErrorMessage(e.ColorTypes.FILTER,n,i.ColorFormats.FILTER)}static addSVGElementsToDOMAndValidateFilter(t,i=1){const e=function(){const t=document.createElement("div");return t.style.height=`${i}px`,t.style.width=`${i}px`,t.style.position="absolute",t.style.top="0px",t.style.left="0px",t}(),n=function(){const e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");n.style.height="inherit",n.style.width="inherit",n.style.float="left",n.style.filter=t;const r=document.createElementNS(e,"rect");return r.setAttributeNS(null,"width",i.toString()),r.setAttributeNS(null,"height",i.toString()),n.appendChild(r),n}();return""===n.style.filter?{errorMessage:"error indicator",svgContainerElement:e}:(e.appendChild(n),document.body.appendChild(e),{svgContainerElement:e})}static async getColorViaImageDataURL(t){return function(t){const i=function(t){const i=t.width;return t.getContext("2d").getImageData(0,0,i,i).data}(t);return`#${`000000${function(t,i,e){if(t>255||i>255||e>255)throw new Error("Invalid color component");return(t<<16|i<<8|e).toString(16)}(i[0],i[1],i[2])}`.slice(-6)}`}(function(t){const i=document.createElement("canvas");return i.width=t.width,i.height=t.height,i.getContext("2d").drawImage(t,0,0,t.width,t.height),i}(await async function(){const i=new Image;return i.src=t,new Promise((t=>{setTimeout((()=>t(i)))}))}()))}},ge}var ve,be,we={exports:{}};function ye(){return ve||(ve=1,t=we,function(){var i=function(){return{escape:function(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:i,mimeType:function(t){var e,n;return(e="application/font-woff",n="image/jpeg",{woff:e,woff2:e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:n,jpeg:n,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[i(t).toLowerCase()]||""},dataAsUrl:function(t,i){return"data:"+i+";base64,"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise((function(i){t.toBlob(i)})):function(t){return new Promise((function(i){for(var e=window.atob(t.toDataURL().split(",")[1]),n=e.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=e.charCodeAt(o);i(new Blob([r],{type:"image/png"}))}))}(t)},resolveUrl:function(t,i){var e=document.implementation.createHTMLDocument(),n=e.createElement("base");e.head.appendChild(n);var r=e.createElement("a");return e.body.appendChild(r),n.href=i,r.href=t,r.href},getAndEncode:function(t){return a.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime()),new Promise((function(i){var e,n=new XMLHttpRequest;if(n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var r=new FileReader;r.onloadend=function(){var t=r.result.split(/,/)[1];i(t)},r.readAsDataURL(n.response)}else e?i(e):o("cannot fetch resource: "+t+", status: "+n.status)},n.ontimeout=function(){e?i(e):o("timeout of 30000ms occured while fetching resource: "+t)},n.responseType="blob",n.timeout=3e4,n.open("GET",t,!0),n.send(),a.impl.options.imagePlaceholder){var r=a.impl.options.imagePlaceholder.split(/,/);r&&r[1]&&(e=r[1])}function o(t){console.error(t),i("")}}))},uid:(t=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)+t++}),delay:function(t){return function(i){return new Promise((function(e){setTimeout((function(){e(i)}),t)}))}},asArray:function(t){for(var i=[],e=t.length,n=0;n<e;n++)i.push(t[n]);return i},escapeXhtml:function(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(t){return new Promise((function(i,e){var n=new Image;n.onload=function(){i(n)},n.onerror=e,n.src=t}))},width:function(t){var i=e(t,"border-left-width"),n=e(t,"border-right-width");return t.scrollWidth+i+n},height:function(t){var i=e(t,"border-top-width"),n=e(t,"border-bottom-width");return t.scrollHeight+i+n}};var t;function i(t){var i=/\.([^\.\/]*?)$/g.exec(t);return i?i[1]:""}function e(t,i){var e=window.getComputedStyle(t).getPropertyValue(i);return parseFloat(e.replace("px",""))}}(),e=function(){var t=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(t,i,o){return e(t)?Promise.resolve(t).then(n).then((function(e){var n=Promise.resolve(t);return e.forEach((function(t){n=n.then((function(e){return r(e,t,i,o)}))})),n})):Promise.resolve(t)},shouldProcess:e,impl:{readUrls:n,inline:r}};function e(i){return-1!==i.search(t)}function n(e){for(var n,r=[];null!==(n=t.exec(e));)r.push(n[1]);return r.filter((function(t){return!i.isDataUrl(t)}))}function r(t,e,n,r){return Promise.resolve(e).then((function(t){return n?i.resolveUrl(t,n):t})).then(r||i.getAndEncode).then((function(t){return i.dataAsUrl(t,i.mimeType(e))})).then((function(n){return t.replace(function(t){return new RegExp("(url\\(['\"]?)("+i.escape(t)+")(['\"]?\\))","g")}(e),"$1"+n+"$3")}))}}(),n=function(){return{resolveAll:function(){return t().then((function(t){return Promise.all(t.map((function(t){return t.resolve()})))})).then((function(t){return t.join("\n")}))},impl:{readAll:t}};function t(){return Promise.resolve(i.asArray(document.styleSheets)).then((function(t){var e=[];return t.forEach((function(t){try{i.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(i){console.log("Error while reading CSS rules from "+t.href,i.toString())}})),e})).then((function(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return e.shouldProcess(t.style.getPropertyValue("src"))}))})).then((function(i){return i.map(t)}));function t(t){return{resolve:function(){return e.inlineAll(t.cssText,(t.parentStyleSheet||{}).href)},src:function(){return t.style.getPropertyValue("src")}}}}}(),r=function(){return{inlineAll:function n(r){return r instanceof Element?function(t){var i=t.style.getPropertyValue("background");return i?e.inlineAll(i).then((function(i){t.style.setProperty("background",i,t.style.getPropertyPriority("background"))})).then((function(){return t})):Promise.resolve(t)}(r).then((function(){return r instanceof HTMLImageElement?t(r).inline():Promise.all(i.asArray(r.childNodes).map((function(t){return n(t)})))})):Promise.resolve(r)},impl:{newImage:t}};function t(t){return{inline:function(e){return i.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||i.getAndEncode).then((function(e){return i.dataAsUrl(e,i.mimeType(t.src))})).then((function(i){return new Promise((function(e,n){t.onload=e,t.onerror=n,t.src=i}))}))}}}}(),o=void 0,s=!1,a={toSvg:h,toPng:function(t,i){return l(t,i||{}).then((function(t){return t.toDataURL()}))},toJpeg:function(t,i){return l(t,i=i||{}).then((function(t){return t.toDataURL("image/jpeg",i.quality||1)}))},toBlob:function(t,e){return l(t,e||{}).then(i.canvasToBlob)},toPixelData:function(t,e){return l(t,e||{}).then((function(e){return e.getContext("2d").getImageData(0,0,i.width(t),i.height(t)).data}))},impl:{fontFaces:n,images:r,util:i,inliner:e,options:{}}};function h(t,e){return function(t){a.impl.options.imagePlaceholder=void 0===t.imagePlaceholder?o:t.imagePlaceholder,a.impl.options.cacheBust=void 0===t.cacheBust?s:t.cacheBust}(e=e||{}),Promise.resolve(t).then((function(t){return c(t,e.filter,!0)})).then(u).then(d).then((function(t){return e.bgcolor&&(t.style.backgroundColor=e.bgcolor),e.width&&(t.style.width=e.width+"px"),e.height&&(t.style.height=e.height+"px"),e.style&&Object.keys(e.style).forEach((function(i){t.style[i]=e.style[i]})),t})).then((function(n){return function(t,e,n){return Promise.resolve(t).then((function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)})).then(i.escapeXhtml).then((function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"})).then((function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+n+'">'+t+"</svg>"})).then((function(t){return"data:image/svg+xml;charset=utf-8,"+t}))}(n,e.width||i.width(t),e.height||i.height(t))}))}function l(t,e){return h(t,e).then(i.makeImage).then(i.delay(100)).then((function(n){var r=function(t){var n=document.createElement("canvas");if(n.width=e.width||i.width(t),n.height=e.height||i.height(t),e.bgcolor){var r=n.getContext("2d");r.fillStyle=e.bgcolor,r.fillRect(0,0,n.width,n.height)}return n}(t);return r.getContext("2d").drawImage(n,0,0),r}))}function c(t,e,n){return n||!e||e(t)?Promise.resolve(t).then((function(t){return t instanceof HTMLCanvasElement?i.makeImage(t.toDataURL()):t.cloneNode(!1)})).then((function(n){return function(t,e,n){var r=t.childNodes;return 0===r.length?Promise.resolve(e):function(t,i,e){var n=Promise.resolve();return i.forEach((function(i){n=n.then((function(){return c(i,e)})).then((function(i){i&&t.appendChild(i)}))})),n}(e,i.asArray(r),n).then((function(){return e}))}(t,n,e)})).then((function(e){return function(t,e){return e instanceof Element?Promise.resolve().then((function(){n=window.getComputedStyle(t),r=e.style,n.cssText?r.cssText=n.cssText:function(t,e){i.asArray(t).forEach((function(i){e.setProperty(i,t.getPropertyValue(i),t.getPropertyPriority(i))}))}(n,r);var n,r})).then((function(){[":before",":after"].forEach((function(n){!function(n){var r=window.getComputedStyle(t,n),o=r.getPropertyValue("content");if(""!==o&&"none"!==o){var s=i.uid();e.className=e.className+" "+s;var a=document.createElement("style");a.appendChild(function(t,e,n){var r="."+t+":"+e,o=n.cssText?s(n):a(n);return document.createTextNode(r+"{"+o+"}");function s(t){var i=t.getPropertyValue("content");return t.cssText+" content: "+i+";"}function a(t){return i.asArray(t).map(e).join("; ")+";";function e(i){return i+": "+t.getPropertyValue(i)+(t.getPropertyPriority(i)?" !important":"")}}}(s,n,r)),e.appendChild(a)}}(n)}))})).then((function(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)})).then((function(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach((function(t){var i=e.getAttribute(t);i&&e.style.setProperty(t,i)})))})).then((function(){return e})):e}(t,e)})):Promise.resolve()}function u(t){return n.resolveAll().then((function(i){var e=document.createElement("style");return t.appendChild(e),e.appendChild(document.createTextNode(i)),t}))}function d(t){return r.inlineAll(t).then((function(){return t}))}t.exports=a}()),we.exports;var t}var xe,ke,Ae={};function $e(){if(ke)return fe;ke=1;var t=fe&&fe.__createBinding||(Object.create?function(t,i,e,n){void 0===n&&(n=e);var r=Object.getOwnPropertyDescriptor(i,e);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[e]}}),Object.defineProperty(t,n,r)}:function(t,i,e,n){void 0===n&&(n=e),t[n]=i[e]}),i=fe&&fe.__setModuleDefault||(Object.create?function(t,i){Object.defineProperty(t,"default",{enumerable:!0,value:i})}:function(t,i){t.default=i}),e=fe&&fe.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&t(n,e,r);return i(n,e),n};Object.defineProperty(fe,"__esModule",{value:!0}),fe.FilterToHex=void 0;const n=_i(),r=function(){if(be)return pe;be=1;var t=pe&&pe.__createBinding||(Object.create?function(t,i,e,n){void 0===n&&(n=e);var r=Object.getOwnPropertyDescriptor(i,e);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[e]}}),Object.defineProperty(t,n,r)}:function(t,i,e,n){void 0===n&&(n=e),t[n]=i[e]}),i=pe&&pe.__setModuleDefault||(Object.create?function(t,i){Object.defineProperty(t,"default",{enumerable:!0,value:i})}:function(t,i){t.default=i}),e=pe&&pe.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&t(n,e,r);return i(n,e),n};Object.defineProperty(pe,"__esModule",{value:!0}),pe.FilterToHexBrowser=void 0;const n=_i(),r=me();class o extends r.FilterToHexShared{static cleanup(t){t.remove()}static returnInputError(t,i){const e=r.FilterToHexShared.generateInputErrorMessage(t),s=n.ErrorHandling.generateErrorResult(e);return o.cleanup(i),s}static async getImageBase64ViaSVG(t){return(await Promise.resolve().then((()=>e(ye())))).toPng(t)}static async convert(t){const{errorMessage:i,svgContainerElement:e}=r.FilterToHexShared.addSVGElementsToDOMAndValidateFilter(t);if(i)return o.returnInputError(t,e);const n=await o.getImageBase64ViaSVG(e),s=await r.FilterToHexShared.getColorViaImageDataURL(n);return o.cleanup(e),{color:s}}}return pe.FilterToHexBrowser=o,pe}();return fe.FilterToHex=class{static async convert(t,i,o){try{let n;if("undefined"==typeof window){const{FilterToHexNode:i}=await Promise.resolve().then((()=>e(function(){if(xe)return Ae;xe=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.FilterToHexNode=void 0;const t=_i(),i=Oi(),e=se(),n=Wi(),r=me();class o extends r.FilterToHexShared{static cleanup(t){o.IS_HEADLESS&&(null==t||t.close())}static returnError(i,e){const n=t.ErrorHandling.generateErrorResult(i);return o.cleanup(e),n}static async getImageBase64ViaSVG(t){const i=await t.screenshot({encoding:o.BASE_64_ENCODING});return`${o.ENCODED_DATA_URL_PREFIX}${i}`}static async openBrowserPage(t){const i=await t.newPage();return await i.setViewport({width:o.SVG_SIDE_LENGTH_PX,height:o.SVG_SIDE_LENGTH_PX}),i}static async addSVGAndValidateFilter(i,s){const a=await i.evaluate(r.FilterToHexShared.addSVGElementsToDOMAndValidateFilter,s,o.SVG_SIDE_LENGTH_PX);return a.errorMessage?{errorMessage:t.ErrorHandling.generateInputErrorMessage(n.ColorTypes.FILTER,s,e.ColorFormats.FILTER)}:a}static async getPuppeteerDependency(){try{return function(){throw new Error('Could not dynamically require "puppeteer". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}()}catch(t){return{errorMessage:i.MUST_INSTALL_PUPPETEER}}}static async preparePuppeteerBrowser(){const i=await o.getPuppeteerDependency();return t.ErrorHandling.hasError(i)?i:i.launch({headless:o.IS_HEADLESS})}static async convert(i){const e=await o.preparePuppeteerBrowser();if(t.ErrorHandling.hasError(e))return o.returnError(e.errorMessage);const n=await o.openBrowserPage(e),s=await o.addSVGAndValidateFilter(n,i);if(t.ErrorHandling.hasError(s))return o.returnError(s.errorMessage,e);const a=await o.getImageBase64ViaSVG(n),h=await n.evaluate(r.FilterToHexShared.getColorViaImageDataURL,a);return o.cleanup(e),{color:h}}}return Ae.FilterToHexNode=o,o.BASE_64_ENCODING="base64",o.ENCODED_DATA_URL_PREFIX=`data:image/png;${o.BASE_64_ENCODING},`,o.IS_HEADLESS=!0,o.SVG_SIDE_LENGTH_PX=2,Ae}())));n=await i.convert(t)}else n=await r.FilterToHexBrowser.convert(t);return n.color&&i&&"string"==typeof n.color&&(n.color=i(n.color,o)),n}catch(t){return n.ErrorHandling.generateUnexpectedError(t)}}},fe}var je,Me,Ce,Oe,_e={},Se={};var Ie=H((Oe||(Oe=1,function(t,i){Object.defineProperty(i,"__esModule",{value:!0});const e=function(){if(ie)return ji;ie=1;var t=ji&&ji.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ji,"__esModule",{value:!0}),ji.ColorToFilter=void 0;const i=_i(),e=Ei(),n=Wi(),r=function(){if(zi)return Fi;zi=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.RgbToFilter=void 0;const t=_i(),i=Oi(),e=function(){if(Li)return Ri;Li=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.RgbToFilterWorker=void 0;const t=Ei(),i=Bi();class e{constructor(t,e){this.targetRgbColor=t,this.reusedRgbColor=new i.RgbColor,this.addSheen=e}static fmt(t,i,e=1){return Math.round(t[i]*e)}generateCss(i){return`${this.addSheen?`${t.SheenUtil.SHEEN_FILTER_PREFIX} `:""}invert(${e.fmt(i,0)}%) sepia(${e.fmt(i,1)}%) saturate(${e.fmt(i,2)}%) hue-rotate(${e.fmt(i,3,3.6)}deg) brightness(${e.fmt(i,4)}%) contrast(${e.fmt(i,5)}%)`}loss(t){return this.reusedRgbColor.setRgb(0,0,0),this.reusedRgbColor.invert(t[0]/100),this.reusedRgbColor.sepia(t[1]/100),this.reusedRgbColor.saturate(t[2]/100),this.reusedRgbColor.hueRotate(3.6*t[3]),this.reusedRgbColor.brightness(t[4]/100),this.reusedRgbColor.contrast(t[5]/100),Math.abs(this.reusedRgbColor.r-this.targetRgbColor.r)+Math.abs(this.reusedRgbColor.g-this.targetRgbColor.g)+Math.abs(this.reusedRgbColor.b-this.targetRgbColor.b)}static fixSpsa(t,i){let e=100;return 2===i?e=7500:4!==i&&5!==i||(e=200),3===i?t>e?t%=e:t<0&&(t=e+t%e):t<0?t=0:t>e&&(t=e),t}spsa(t,i,n,r,o){let s=[],a=1/0;const h=new Array(6),l=new Array(6),c=new Array(6);for(let u=0;u<o;u+=1){const o=n/Math.pow(u+1,.16666666666666666);for(let t=0;t<6;t+=1)h[t]=Math.random()>.5?1:-1,l[t]=r[t]+o*h[t],c[t]=r[t]-o*h[t];const d=this.loss(l)-this.loss(c);for(let n=0;n<6;n+=1){const s=d/(2*o)*h[n],a=i[n]/Math.pow(t+u+1,1);r[n]=e.fixSpsa(r[n]-a*s,n)}const f=this.loss(r);f<a&&(s=r.slice(0),a=f)}return{values:s,loss:a}}solveNarrow(t){const i=t.loss,e=i+1;return this.spsa(i,[.25*e,.25*e,e,.25*e,.2*e,.2*e],2,t.values,500)}solveWide(){const t=[60,180,18e3,600,1.2,1.2];let i={values:[],loss:1/0};for(let e=0;i.loss>25&&e<3;e+=1){const e=this.spsa(5,t,15,[50,20,3750,50,100,100],1e3);e.loss<i.loss&&(i=e)}return i}convert(){const t=this.solveNarrow(this.solveWide());return{loss:t.loss,color:this.generateCss(t.values)}}}return Ri.RgbToFilterWorker=e,Ri}(),n=Bi();class r{static generateConversionError(e){return t.ErrorHandling.generateErrorResult(e||i.DEFAULT_CONVERSION_ERROR_MESSAGE)}static generateValidateAndParseError(i){return t.ErrorHandling.generateErrorResult(i)}static execute(t,i){const r=new n.RgbColor(t);return new e.RgbToFilterWorker(r,i).convert()}static convertToRGB(t,i){return t&&i?i(t):null}static convert(i){try{const{colorString:e,validateAndParse:n,convertToRgb:o,conversionErrorMessage:s,addSheen:a}=i,h=e.trim().toLocaleLowerCase(),l=(null==n?void 0:n(h))||{color:h};if(t.ErrorHandling.hasError(l))return r.generateValidateAndParseError(l.errorMessage);const c=r.convertToRGB(l.color,o)||l.color;return c?r.execute(c,a):r.generateConversionError(s)}catch(i){return t.ErrorHandling.generateUnexpectedError(i)}}}return Fi.RgbToFilter=r,Fi}(),o=function(){if(qi)return ee;qi=1;var t=ee&&ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ee,"__esModule",{value:!0}),ee.ColorParser=void 0;const i=(Hi||(Hi=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.MATCH_HEXADECIMAL=ne.MATCH_INTEGER_AND_FLOAT_NUMBERS=void 0,ne.MATCH_INTEGER_AND_FLOAT_NUMBERS=/(-?\d+(?:\.\d+)?)/g,ne.MATCH_HEXADECIMAL=/^#[0-9a-f]{3}([0-9a-f]{3})?$/i),ne),e=_i(),n=(Vi||(Vi=1,Object.defineProperty(re,"__esModule",{value:!0}),re.MAX_COLOR_INPUT_STRING_LENGTH=void 0,re.MAX_COLOR_INPUT_STRING_LENGTH=25),re),r=se(),o=Wi(),s=t(ae());class a{static validateAndParseHex(t){return t.length<n.MAX_COLOR_INPUT_STRING_LENGTH&&t.match(i.MATCH_HEXADECIMAL)?{color:t}:{errorMessage:e.ErrorHandling.generateInputErrorMessage(o.ColorTypes.HEX,t,r.ColorFormats.HEX)}}static parseFirstThreeIntegersFromString(t){if(t.length<n.MAX_COLOR_INPUT_STRING_LENGTH){const e=t.match(i.MATCH_INTEGER_AND_FLOAT_NUMBERS);if(i.MATCH_INTEGER_AND_FLOAT_NUMBERS.lastIndex=0,e&&e.length>=3)return e.slice(0,3).map((t=>Number.parseInt(t)))}return null}static validateAndParseRgb(t){const i=a.parseFirstThreeIntegersFromString(t);return i&&i[0]>=0&&i[0]<=255&&i[1]>=0&&i[1]<=255&&i[2]>=0&&i[2]<=255?{color:i}:{errorMessage:e.ErrorHandling.generateInputErrorMessage(o.ColorTypes.RGB,t,r.ColorFormats.RGB)}}static validateAndParseHsl(t){const i=a.parseFirstThreeIntegersFromString(t);return i&&i[0]>=0&&i[0]<=360&&i[1]>=0&&i[1]<=100&&i[2]>=0&&i[2]<=100?{color:i}:{errorMessage:e.ErrorHandling.generateInputErrorMessage(o.ColorTypes.HSL,t,r.ColorFormats.HSL)}}static validateAndParseKeyword(t){return t.length<n.MAX_COLOR_INPUT_STRING_LENGTH&&s.default[t]?{color:t}:{errorMessage:e.ErrorHandling.generateInputErrorMessage(o.ColorTypes.KEYWORD,t,r.ColorFormats.KEYWORD)}}}return ee.ColorParser=a,ee}(),s=t(ce());return ji.ColorToFilter=class{static rgbToFilter(t,i){return r.RgbToFilter.convert({colorString:t,validateAndParse:o.ColorParser.validateAndParseRgb,addSheen:e.SheenUtil.parseSheenFromOptions(i)})}static hexToFilter(t,i){return r.RgbToFilter.convert({colorString:t,validateAndParse:o.ColorParser.validateAndParseHex,convertToRgb:s.default.hex.rgb,addSheen:e.SheenUtil.parseSheenFromOptions(i)})}static hslToFilter(t,i){return r.RgbToFilter.convert({colorString:t,validateAndParse:o.ColorParser.validateAndParseHsl,convertToRgb:s.default.hsl.rgb,addSheen:e.SheenUtil.parseSheenFromOptions(i)})}static keywordToFilter(t,a){return r.RgbToFilter.convert({colorString:t,validateAndParse:o.ColorParser.validateAndParseKeyword,convertToRgb:s.default.keyword.rgb,conversionErrorMessage:i.ErrorHandling.generateInputErrorMessage(n.ColorTypes.KEYWORD,t),addSheen:e.SheenUtil.parseSheenFromOptions(a)})}},ji}(),n=function(){if(Ce)return de;Ce=1,Object.defineProperty(de,"__esModule",{value:!0}),de.FilterToColor=void 0;const t=$e(),i=function(){if(Me)return _e;Me=1;var t=_e&&_e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.HexToColor=void 0;const i=(je||(je=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.ColorFormatter=void 0,Se.ColorFormatter=class{static arrayToRgbString(t){return`rgb(${t[0]}, ${t[1]}, ${t[2]})`}static arrayToHslString(t){return`hsl(${t[0]}deg, ${t[1]}%, ${t[2]}%)`}}),Se),e=t(ce());return _e.HexToColor=class{static convertToRgb(t,n){const r=e.default.hex.rgb(t);return"string"===(null==n?void 0:n.resultType)?i.ColorFormatter.arrayToRgbString(r):r}static convertToHsl(t,n){const r=e.default.hex.hsl(t);return"string"===(null==n?void 0:n.resultType)?i.ColorFormatter.arrayToHslString(r):r}},_e}();return de.FilterToColor=class{static async filterToHex(i){const e=await t.FilterToHex.convert(i);return e.color&&(e.color=e.color.toUpperCase()),e}static async filterToRgb(e,n){return t.FilterToHex.convert(e,i.HexToColor.convertToRgb,n)}static async filterToHsl(e,n){return t.FilterToHex.convert(e,i.HexToColor.convertToHsl,n)}},de}();class r{static rgbToFilter(t,i){return e.ColorToFilter.rgbToFilter(t,i)}static hexToFilter(t,i){return e.ColorToFilter.hexToFilter(t,i)}static hslToFilter(t,i){return e.ColorToFilter.hslToFilter(t,i)}static keywordToFilter(t,i){return e.ColorToFilter.keywordToFilter(t,i)}static async filterToHex(t){return n.FilterToColor.filterToHex(t)}static async filterToRgb(t,i){return n.FilterToColor.filterToRgb(t,i)}static async filterToHsl(t,i){return n.FilterToColor.filterToHsl(t,i)}}i.default=r,t.exports=r}($i,$i.exports)),$i.exports));const Ee=class{constructor(i){t(this,i),this.showSpeakIcon=!1,this.sliceWidth="30px",this.minDrops=1,this.maxDrops=1,this.margin="",this.padding="",this.filter="",this.borderRadius="0px",this.transform="",this.delayVisible="",this.disableSpeak=!1}componentDidLoad(){if(a(this.el,this.delayVisible),h(this.el,this.type),""!==this.filter){const t=this.el.getElementsByTagName("img")[0];t&&(t.style.filter=`${Ie.hexToFilter(V(this.filter).toHexString()).color}`)}this.showSpeakIcon&&v(this.el)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:c(this.height,t),width:c(this.width,t),backgroundColor:c(this.bgColor,t),top:c(this.y,t),left:c(this.x,t),zIndex:this.z,display:c(`${this.visible}`,t)?"flex":"none",alignItems:"center",justifyContent:"center",margin:c(this.margin,t),padding:c(this.padding,t),transform:c(this.transform,t),borderRadius:this.borderRadius,borderImageSource:"true"===this.isSlice?`url(${l(this.src)})`:"none",borderImageSlice:"true"===this.isSlice?`${parseInt(this.sliceWidth)} fill`:"unset",borderImageRepeat:"true"===this.isSlice?"round":"unset",borderImageWidth:"true"===this.isSlice?`${this.sliceWidth}`:"unset",backgroundImage:"true"===this.isSlice?`url(${l(this.src)})`:"none"}}render(){return"true"===this.isSlice?e(n,{class:"slice",id:this.id,type:this.type,"tab-index":this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,value:this.value,minDrops:this.minDrops,maxDrops:this.maxDrops,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry}):e(n,{id:this.id,type:this.type,"tab-index":this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,value:this.value,minDrops:this.minDrops,maxDrops:this.maxDrops,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,"disable-speak":this.disableSpeak},e("img",{class:"lido-image",src:l(this.src),alt:"",style:this.style}))}get el(){return r(this)}};Ee.style=".lido-image{user-select:none;-webkit-user-drag:none;object-fit:contain;width:100% !important;height:100% !important;aspect-ratio:1 / 1;transform:rotate(0) !important;margin:0 !important}.slice{background-repeat:no-repeat;background-position:center;background-size:100% 100%}";const Pe=class{constructor(i){t(this,i),this.keys="",this.gap="10px",this.bgColor="",this.borderRadius="",this.keyboardInput=!1,this.columns="10",this.disableSpeak=!1,this.numberOfClick=0,this.inputString="",this.style={}}async inputValidation(t){if("click"!==this.type)return;let i=JSON.parse(localStorage.getItem(z))||"";i=this.inputString,localStorage.setItem(z,JSON.stringify(i));const e=document.getElementById(D),n=t.target.getAttribute("value"),r=e.querySelectorAll(`[value= '${n}']`),o=Array.from(r).find((t=>!t.className.includes("key-button")));let s;if(this.inputString=n,o){const t=document.body.getBoundingClientRect(),i=o.getBoundingClientRect();s=i.left<t.right&&i.right>t.left&&i.top<t.bottom&&i.bottom>t.top}if(s)if(o.style.animation="none",this.numberOfClick++,this.numberOfClick===this.letterLength){const t=e.getAttribute("onCorrect");e.style.pointerEvents="none",await f(t,this.el),R()}else k(o),d(!0);else{const t=e.getAttribute("onInCorrect");await f(t,this.el),d(!1)}}componentDidLoad(){if(document.getElementById(D).getAttribute("drop-action")===U.InfiniteDrop){const t=this.el.querySelectorAll(".key-button"),i=t[0];t.forEach((t=>{t.style.width=i.offsetWidth+"px",t.style.height=i.offsetHeight+"px"}))}}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:c(this.height,t),width:c(this.width,t),backgroundColor:c(this.bgColor,t),top:c(this.y,t),left:c(this.x,t),zIndex:this.z,fontSize:c(this.fontSize,t),fontFamily:this.fontFamily,color:c(this.fontColor,t),display:"true"===c(`${this.visible}`,t)?"flex":"none",margin:c(this.margin,t),padding:c(this.padding,t),borderRadius:c(this.borderRadius,t),columns:c(`${this.columns}`,t),gap:c(this.gap,t)}}render(){const t=this.keys.split(",").map((t=>t.trim())),i="true"===document.getElementById(D).getAttribute("show-check");return e(n,{key:"d57a587171b8525147e31228779e8503f5b7e854",class:"lido-keyboard",style:{width:this.style.width,height:this.style.height,position:"relative",margin:this.style.margin,zIndex:this.z}},this.keyboardInput&&e("div",{key:"bc4242fca443e2fe0821b6b5e3559bfdf231ab30",class:"input-area"},e("input",{key:"046989156e5f4c61d52d187c74570a95d8ebe6ab",type:"text",value:this.inputString,class:"input-area",readonly:!0,onInput:t=>this.inputString=t.target.value}),e("lido-text",{key:"72ab0afbebb9789c5cde9ed7624ef22bae5d2901",visible:i?"true":"false",string:"<<","bg-color":"black","font-color":"white","border-radius":"20px","font-size":"30px",width:"100px",height:"70px",type:"click",onClick:()=>{this.inputString=this.inputString.slice(0,-1),this.inputValidation(event)}}),e("lido-text",{key:"b6028375fb0e56b3c32821894f199e2c96726261",visible:i?"true":"false",id:"lido-checkButton",string:"Enter","bg-color":"green","font-color":"white","border-radius":"20px","font-size":"30px",width:"150px",height:"70px",type:"click"})),this.letterLength&&e("lido-text",{key:"f9b109fe36a6e0fcef459bdaf69ccbad6f827fc9",visible:"true",string:`${this.numberOfClick}/${this.letterLength}`,"font-size":"60px","font-color":"white",onEntry:"this.position='absolute'; this.right='0'; this.fontWeight='800';",x:"unset"}),e("div",{key:"1a3047db0048f49429bd344625a15d3c94b173d4",class:"keyboard-wrapper",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignContent:"stretch",gap:this.gap,width:"100%",height:"100%"}},t.map(((t,i)=>{const[n,r]=t.split("-"),o="disable"===r;let s="Space"===n?" ":n;return e("lido-text",{id:"key-button-"+i,style:{flex:`0 0 calc(${100/parseInt(this.style.columns)}% - ${this.style.gap})`},visible:"true","font-size":this.style.fontSize,"font-color":this.fontColor,"font-family":this.fontFamily,"bg-color":this.bgColor,string:n,onEntry:this.onEntry,"border-radius":this.style.borderRadius,value:n.toLowerCase(),type:this.type,class:"key-button"+(o?" disabled":""),onClick:()=>{this.inputString+=s,this.inputValidation(event)},"disable-speak":this.disableSpeak})}))))}get el(){return r(this)}};Pe.style='.lido-keyboard{display:flex;flex-direction:column;align-items:center;gap:30px}.input-area{display:flex;gap:15px}input[type="text"]{font-size:30px;font-weight:600;padding-left:20px;width:300px;height:70px;border:2px solid;background:whitesmoke;border-radius:20px;text-align:center}.keyboard-wrapper{justify-content:center;width:700px}.disabled{opacity:0.5;pointer-events:none}.key-button{background:aquamarine;font-weight:600}';const Te=class{constructor(i){t(this,i),this.rows="10",this.cols="10",this.defualtFill=0,this.leftIndex=!1,this.topIndex=!1,this.bottomIndex=!1,this.clickable=!0,this.activeOnlyVisible=!1,this.activeBgColor="transparent",this.deactiveBgColor="transparent",this.border="2px solid green",this.height="100%",this.width="100%",this.borderRadius="5px",this.visible="false",this.previousFilledSlot=-1,this.previousFilledSlotElement=null,this.style={}}updateValue(t){this.el.setAttribute("value",t)}componentDidLoad(){const t=this.el.querySelectorAll(".slot");h(this.el,this.type),t.forEach((t=>{const i=t;i.style.setProperty("--active-bg-color",this.activeBgColor),i.style.setProperty("--deactive-bg-color",this.deactiveBgColor),i.style.pointerEvents=this.clickable?"":"none",i.style.border=this.border,i.style.color=this.fontColor,i.className.includes("slot-active")?(i.style.visibility="visible",this.matrixImage&&i.style.setProperty("--bg-image",`url(${l(this.matrixImage)})`)):this.activeOnlyVisible&&(i.style.visibility="hidden")})),this.updateSlots(),this.updateStyles()}componentWillLoad(){this.updateStyles(),this.updateSlots(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateSlots(){const t=this.el.querySelectorAll(".slot"),i=this.el.querySelector(".slot");if(!t.length||!i)return;const e=Number(this.rows)<Number(this.cols)?this.el.offsetHeight:this.el.offsetWidth,n=Number(this.rows)>Number(this.cols)?Number(this.rows):Number(this.cols),r=this.el.querySelectorAll(".slot-parent"),o=e/n;r.forEach((t=>{t.style.width=`${o}px`,Array.from(t.children).forEach((t=>{const i=t;i.style.width=`${o}px`,i.style.height=`${o}px`,"drop"!==this.type&&"drag"!==this.type&&"checkerBlock"!==this.type||(this.el.style.width="auto",this.el.style.height="auto"),(!this.topIndex&&i.classList.contains("topIndex")||!this.leftIndex&&i.classList.contains("leftIndex")||!this.bottomIndex&&i.classList.contains("bottomIndex"))&&(i.classList.contains("leftIndex")&&i.parentElement.remove(),i.remove())}))}))}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:c(this.height,t),width:c(this.width,t),zIndex:this.z,display:"true"===c(`${this.visible}`,t)?"flex":"none",borderRadius:c(this.borderRadius,t),left:c(this.x,t),top:c(this.y,t),cols:c(`${this.cols}`,t),rows:c(`${this.rows}`,t)}}handleClickSlot(t){const i=parseInt(t.className.split(" ")[1].split("-")[1]),e=this.el.querySelectorAll(".slot");if(e.forEach(((t,e)=>{const n=t;e<i?(n.classList.add("slot-active"),n.classList.remove("slot-inactive"),this.matrixImage&&n.style.setProperty("--bg-image",`url(${l(this.matrixImage)})`)):(n.classList.remove("slot-active"),n.classList.add("slot-inactive"))})),-1!==this.previousFilledSlot&&null!==this.previousFilledSlotElement&&(this.previousFilledSlotElement.textContent=""),t.textContent=i.toString(),this.previousFilledSlot=i,this.previousFilledSlotElement=t,i===e.length)try{const t=new CustomEvent("math-matrix-bottom-click",{detail:{matrix:this.el,cols:this.style.cols,rows:this.style.rows},bubbles:!0,composed:!0});this.el.dispatchEvent(t)}catch(t){console.warn("Error dispatching math-matrix-bottom-click from handleClickSlot",t)}this.updateValue(i.toString()),X()}getSlotData(){const t={};return this.text?(this.text.split(",").forEach(((i,e)=>{const[n,r]=i.split("-"),o=parseInt(n.trim());isNaN(o)||(t[e]={text:n.trim(),color:null==r?void 0:r.trim()})})),t):t}render(){let t=1;const i=this.getSlotData();return e(n,{key:"3da93fe1224f166febc7da07a7ef301a66d88997",class:"math-matrix",style:{height:this.style.height,width:this.style.width,z:this.style.z,display:this.style.display,top:this.style.top,left:this.style.left},type:this.type,value:this.value,"tab-index":this.tabIndex,rows:this.style.rows,cols:this.style.cols,text:this.text,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},Array.from({length:parseInt(this.style.rows)+1},((n,r)=>e("div",{class:"slot-parent",key:`row-${r}`},e("div",{style:0===r&&{visibility:"hidden"},class:"topIndex"},r),Array.from({length:parseInt(this.style.cols)},((n,o)=>{var s,a;return 0===r?e("div",{class:"leftIndex"},++o):e("div",{class:`slot slot-${t} ${this.defualtFill>=t?"slot-active":"slot-inactive"}`,onClick:t=>this.handleClickSlot(t.currentTarget),key:`slot-${r}-${o}`,style:{borderRadius:this.style.borderRadius,backgroundColor:(null===(s=i[t-1])||void 0===s?void 0:s.color)||""}},null===(a=i[t-1])||void 0===a?void 0:a.text,t++&&null)})),e("div",{style:0===r&&{visibility:"hidden"},class:"bottomIndex"},parseInt(this.style.cols)*r)))))}get el(){return r(this)}};Te.style=".math-matrix{width:100%;height:100%;display:flex;justify-content:center}.slot{width:100%;height:100%;text-align:center;align-content:center;font-size:42px;font-weight:800;font-family:'Baloo Bhai 2';box-sizing:content-box}.slot:hover{opacity:0.7}.slot-parent{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.slot-active{background-color:var(--active-bg-color);background-image:var(--bg-image);background-size:contain;background-position:center;background-repeat:no-repeat}.slot-inactive{background-color:var(--deactive-bg-color);background-size:cover;background-position:center;background-repeat:no-repeat}.topIndex,.leftIndex,.bottomIndex{height:100%;width:100%;text-align:center;align-content:center;font-size:30px;font-weight:600;font-family:'Baloo Bhai 2'}";const We=class{constructor(i){t(this,i),this.id="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.minDrops=1,this.maxDrops=1,this.margin=""}componentDidLoad(){h(this.el,this.type)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:c(this.height,t),width:c(this.width,t),backgroundColor:c(this.bgColor,t),top:c(this.y,t),left:c(this.x,t),zIndex:this.z,display:JSON.parse(c(`${this.visible}`,t))?"block":"none",margin:c(this.margin,t)}}render(){return e(n,{key:"0ab10d21eccd24db07fb6b87d21f75be32801013",id:this.id,class:"lido-pos",type:this.type,"tab-index":this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,minDrops:this.minDrops,maxDrops:this.maxDrops,value:this.value,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry},e("slot",{key:"11a3f2fc1b08007601879c9cae2f2736dd511499"}))}get el(){return r(this)}};We.style=".lido-pos{top:var(--y, 0);left:var(--x, 0);height:var(--height, 100%);width:var(--width, 100%);background-color:var(--bgColor, #eeeeee);display:flex;justify-content:space-around;flex-direction:column;position:fixed}.lido-pos>*{position:absolute}";const De=class{constructor(i){t(this,i),this.showSpeakIcon=!1,this.id="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.minDrops=1,this.maxDrops=1,this.margin=""}componentDidLoad(){setTimeout((()=>{const t=this.el.parentElement;if(!t)return;const i=t.offsetWidth,e=t.offsetHeight;Array.from(this.el.children).forEach((t=>{const n=t.offsetWidth,r=t.offsetHeight;console.log("child width",n);const o=i-n,s=e-r,a=Math.random()*o,h=Math.random()*s;console.log("randomleft",a),console.log("randomtop",h),t.style.position="absolute",t.style.left=`${a}px`,t.style.top=`${h}px`}))}),50),this.showSpeakIcon&&v(this.el)}render(){return e(n,{key:"e6978f97eaac048e12c50e048a8392c1125282f9",class:"lido-random",type:this.type,"tab-index":this.tabIndex,value:this.value,style:{height:this.height,width:this.width,top:this.y,left:this.x,display:this.visible?"block":"none",zIndex:this.z,backgroundColor:this.bgColor,margin:this.margin},"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,minDrops:this.minDrops,maxDrops:this.maxDrops,onInCorrect:this.onInCorrect,onEntry:this.onEntry},e("slot",{key:"2f513356dac9d0f6df3ab695b9fa1bcf82c379de"}))}get el(){return r(this)}};De.style=".lido-random{position:relative;width:100%;height:100%}.lido-random>*{position:absolute}";const Le=class{constructor(i){t(this,i),this.Lang="",this.xmlPath="",this.initialIndex=0,this.margin="",this.canplay=!0,this.baseUrl=""}connectedCallback(){this.setLanguage(this.Lang)}onLangChange(t){this.setLanguage(t)}setLanguage(t){Jt.changeLanguage(t||Jt.language)}async componentWillLoad(){var t,e;const n=null!==(t=this.xmlPath)&&void 0!==t?t:this.baseUrl+((null===(e=this.baseUrl)||void 0===e?void 0:e.endsWith("/"))?"index.xml":"/index.xml");console.log(" ~ LidoRoot ~ componentWillLoad ~ this.baseUrl:",this.baseUrl),console.log(" ~ LidoRoot ~ componentWillLoad ~ this.xmlPath:",this.xmlPath),console.log(" ~ LidoRoot ~ componentWillLoad ~ xmlPath:",n);try{const t=n.startsWith("http")?n:i(n),e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch XML data: ${e.statusText}`);const r=await e.text();this.xmlData=r}catch(t){console.error("Error fetching XML data:",t),this.xmlData=null}}render(){return void 0===this.xmlData?e("div",null,"Loading..."):null===this.xmlData?e("div",null,"Error loading XML data. Please check the path or URL."):e("lido-home",{showNav:!0,activeContainerIndexes:[],initialIndex:this.initialIndex,canplay:this.canplay,xmlData:this.xmlData,baseUrl:this.baseUrl,exitButtonUrl:this.exitButtonUrl,prevButtonUrl:this.prevButtonUrl,nextButtonUrl:this.nextButtonUrl,speakerButtonUrl:this.speakerButtonUrl})}static get assetsDirs(){return["assets"]}static get watchers(){return{Lang:[{onLangChange:0}]}}},ze=class{constructor(i){t(this,i),this.showSpeakIcon=!1,this.minDrops=1,this.maxDrops=1,this.style={},this.margin="",this.disableSpeak=!1}componentDidLoad(){h(this.el,this.type),m(this.el,this.minLength,this.maxLength,this.childElementsLength),this.showSpeakIcon&&v(this.el)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:c(this.height,t),width:c(this.width,t),backgroundColor:c(this.bgColor,t),top:c(this.y,t),left:c(this.x,t),zIndex:this.z,display:this.visible?this.display?c(this.display,t):"flex":"none",flexDirection:this.direction?c(this.direction,t):"row",gridTemplateColumns:this.display&&"grid"===c(this.display,t)?"repeat(auto-fill, minmax(186px, auto))":void 0,gap:this.display&&"grid"===c(this.display,t)?"20px":void 0,margin:c(this.margin,t)}}render(){return e(n,{key:"ca01c603f76bc544d8660427d004c2ddb2de66ca",class:"lido-row",type:this.type,"tab-index":this.tabIndex,value:this.value,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,minDrops:this.minDrops,maxDrops:this.maxDrops,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,"disable-speak":this.disableSpeak},e("slot",{key:"08ef314cd12489030c1e9d428c88cc0a76355d1d"}))}get el(){return r(this)}};ze.style=".lido-row{display:flex;justify-content:space-around;align-items:center;}.lido-row>*{}";const Fe=class{constructor(i){t(this,i),this.id="",this.value="",this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.type="",this.tabIndex=0,this.shapeType="circle",this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.onEntry="",this.minDrops=1,this.maxDrops=1,this.margin="",this.delayVisible="",this.disableSpeak=!1,this.style={}}componentDidLoad(){a(this.el,this.delayVisible),h(this.el,this.type),this.updateStyles(),this.lido3DShapes()}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={x:c(`${this.x}`,t),y:c(`${this.y}`,t),height:c(`${this.height}`,t),width:c(`${this.width}`,t)}}lido3DShapes(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";"lido-cube"===this.shapeType&&this.el.querySelectorAll(".face").forEach((i=>{const e=i;e.style.setProperty("--face-width",c(`${this.width}`,t));const n=parseInt(c(`${this.width}`,t))/2;console.log("translate : ",n),e.style.setProperty("--face-translate",`${n}px`),e.style.setProperty("--face-bg-color",this.bgColor)}))}render(){return e(n,{key:"687d13d8361df73e2757dce2865ee1835804e645",class:`lido-shape ${this.shapeType}`,value:this.value,type:this.type,"tab-index":this.tabIndex,style:{height:"polygon"!==this.shapeType?this.style.height:void 0,width:"polygon"!==this.shapeType?this.style.width:void 0,top:this.style.y,left:this.style.x,display:this.visible?"block":"none",zIndex:this.z,backgroundColor:"polygon"!==this.shapeType?this.bgColor:"transparent",margin:this.margin},"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,minDrops:this.minDrops,maxDrops:this.maxDrops,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,"disable-speak":this.disableSpeak},"lido-cube"===this.shapeType&&e("div",{key:"bd9958c2095029a03eb76aef2f721e5883649dca",class:"cube"},e("div",{key:"bd8f4c9a4af6663dc6d642a80e3c0ebbb60471c9",class:"face top"}),e("div",{key:"0bbd21bab7efb5e91ab4067f22d9febe670748f6",class:"face bottom"}),e("div",{key:"a3ca4f53a93994bef257b5637c2e603abc89c13e",class:"face left"}),e("div",{key:"0122526c9001632c412bbf27ac92a73f1a3bf000",class:"face right"}),e("div",{key:"5d3521dd261e79c9f3170539642be0c31e78e0b3",class:"face front"}),e("div",{key:"026145187bd4c68b8a73646c7e948ab81f75a16f",class:"face back"})))}get el(){return r(this)}};Fe.style=".lido-shape{position:absolute;top:var(--y);left:var(--x);display:var(--display);z-index:var(--z);justify-content:center;align-items:center}.lido-rectangle{border-radius:0}.lido-circle{width:var(--width);height:var(--width);border-radius:50%;background-color:var(--bgColor)}.lido-ellipse{width:var(--width);height:var(--height);border-radius:50%;background-color:var(--bgColor)}.lido-triangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--bgColor);clip-path:polygon(50% 0%, 100% 100%, 0% 100%)}.lido-rightTriangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--bgColor);clip-path:polygon(100% 0%, 100% 100%, 0% 100%)}.lido-leftTriangle{width:var(--triangleWidth);height:var(--triangleHeight);background-color:var(--triangleBgColor);clip-path:polygon(0% 0%, 100% 100%, 0% 100%)}.lido-parallelogram{width:var(--paralleWidth);height:var(--paralleHeight);transform:skew(20deg)}.lido-trapezoid{width:var(--trapezoidWidth);height:var(--trapezoidHeight);background-color:var(--bgColor);clip-path:polygon(      20% 0%,         80% 0%,         100% 100%,      0% 100%      )}.lido-hexagon{width:var(--hexagonWidth);height:var(--hexagonHeight);background-color:var(--bgColor);clip-path:polygon(      25% 0%,         75% 0%,         100% 50%,       75% 100%,       25% 100%,       0% 50%       )}.lido-cone{width:var(--coneWidth);height:var(--coneHeight);background-color:var(--bgColor);clip-path:polygon(            15% 10%,      25% 4%,      35% 1%,      50% 0%,      65% 1%,      75% 4%,      85% 10%,              50% 100%    )}.lido-star{width:var(--starWidth);height:var(--starHeight);background-color:var(--starBgColor);clip-path:polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)}.lido-pentagon{width:var(--pentagonWidth);height:var(--pentagonHeight);background-color:var(--pentagonBgColor);clip-path:polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)}.lido-heptagon{width:var(--heptagonWidth);height:var(--heptagonHeight);background-color:var(--heptagonBgColor);clip-path:polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)}.lido-octagon{width:var(--octagonWidth);height:var(--octagonHeight);background-color:var(--octagonBgColor);clip-path:polygon(25% 0%, 75% 0%, 100% 25%, 100% 75%, 75% 100%, 25% 100%, 0% 75%, 0% 25%)}.lido-rhombus{width:var(--rhombusWidth);height:var(--rhombusHeight);background-color:var(--rhombusBgColor);clip-path:polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)}.lido-heart{height:var(--heartHeight);width:var(--heartWidth);border-image:radial-gradient(var(--heartBgColor) 69%, #0000 70%) 84.5%/50%;clip-path:polygon(-41% 0, 50% 91%, 141% 0)}.cube{width:100%;height:100%;position:relative;transform-style:preserve-3d;transform:rotateX(-20deg) rotateY(45deg)}.face{position:absolute;width:var(--face-width,150px);height:var(--face-width,150px);background:var(--face-bg-color,150px);box-shadow:inset -20px -20px 40px rgba(0,0,0,0.3)}.front{transform:rotateY(  0deg) translateZ(var(--face-translate, 75px))}.back{transform:rotateY(180deg) translateZ(var(--face-translate, 75px))}.right{transform:rotateY( 90deg) translateZ(var(--face-translate, 75px))}.left{transform:rotateY(-90deg) translateZ(var(--face-translate, 75px))}.top{transform:rotateX( 90deg) translateZ(var(--face-translate, 75px))}.bottom{transform:rotateX(-90deg) translateZ(var(--face-translate, 75px))}.lido-cylinder{width:var(--width);height:var(--height);border-radius:100% / 80px;background:radial-gradient(50% 40px at 50% 40px, #0003 99.99%, #0000 0),      radial-gradient(50% 40px at 50% calc(100% - 40px), #fff3 99.99%, #0000 0),      red}";const Re=class{constructor(i){t(this,i),this.id="lido-slide-fill",this.padding="",this.borderRadius="0px",this.numberType="integer",this.min=0,this.division=5,this.max=10,this.type="",this.onEntry="",this.svgContent="",this.delayVisible="",this.disableSpeak=!1,this.originalHeight=null,this.originalY=null}async componentWillLoad(){await this.renderSVG(),this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}async onSrcChange(){await this.renderSVG(),this.onPropChange()}async renderSVG(){const t=await fetch(l(this.src));if(t.ok){let i=await t.text(),e=0;i=i.replace(/<path([^>]*)>/g,((t,i)=>(e++,`<path id="${1===e?"glassPath":2===e?"rulerPath":`path${e}`}"${i}>`))),i=i.replace(/<svg([^>]*)>/,'<svg$1>\n          \n        <clipPath id="clipGlass">\n          <use xlink:href="#glassPath" />\n        </clipPath>\n      \n        '),i=i.replace(/<rect([^>]*)\/?>/,'<rect id="fillArea" $1 clip-path="url(#clipGlass)" />'),this.svgContent=i}}componentDidLoad(){a(this.el,this.delayVisible),h(this.el,this.type),this.updateFill(),this.addRulerNumbers()}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:c(this.height,t),width:c(this.width,t),backgroundColor:c(this.bgColor,t),top:c(this.y,t),left:c(this.x,t),zIndex:this.z,display:c(`${this.visible}`,t)?"flex":"none",alignItems:"center",justifyContent:"center",margin:c(this.margin,t),padding:c(this.padding,t),borderRadius:this.borderRadius}}onPropChange(){this.updateFill(),this.addRulerNumbers()}updateFill(){var t;const i=null===(t=this.el.querySelector(".svg-element"))||void 0===t?void 0:t.querySelector("svg");if(!i)return;const e=i.querySelector("#fillArea");if(!e)return;const n=this.fillDirection;let r,o;"vertical"===this.fillDirection?(null!==this.originalHeight&&null!==this.originalY||(this.originalHeight=+e.getAttribute("height")||100,this.originalY=+e.getAttribute("y")||0),r=this.originalHeight,o=this.originalY):(null!==this.originalHeight&&null!==this.originalY||(this.originalHeight=+e.getAttribute("width")||100,this.originalY=+e.getAttribute("x")||0),r=this.originalHeight,o=this.originalY);const s=r,a=o;let h=0;if("string"==typeof this.fill){const t=this.fill.match(/^(\d+(?:\.\d+)?)%$/);if(t)h=Math.min(Math.max(parseFloat(t[1])/100,0),1);else{const t=this.fill.match(/^(\d+(?:\.\d+)?)$/);t&&(h=Math.min(Math.max(parseFloat(t[1])/100,0),1))}}const l=s*h,c="vertical"===n?a+(s-l):a;"vertical"===n?(e.setAttribute("height",l.toString()),e.setAttribute("y",c.toString())):(e.setAttribute("width",l.toString()),e.setAttribute("x","0"))}addRulerNumbers(){var t;const i=null===(t=this.el.querySelector(".svg-element"))||void 0===t?void 0:t.querySelector("svg");if(!i)return;const e=i.querySelector("#rulerPath");if(!e)return;i.querySelectorAll(".ruler-number").forEach((t=>t.remove()));const n=this.division,r=n+1,o=e.getTotalLength(),s=(this.max-this.min)/n;for(let t=0;t<r;t++){let r=0;"vertical"===this.fillDirection?r=this.max-t*s:"horizontal"===this.fillDirection&&(r=this.min+t*s);const a=e.getPointAtLength(o/n*t),h=document.createElementNS("http://www.w3.org/2000/svg","text"),l=Y(r/this.max);r="integer"===this.numberType?Math.round(r):"decimal"===this.numberType?parseFloat(r.toFixed(1)):l.toFraction(!0),h.classList.add("ruler-number"),h.setAttribute("x",a.x.toString()),h.setAttribute("y",(a.y+15).toString()),h.setAttribute("text-anchor","end"),h.setAttribute("font-size","40"),h.setAttribute("fill","#333"),h.textContent=r.toString(),i.appendChild(h)}}render(){return e(n,{key:"9addda03d3a509cb0b23e88c59ad22c64dcd0044",id:this.id,class:"lido-slide-fill",src:this.src,fill:this.fill,fillDirection:this.fillDirection,slider:this.slider,style:this.style,min:this.min,max:this.max,division:this.division,numberType:this.numberType,onEntry:this.onEntry,type:this.type,"disable-speak":this.disableSpeak},e("div",{key:"e0d62ba6795bf0ac28e9e6b7dee5df04c2015ed5",innerHTML:this.svgContent,class:"svg-element"}))}get el(){return r(this)}static get watchers(){return{src:[{onSrcChange:0}],fill:[{onPropChange:0}],division:[{onPropChange:0}],fillDirection:[{onPropChange:0}],numberType:[{onPropChange:0}],min:[{onPropChange:0}],max:[{onPropChange:0}]}}};Re.style=".svg-element,svg{width:100%;height:100%}";const Ne=class{constructor(i){t(this,i),this.showSpeakIcon=!1,this.id="",this.value="",this.string="",this.fontFamily="",this.fontSize="20px",this.fontColor="",this.highlightWhileSpeaking=!1,this.height="auto",this.width="auto",this.ariaLabel="",this.ariaHidden="",this.x="0px",this.y="0px",this.z="0",this.bgColor="",this.borderImage="",this.type="",this.tabIndex=0,this.visible=!1,this.audio="",this.onTouch="",this.onInCorrect="",this.onCorrect="",this.minDrops=1,this.maxDrops=1,this.onEntry="",this.margin="",this.padding="",this.borderRadius="0px",this.spanType="",this.style={},this.delayVisible="",this.disableSpeak=!1}componentDidLoad(){if(a(this.el,this.delayVisible),h(this.el,this.type),"words"!==this.spanType&&"letters"!==this.spanType||this.addSpanToText(),this.showSpeakIcon&&v(this.el),!this.audio||""===this.audio.trim()){const t=()=>{const t=this.resolveAutoAudio();t&&(this.audio=t,console.log("[LidoText] Auto audio applied:",t))};window.__LIDO_COMMON_AUDIO_PATH__?t():window.addEventListener(q,t,{once:!0})}}resolveAutoAudio(){const t=window[W];if(!t||!this.string)return null;const i=this.string;return console.log(i,"filename"),`${t}/${i}.mp3`}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const t=this.borderImage?l(this.borderImage):"",i=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:c(this.height,i),width:c(this.width,i),backgroundColor:c(this.bgColor,i),top:c(this.y,i),left:c(this.x,i),zIndex:this.z,fontSize:c(this.fontSize,i),fontFamily:this.fontFamily,color:c(this.fontColor,i),display:"true"===c(`${this.visible}`,i)?"flex":"none",borderImage:`url(${t})`,borderImageSlice:t?"0 fill":"",margin:c(this.margin,i),padding:c(this.padding,i),borderRadius:c(this.borderRadius,i)}}async addSpanToText(){const t=this.el.querySelector(".lido-text-content");if(!t)return;const i=t.textContent||"";t.innerHTML="","letters"===this.spanType&&i.split("").forEach((i=>{if(""===i.trim())return;const e=document.createElement("span");e.textContent=i,e.className="text-letters",t.appendChild(e)})),"words"===this.spanType&&i.split(" ").forEach((i=>{const e=document.createElement("span");e.textContent=i,e.className="text-words",t.appendChild(e)}))}render(){return e(n,{key:"7b3c230890775e489b3d2bc2abca683078211377",class:"lido-text",value:this.value,type:this.type,"tab-index":this.tabIndex,audio:this.audio,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,minDrops:this.minDrops,maxDrops:this.maxDrops,id:this.id,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,"span-type":this.spanType,"disable-speak":this.disableSpeak},""!==this.spanType?e("div",{class:"lido-text-content"}," ",Jt.t(this.string)):Jt.t(this.string))}get el(){return r(this)}};Ne.style=".lido-text{transition:background-color 0.3s ease;user-select:none;align-items:center;justify-content:center;text-align:center;border-radius:24px;color:#333;cursor:pointer;font-family:'Baloo Bhai 2', serif}.text-letters{transition:color 0.3s, text-shadow 0.3s;display:inline-block;padding:0 2px}.text-letters.letter-highlight{color:#8e24aa;background:none;border-radius:0;text-shadow:0 2px 8px #8e24aa88;animation:text-letter-bounce 0.4s}.text-words{transition:color 0.3s, text-shadow 0.3s;display:inline-block;padding:0 2px}.text-words.word-highlight{color:#8e24aa;background:none;border-radius:0;text-shadow:0 2px 8px #8e24aa88;animation:text-word-bounce 0.4s}@keyframes text-letter-bounce{0%{transform:scale(1)}60%{transform:scale(1.4)}100%{transform:scale(1)}}@keyframes text-word-bounce{0%{transform:scale(1)}60%{transform:scale(1.3)}100%{transform:scale(1)}}";const Be=class{constructor(i){t(this,i),this.showSpeakIcon=!1,this.id="",this.svgSource="",this.svgUrls=[],this.audioUrls=[],this.currentSvgIndex=0,this.moving=!1,this.value="",this.height="auto",this.width="auto",this.audio="",this.x="0px",this.y="0px",this.z="0",this.ariaLabel="",this.ariaHidden="",this.tabIndex=0,this.mode=K.ShowFlow,this.fingerHintUrl="https://aeakbcdznktpsbrfsgys.supabase.co/storage/v1/object/public/template-assets/trace/Tracing-hand.svg",this.highlightTextId="",this.animationTrace=!1,this.delayVisible="",this.disableSpeak=!1,this.style={},this.fileIndex=-1,this.isDragging=!1,this.activePointerId=null,this.freeTraceUpdateCounter=0,this.idleTimer=null,this.fingerImg=null}async initializeSVG(){let t={fileIndex:-1,currentPathIndex:0,lastLength:0,totalPathLength:0,isDragging:!1,circle:null,paths:[],svg:null,proximityThreshold:375,freeTraceProximityThreshold:350,rafId:null,pointerMoveEvent:null,activePointerId:null,mode:this.mode,flowMarkers:[],freeTraceLines:[],currentFreePath:[],lastPointerPos:null};const i=this.svgUrls[this.currentSvgIndex];console.log("Loading SVG from URL:",i),i&&""!==i.trim()?(await this.fetchSVG(l(i)),console.log("SVG fetched successfully\n"),await this.loadAnotherSVG(t,!0)):console.error("No SVG URL provided or index out of bounds.")}componentDidLoad(){a(this.el,this.delayVisible)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this)),this.svgUrls=this.svgSource.split(";").map((t=>t.trim())),console.log("svgUrls",this.svgUrls),this.currentSvgIndex=0,console.log("curentSvgIndex",this.currentSvgIndex),this.showSpeakIcon&&(G(this.el),this.el.append(G(this.el))),this.initializeSVG()}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}resetIdleTimer(t){null!==this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.idleTimer=window.setTimeout((()=>{this.showFingerHint(t)}),3e3)}showFingerHint(t){var i;if(this.fingerImg)return;const e=t.paths[t.currentPathIndex];if(!e)return;const n=document.createElementNS("http://www.w3.org/2000/svg","image"),r=new Image;r.onload=()=>{n.setAttributeNS("http://www.w3.org/1999/xlink","href",l(this.fingerHintUrl))},r.onerror=()=>{n.setAttributeNS("http://www.w3.org/1999/xlink","href",l(J))},r.src=l(this.fingerHintUrl||J),n.setAttribute("width","40"),n.setAttribute("height","40"),n.setAttribute("id","lido-finger-hint"),n.style.pointerEvents="none",n.style.opacity="0.8",n.setAttribute("x","0"),n.setAttribute("y","0");const o=document.createElementNS("http://www.w3.org/2000/svg","animateMotion");o.setAttribute("dur","2s"),o.setAttribute("repeatCount","indefinite");const s=document.createElementNS("http://www.w3.org/2000/svg","mpath");s.setAttributeNS("http://www.w3.org/1999/xlink","href",`#${e.id}`),o.appendChild(s),n.appendChild(o),null===(i=t.svg)||void 0===i||i.appendChild(n),this.fingerImg=n}hideFingerHint(){this.fingerImg&&this.fingerImg.parentNode&&this.fingerImg.parentNode.removeChild(this.fingerImg),this.fingerImg=null}async fetchSVG(t){console.log(`Fetching SVG from: ${t}`);const i=await fetch(t);if(!i.ok)throw new Error(`Failed to fetch SVG (${t}): ${i.statusText}`);return await i.text()}calculateBoundingBox(t,i=22){let e=1/0,n=1/0,r=-1/0,o=-1/0;return t.forEach((t=>{const i=t.getTotalLength();for(let s=0;s<=100;s++){const a=t.getPointAtLength(s/100*i);a.x<e&&(e=a.x),a.y<n&&(n=a.y),a.x>r&&(r=a.x),a.y>o&&(o=a.y)}})),e-=i,n-=i,r+=i,o+=i,{minX:e,minY:n,maxX:r,maxY:o}}insertSVG(t){const i=document.getElementById("lido-svgContainer");if(!i)return;i.innerHTML=t;const e=i.querySelector("svg");e.removeAttribute("width"),e.removeAttribute("height");const n=e.querySelectorAll("path, line"),r=this.calculateBoundingBox(Array.from(n));e.setAttribute("viewBox",`${r.minX} ${r.minY} ${r.maxX-r.minX} ${r.maxY-r.minY}`)}getSVGElement(){return document.getElementById("lido-svgContainer").querySelector("svg")}getPaths(t){return Array.from(t.querySelectorAll("path, line"))}createFlowMarkersForPath(t){var i;if(!t)return;const e=t.ownerSVGElement;if(!e)return;const n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d",t.getAttribute("d")||""),n.setAttribute("stroke","blue"),n.setAttribute("stroke-width","2"),n.setAttribute("stroke-dasharray","6,6"),n.setAttribute("fill","none"),n.setAttribute("class","lido-flow-indicator"),null===(i=t.parentNode)||void 0===i||i.appendChild(n);let r=e.querySelector("defs#lido-flow-defs");r||(r=document.createElementNS("http://www.w3.org/2000/svg","defs"),r.setAttribute("id","lido-flow-defs"),e.insertBefore(r,e.firstChild));const o=`arrow-${Math.random().toString(36)}`,s=document.createElementNS("http://www.w3.org/2000/svg","marker");s.setAttribute("id",o),s.setAttribute("markerWidth","10"),s.setAttribute("markerHeight","10"),s.setAttribute("refX","5"),s.setAttribute("refY","5"),s.setAttribute("orient","auto"),s.setAttribute("markerUnits","strokeWidth");const a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d","M0,0 L10,5 L0,10 L2,5 Z"),a.setAttribute("fill","blue"),s.appendChild(a),r.appendChild(s),n.setAttribute("marker-end",`url(#${o})`),n}updateFlowIndicators(t){t.svg.querySelectorAll(".lido-flow-indicator").forEach((i=>{t.mode===K.NoFlow?i.style.display="none":t.mode===K.ShowFlow&&(i.style.display="block")}))}setupDrawingPath(t){t.paths.forEach(((i,e)=>{const n=i.getTotalLength();i.setAttribute("id","lido-path-"+e);const r=i.cloneNode();r.style.opacity="100",r.style["stroke-opacity"]="100";const o=i.style["stroke-width"]||i.getAttribute("stroke-width");r.setAttribute("stroke-width",o),r.setAttribute("stroke-dasharray",n.toString()),r.setAttribute("stroke-dashoffset",n.toString()),i.parentNode.appendChild(r,i),i.setAttribute("class","lido-trace-path"),r.setAttribute("class","lido-trace-path-green"),i.greenPath=r,i.classList.add(t.mode),t.mode===K.BlindTracing||t.mode===K.BlindFreeTrace?i.setAttribute("stroke","none"):(i.setAttribute("stroke","#000"),i.setAttribute("stroke-width",o),i.setAttribute("fill","none"),i.setAttribute("stroke-dasharray",n.toString()),i.setAttribute("stroke-dashoffset","0")),e===t.currentPathIndex&&t.mode===K.ShowFlow&&(t.flowMarkers=this.createFlowMarkersForPath(i))})),t.totalPathLength=t.paths[t.currentPathIndex].getTotalLength()}setupDraggableCircle(t){var i;const e=t.paths[0].getPointAtLength(0),n=document.createElementNS("http://www.w3.org/2000/svg","circle");t.paths[t.currentPathIndex].style["stroke-width"]||t.paths[t.currentPathIndex].getAttribute("stroke-width"),n.setAttribute("id","lido-draggableCircle"),n.setAttribute("cx",e.x.toString()),n.setAttribute("cy",e.y.toString()),n.setAttribute("r","calc(20)"),n.setAttribute("fill","#CF1565"),null===(i=t.svg)||void 0===i||i.appendChild(n),t.circle=n,this.resetIdleTimer(t)}addEventListeners(t){var i,e,n,r;if(!t.circle||!t.paths||0===t.paths.length)return;t.circle.addEventListener("pointerdown",(i=>{i.preventDefault();const e=this.getPointerPosition(i,t.svg),n={x:parseFloat(t.circle.getAttribute("cx")),y:parseFloat(t.circle.getAttribute("cy"))};this.getDistanceSquared(e,n)<=t.proximityThreshold*t.proximityThreshold&&(t.isDragging=!0,t.activePointerId=i.pointerId,t.circle.setPointerCapture(i.pointerId)),this.hideFingerHint(),this.resetIdleTimer(t)})),null===(i=t.svg)||void 0===i||i.addEventListener("pointermove",(i=>{t.isDragging&&i.pointerId===t.activePointerId&&(t.pointerMoveEvent=i,t.rafId||(t.rafId=requestAnimationFrame((()=>{this.handlePointerMove(t),t.rafId=null}))))}));const o=i=>{i.pointerId===t.activePointerId&&(t.isDragging=!1,t.activePointerId=null,this.hideFingerHint(),this.resetIdleTimer(t))};null===(e=t.svg)||void 0===e||e.addEventListener("pointerup",o),null===(n=t.svg)||void 0===n||n.addEventListener("pointercancel",o),null===(r=t.svg)||void 0===r||r.addEventListener("contextmenu",(t=>{t.preventDefault()}))}async handlePointerMove(t){var i,e,n,r,o,s;if(!t.isDragging)return;if(!t.circle||!t.paths||0===t.paths.length)return;this.hideFingerHint();const a=this.getPointerPosition(t.pointerMoveEvent,t.svg),h={x:parseFloat(t.circle.getAttribute("cx")),y:parseFloat(t.circle.getAttribute("cy"))};if(t.lastPointerPos){const i=a.x-t.lastPointerPos.x,e=a.y-t.lastPointerPos.y;if(i*i+e*e<1)return}const l=t.paths[t.currentPathIndex];if(!l)return void console.error("No valid path found at the current index");let c;if(c=t.mode===K.FreeTrace||t.mode===K.BlindFreeTrace?t.freeTraceProximityThreshold*t.freeTraceProximityThreshold:t.proximityThreshold*t.proximityThreshold,this.getDistanceSquared(a,h)>c)return;const u=this.getClosestPointOnPath(l,a);if(!(this.getDistanceSquared(a,u)>c)){if(t.mode===K.FreeTrace||t.mode===K.BlindFreeTrace){if(this.freeTraceUpdateCounter=(this.freeTraceUpdateCounter||0)+1,this.freeTraceUpdateCounter%2!=0)return;if(t.currentFreePath||(t.currentFreePath=[]),!t.currentFreePath[t.currentPathIndex]){const e=document.createElementNS("http://www.w3.org/2000/svg","polyline"),n=t.paths[t.currentPathIndex].style["stroke-width"]||t.paths[t.currentPathIndex].getAttribute("stroke-width");e.setAttribute("stroke-width",n),e.setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke","lightgreen"),e.setAttribute("points",`${a.x},${a.y}`),null===(i=t.svg)||void 0===i||i.appendChild(e),t.currentFreePath[t.currentPathIndex]=e,t.currentFreePolylinePoints=t.currentFreePolylinePoints||[],t.currentFreePolylinePoints[t.currentPathIndex]=[{x:a.x,y:a.y}],t.lastPointerPos=a,t.freeTracePointsCount=1}const r=10;if(t.freeTracePointsCount=(t.freeTracePointsCount||1)+1,t.freeTracePointsCount>r)return;t.currentFreePolylinePoints=t.currentFreePolylinePoints||[];let o=t.currentFreePolylinePoints[t.currentPathIndex]||[];o.push({x:a.x,y:a.y}),t.currentFreePolylinePoints[t.currentPathIndex]=o;const s=o.map((t=>`${t.x},${t.y}`)).join(" ");t.currentFreePath[t.currentPathIndex].setAttribute("points",s),t.circle.setAttribute("cx",a.x.toString()),t.circle.setAttribute("cy",a.y.toString());const h=null===(e=t.svg)||void 0===e?void 0:e.childNodes;let l=!1;for(let t=0;t<((null==h?void 0:h.length)||0);t++){const i=null==h?void 0:h.item(t);if(i&&"circle"===i.tagName){l=!0;break}}return!l&&t.circle&&(null===(n=t.svg)||void 0===n||n.appendChild(t.circle)),t.lastPointerPos=a,void(o.length>=r&&(this.moveToNextPath(t),t.currentFreePath[t.currentPathIndex]=null,t.currentFreePolylinePoints[t.currentPathIndex]=[],t.freeTracePointsCount=0))}if(t.isDragging&&u.length>=t.lastLength){t.lastLength=u.length,(Math.abs(u.x-h.x)>1||Math.abs(u.y-h.y)>1)&&(t.circle.setAttribute("cx",u.x.toString()),t.circle.setAttribute("cy",u.y.toString()));const i=null===(r=t.svg)||void 0===r?void 0:r.childNodes;let e=!1;for(let t=0;t<((null==i?void 0:i.length)||0);t++){const n=null==i?void 0:i.item(t);if(n&&"circle"===n.tagName){e=!0;break}}!e&&t.circle&&(null===(o=t.svg)||void 0===o||o.appendChild(t.circle)),null===(s=l.greenPath)||void 0===s||s.setAttribute("stroke-dashoffset",(t.totalPathLength-t.lastLength).toString());const n=.95;let a=t.lastLength/t.totalPathLength,c=l.getPointAtLength(0),d=l.getPointAtLength(l.getTotalLength());this.getDistanceSquared(c,d)<200&&t.totalPathLength>50?a>=n&&(await this.animatePathToEnd(t,l),t.currentPathIndex<t.paths.length-1?this.moveToNextPath(t):t.currentPathIndex===t.paths.length-1&&this.moveToNextContainer()):t.totalPathLength-1-t.lastLength<5&&t.currentPathIndex<t.paths.length-1?this.moveToNextPath(t):t.totalPathLength-1-t.lastLength<5&&t.currentPathIndex===t.paths.length-1&&this.moveToNextContainer()}}}animatePathToEnd(t,i,e=300){if(!i||!t.svg)return Promise.resolve();if(t._animatingToEnd)return Promise.resolve();t._animatingToEnd=!0;const n=t.lastLength||0,r=i.getTotalLength(),o=performance.now(),s=i.greenPath||i.parentNode&&i.parentNode.querySelector(".lido-trace-path-green");return new Promise((a=>{const h=l=>{const c=Math.min(1,(l-o)/e),u=n+(r-n)*c;t.lastLength=u;const d=i.getPointAtLength(u);if(t.circle&&(t.circle.setAttribute("cx",d.x.toString()),t.circle.setAttribute("cy",d.y.toString())),s&&s.setAttribute("stroke-dashoffset",(t.totalPathLength-u).toString()),c<1)requestAnimationFrame(h);else{if(t.lastLength=r,t.circle){const e=i.getPointAtLength(r);t.circle.setAttribute("cx",e.x.toString()),t.circle.setAttribute("cy",e.y.toString())}s&&s.setAttribute("stroke-dashoffset","0"),t._animatingToEnd=!1,a()}};requestAnimationFrame(h)}))}async moveToNextContainer(){if(this.isDragging=!1,!this.moving){if(this.moving=!0,this.highlightTextId&&this.highlightLetter(this.currentSvgIndex),this.animationTrace&&await this.playTraceAnimation(),d(!0),console.log(`Moving to next container after SVG index: ${this.currentSvgIndex}`),this.currentSvgIndex<this.svgUrls.length-1)return await new Promise((t=>setTimeout(t,1e3))),this.currentSvgIndex++,await this.initializeSVG(),document.getElementById("lido-svgContainer").style.visibility="visible",void(this.moving=!1);console.log("onCorrect:",this.onCorrect),console.log("el :",this.el),this.el&&this.onCorrect&&await f(this.onCorrect,this.el),p(),console.log("All SVGs completed, hiding component."),R()}}getPointerPosition(t,i){var e;const n=i.createSVGPoint();n.x=t.clientX,n.y=t.clientY;const r=null===(e=i.getScreenCTM())||void 0===e?void 0:e.inverse();return r?n.matrixTransform(r):{x:t.clientX,y:t.clientY}}getDistanceSquared(t,i){const e=t.x-i.x,n=t.y-i.y;return e*e+n*n}getClosestPointOnPath(t,i){const e=t.getTotalLength();let n={x:0,y:0,length:0},r=1/0,o={length:0},s=1/0;for(let n=0;n<=e;n+=40){const e=t.getPointAtLength(n),r=this.getDistanceSquared(i,e);r<s&&(s=r,o={x:e.x,y:e.y,length:n})}const a=Math.max(o.length-40,0),h=Math.min(o.length+40,e);for(let e=a;e<=h;e+=6){const o=t.getPointAtLength(e),s=this.getDistanceSquared(i,o);s<r&&(r=s,n={x:o.x,y:o.y,length:e})}return n}async loadAnotherSVG(t,i){t.isDragging=!1;try{t.svg&&this.cleanupPreviousSVG(t);const i=await this.fetchSVG(l(this.svgSource.split(";").map((t=>t.trim()))[this.currentSvgIndex]));this.insertSVG(i),t.svg=this.getSVGElement(),this.mode!==K.BlindTracing&&this.mode!==K.BlindFreeTrace||t.svg.querySelectorAll("image").forEach((t=>{t.style.display="none"})),t.paths=this.getPaths(t.svg),this.setupDrawingPath(t),this.setupDraggableCircle(t),this.addEventListeners(t)}catch(t){console.error(`Error loading SVG (${this.svgSource}):`,t)}}cleanupPreviousSVG(t){var i,e;t.circle&&(null===(i=t.svg)||void 0===i||i.removeChild(t.circle),t.circle=null),(null===(e=t.svg)||void 0===e?void 0:e.querySelectorAll(".lido-flow-indicator")).forEach((t=>{t.remove()})),t.currentPathIndex=0,t.lastLength=0,t.totalPathLength=t.paths[0].getTotalLength(),this.hideFingerHint(),this.resetIdleTimer(t)}async moveToNextPath(t){var i,e;if(t.isDragging=!1,t.currentPathIndex++,t.lastLength=0,this.hideFingerHint(),t.currentPathIndex>=t.paths.length)return void this.moveToNextContainer();const n=t.paths[t.currentPathIndex];if(!n)return void console.error("No valid path found at the next index");t.totalPathLength=n.getTotalLength();const r=n.getPointAtLength(0);null===(i=t.circle)||void 0===i||i.setAttribute("cx",r.x.toString()),null===(e=t.circle)||void 0===e||e.setAttribute("cy",r.y.toString()),t.mode===K.ShowFlow&&(t.flowMarkers=this.createFlowMarkersForPath(n)),this.resetIdleTimer(t)}async playTraceAnimation(){const t=document.getElementById(this.id);t&&(t.classList.add("trace-animate"),await new Promise((t=>setTimeout(t,500))),t.classList.remove("trace-animate"))}async highlightLetter(t){if(!document.getElementById(D))return;const i=this.el;if(!i)return;const e=this.highlightTextId;if(!e)return;const n=document.getElementById(e);if(!n)return;const r=this.audio;if(!r)return;this.audioUrls=r.split(";").map((t=>t.trim())),console.log("audioUrls",this.audioUrls);const o=n.getAttribute("span-type");if(!o)return;const s=n.querySelector(".lido-text-content");if(s){if("letters"===o){const e=s.querySelectorAll(".text-letters");if(t<0||t>=e.length)return;const r=e[t];if(r){const t=i.querySelector("#lido-svgContainer");if(await f("this.alignMatch='true';",n,t),t.style.animation="trace-animation 0.4s forwards",t.style.setProperty("--trace-width",r.offsetWidth-5+"px"),t.style.setProperty("--trace-height",r.offsetHeight-5+"px"),await f("this.alignMatch='true';",r,t),setTimeout((()=>{r.classList.add("letter-highlight"),t.style.transform="",t.style.animation="",t.style.visibility="hidden"}),500),this.audioUrls[this.currentSvgIndex]){console.log("Playing audio:",this.audioUrls[this.currentSvgIndex]);const t=new Audio(l(this.audioUrls[this.currentSvgIndex]));await t.play()}}}if("words"===o){const i=s.querySelectorAll(".text-words");if(t<0||t>=i.length)return;const e=i[t];if(e&&(e.classList.add("word-highlight"),this.audioUrls[this.currentSvgIndex])){const t=new Audio(l(this.audioUrls[this.currentSvgIndex]));await t.play()}}}}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:c(this.height,t),width:c(this.width,t),top:c(this.y,t),left:c(this.x,t),zIndex:this.z}}render(){return e(n,{key:"b3efc3effa7fbfdb85af80103e2c04689bdd4ef7",class:"lido-trace",id:this.id,audio:this.audio,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,tabindex:this.tabIndex,"disable-speak":this.disableSpeak},e("div",{key:"b5a5ac42a3417441940de75cd4e2dfdbe1dc7c47",style:this.style,id:"lido-svgContainer"}))}static get assetsDirs(){return["svg","images"]}get el(){return r(this)}static get watchers(){return{svgSource:[{initializeSVG:0}],mode:[{initializeSVG:0}]}}};Be.style=":host{display:block;position:relative}#lido-svgContainer{display:flex;justify-content:center;align-items:center;overflow:hidden}svg{width:100%;height:100%;touch-action:none}#lido-draggableCircle{cursor:pointer;fill:#CF1565;transition:fill 0.2s, r 0.2s}.lido-blindTracing{stroke:none !important}.lido-blindFreeTrace{stroke:none !important}.lido-hovered{cursor:grab;fill:darkred}#lido-controls{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-between;padding:10px;background-color:#f0f0f0;border-top:1px solid #ccc}button{padding:10px;font-size:16px}@media (max-width: 600px){button{padding:8px;font-size:14px}}.lido-trace-path-green{}.lido-flow-indicator{stroke:blue;stroke-width:2;stroke-dasharray:6, 6;fill:none}.lido-trace{height:700px;width:700px;z-index:1;justify-items:center;align-content:center}.trace-animate{animation:trace-bounce 0.5s}@keyframes trace-bounce{0%{transform:scale(1)}30%{transform:scale(1.05)}60%{transform:scale(0.95)}100%{transform:scale(1)}}";const He=class{constructor(i){t(this,i),this.showSpeakIcon=!1,this.minDrops=1,this.maxDrops=1,this.margin="",this.disableSpeak=!1}componentDidLoad(){h(this.el,this.type),m(this.el,this.minLength,this.maxLength,this.childElementsLength),"true"===this.flex&&(this.el.classList.remove("lido-wrap"),this.el.classList.add("lido-flex")),this.showSpeakIcon&&v(this.el)}componentWillLoad(){this.updateStyles(),window.addEventListener("resize",this.updateStyles.bind(this)),window.addEventListener("load",this.updateStyles.bind(this))}disconnectedCallback(){window.removeEventListener("resize",this.updateStyles.bind(this)),window.removeEventListener("load",this.updateStyles.bind(this))}updateStyles(){const t=window.innerHeight>window.innerWidth?"portrait":"landscape";this.style={height:c(this.height,t),width:c(this.width,t),backgroundColor:c(this.bgColor,t),top:c(this.y,t),left:c(this.x,t),zIndex:this.z,display:JSON.parse(c(`${this.visible}`,t))?"true"===this.flex?"flex":"grid":"none",margin:c(this.margin,t)}}render(){return e(n,{key:"2ac7204f5d41605322ba9545ac3689bdd5f49bcd",class:"lido-wrap",value:this.value,type:this.type,"tab-index":this.tabIndex,style:this.style,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,audio:this.audio,minDrops:this.minDrops,maxDrops:this.maxDrops,onTouch:this.onTouch,onCorrect:this.onCorrect,onInCorrect:this.onInCorrect,onEntry:this.onEntry,disableSpeak:this.disableSpeak},e("slot",{key:"06a0dcfa475467e094d93e986c63c4cfc9974ac8"}))}get el(){return r(this)}};He.style=".lido-wrap{display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fill, minmax(186px, auto))}.lido-wrap>*{padding:10px;background-color:var(--child-bg-color, #f0f0f0);box-sizing:border-box}.lido-flex{display:flex;flex-wrap:wrap;align-content:flex-start;gap:10px}";export{et as lido_avatar,nt as lido_balance,rt as lido_calculator,ot as lido_canvas,st as lido_cell,at as lido_col,bi as lido_container,wi as lido_flash_card,yi as lido_float,xi as lido_home,Ee as lido_image,Pe as lido_keyboard,Te as lido_math_matrix,We as lido_pos,De as lido_random,Le as lido_root,ze as lido_row,Fe as lido_shape,Re as lido_slide_fill,Ne as lido_text,Be as lido_trace,He as lido_wrap}