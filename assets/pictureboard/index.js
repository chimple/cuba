window.__require=function t(e,o,n){function i(r,a){if(!o[r]){if(!e[r]){var u=r.split("/");if(u=u[u.length-1],!e[u]){var l="function"==typeof __require&&__require;if(!a&&l)return l(u,!0);if(c)return c(u,!0);throw new Error("Cannot find module '"+r+"'")}r=u}var p=o[r]={exports:{}};e[r][0].call(p.exports,function(t){return i(e[r][1][t]||t)},p,p.exports,t,e,o,n)}return o[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({pictureDrag:[function(t,e,o){"use strict";cc._RF.push(e,"a00fesqYxJBhYtbcmvTKakU","pictureDrag");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../common/scripts/drag"),a=cc._decorator,u=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.touchStartAnimation=function(){t.prototype.touchStartAnimation.call(this),this.node.zIndex=1,this.node.children[0].y=-15,this.node.x+=5},e.prototype.touchEndAnimation=function(){t.prototype.touchEndAnimation.call(this),this.node.children[0].y=-10,this.node.x-=5,this.node.zIndex=0},e.prototype.onTouchEnd=function(e){if(t.prototype.onTouchEnd.call(this,e),this.match)this.node.children[0].active=!1,this.node.emit("pictureMatch",this);else{var o=this.node.children[1],n=this.node.convertToWorldSpaceAR(cc.Vec2.ZERO),i=this.node.getPosition(),c=!1;n.x+o.width>cc.winSize.width?(i.x-=n.x+o.width-cc.winSize.width,c=!0):n.x<0&&(i.x-=n.x,c=!0),n.y+o.height>cc.winSize.height?(i.y-=n.y+o.height-cc.winSize.height,c=!0):n.y<0&&(i.y-=n.y,c=!0),c&&(new cc.Tween).target(this.node).to(.25,{position:i},{progress:null,easing:"sineOut"}).start(),this.node.emit("pictureNoMatch",this)}},c([u],e)}(r.default));o.default=l,cc._RF.pop()},{"../../../common/scripts/drag":void 0}],pictureDrop:[function(t,e,o){"use strict";cc._RF.push(e,"3db01KzXg9KFaQNUFIwPDP9","pictureDrop");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../common/scripts/drop"),a=cc._decorator,u=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),c([u],e)}(r.default));o.default=l,cc._RF.pop()},{"../../../common/scripts/drop":void 0}],pictureboard:[function(t,e,o){"use strict";cc._RF.push(e,"c2044giomlA94nwjPf3kUlG","pictureboard");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,r=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,o,r):i(e,o))||r);return c>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../common/scripts/drag"),a=t("../../../common/scripts/util"),u=t("../../../common/scripts/lib/config"),l=t("../../../common/scripts/game"),p=cc._decorator,s=p.ccclass,d=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pictureDrag=null,e.pictureDrop=null,e.truck=null,e.label=null,e.truckInAudio=null,e.truckOutAudio=null,e.numPieces=0,e.text=null,e.audio=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this,e=u.default.getInstance();cc.director.getCollisionManager().enabled=!0,r.default.letDrag=!1;var o=e.data[0],n=(o[0],o[1],o[2],o[3]),i=o[4],c=o[5],l=(o[6],o[7]);this.text=n,this.numPieces=parseInt(c),a.Util.loadTexture(i,function(e){null!=e&&(t.bg.spriteFrame=new cc.SpriteFrame(e),t.bg.node.position=new cc.Vec2(t.bg.node.x-t.bg.node.width/2,t.bg.node.y-t.bg.node.height))}),a.Util.loadGameSound(l,function(e){t.audio=e});for(var p=null,s=null,d=function(o){var n=e.data[0][8+4*o],i=e.data[0][9+4*o],c=e.data[0][10+4*o],l=cc.instantiate(h.pictureDrag);l.name=o.toString(),l.position=new cc.Vec2(parseInt(i)/3,parseInt(c)/3),u.default.i.direction===u.Direction.RTL&&(l.getComponent(r.default).isReverseXNeeded=!0),l.on("pictureMatch",h.onMatch.bind(h)),l.on("pictureNoMatch",function(){t.node.emit("wrong")}),h.bg.node.addChild(l),a.Util.loadTexture(n,function(n){if(null!=n){var u=l.children[1],d=new cc.SpriteFrame(n);u.getComponent(cc.Sprite).spriteFrame=d;var h=l.children[0];h.getComponent(cc.Sprite).spriteFrame=d,h.active=!1,l.height=u.height,l.width=u.width,(new cc.Tween).target(l).delay(4).call(function(){h.active=!0}).to(.5,{position:new cc.Vec2(Math.random()*(802+(cc.winSize.width-802)/2)-(cc.winSize.width-802)/2,Math.random()*(432-cc.winSize.height)/4+(432-cc.winSize.height)/4)},{progress:null,easing:"backOut"}).call(function(){l.getComponent(r.default).allowDrag=!0,o+1==e.data.length&&(r.default.letDrag=!0,a.Util.showHelp(p,s))}).start();var f=cc.instantiate(t.pictureDrop);f.name=o.toString(),f.position=new cc.Vec2(parseInt(i)/3,parseInt(c)/3),f.height=l.height,f.width=l.width,t.bg.node.addChild(f),1==o&&(p=l,s=f)}})},h=this,f=0;f<this.numPieces;f++)d(f);var g=this.truck.x;u.default.i.direction===u.Direction.RTL?(this.truck.scaleX=-1,(new cc.Tween).target(this.truck).set({x:-cc.winSize.width}).call(function(){a.Util.playSfx(t.truckInAudio)}).to(3,{x:-g},{progress:null,easing:"quadOut"}).call(function(){t.truck.getComponent(cc.Animation).stop()}).start()):(new cc.Tween).target(this.truck).set({x:cc.winSize.width}).call(function(){a.Util.playSfx(t.truckInAudio)}).to(3,{x:g},{progress:null,easing:"quadOut"}).call(function(){t.truck.getComponent(cc.Animation).stop()}).start()},e.prototype.onMatch=function(){var t=this;this.node.emit("correct"),--this.numPieces<=0&&(r.default.letDrag=!1,this.scheduleOnce(function(){t.label.string=t.text,u.default.i.direction===u.Direction.RTL&&(t.label.node.scaleX=-1),a.Util.speakClip(t.audio,function(){t.truck.getComponent(cc.Animation).play(),u.default.i.direction===u.Direction.RTL?(new cc.Tween).target(t.truck).call(function(){a.Util.playSfx(t.truckOutAudio)}).to(3,{x:2*cc.winSize.width},{progress:null,easing:"quadOut"}).call(function(){t.node.emit("nextProblem")}).start():(new cc.Tween).target(t.truck).call(function(){a.Util.playSfx(t.truckOutAudio)}).to(3,{x:2*-cc.winSize.width},{progress:null,easing:"quadOut"}).call(function(){t.node.emit("nextProblem")}).start()})},1))},c([d(cc.Prefab)],e.prototype,"pictureDrag",void 0),c([d(cc.Prefab)],e.prototype,"pictureDrop",void 0),c([d(cc.Sprite)],e.prototype,"bg",void 0),c([d(cc.Node)],e.prototype,"truck",void 0),c([d(cc.Label)],e.prototype,"label",void 0),c([d(cc.AudioClip)],e.prototype,"truckInAudio",void 0),c([d(cc.AudioClip)],e.prototype,"truckOutAudio",void 0),c([s],e)}(l.default);o.default=h,cc._RF.pop()},{"../../../common/scripts/drag":void 0,"../../../common/scripts/game":void 0,"../../../common/scripts/lib/config":void 0,"../../../common/scripts/util":void 0}]},{},["pictureDrag","pictureDrop","pictureboard"]);