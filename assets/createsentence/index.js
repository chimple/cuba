window.__require=function t(e,o,n){function r(i,a){if(!o[i]){if(!e[i]){var s=i.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var p=o[i]={exports:{}};e[i][0].call(p.exports,function(t){return r(e[i][1][t]||t)},p,p.exports,t,e,o,n)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<n.length;i++)r(n[i]);return r}({createsentence:[function(t,e,o){"use strict";cc._RF.push(e,"0d522qsfkdF0ZDB0HxoAs0Y","createsentence");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../common/scripts/drag"),a=t("../../../common/scripts/game"),s=t("../../../common/scripts/lib/config"),l=t("../../../common/scripts/lib/error-handler"),p=t("../../../common/scripts/util"),u=t("./sentencemakerDrag"),d=cc._decorator,h=d.ccclass,f=d.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.truck=null,e.picture=null,e.answer=null,e.choices=null,e.dropPrefab=null,e.dragPrefab=null,e.soundClip=null,e.numAnswers=0,e.isRTL=!1,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.isRTL=s.default.i.direction==s.Direction.RTL,cc.director.getCollisionManager().enabled=!0,i.default.letDrag=!1;var e=s.default.getInstance().data[0],o=(e[0],e[1],e[2],e[3]),n=e[4],r=e[5],c=e[6];p.Util.loadGameSound(c,function(e){null!=e&&(t.friend.extraClip=e)});var a=this.picture.node.width,l=this.picture.node.height;p.Util.loadTexture(r,function(e){t.picture.spriteFrame=new cc.SpriteFrame(e);var o=t.picture.spriteFrame.getOriginalSize(),n=a/o.width,r=l/o.height,c=Math.min(n,r);t.picture.node.width=c*o.width,t.picture.node.height=c*o.height}),this.onFinishTruckMoveTo=-cc.winSize.width;var d=o.split("/");this.isRTL&&(d.reverse(),this.onFinishTruckMoveTo=2*cc.winSize.width,this.truck.scaleX=-1),this.numAnswers=d.length,d.forEach(function(e){var o=cc.instantiate(t.dropPrefab);o.name=e,t.answer.addChild(o)}),n.length>0&&d.push(n),p.Util.shuffle(d);var h=0;d.forEach(function(e){var o=cc.instantiate(t.dragPrefab);if(o.name=e,t.isRTL){var n=new cc.Node;n.name="shouldFlip",o.addChild(n)}o.on("sentencemakerMatch",t.onMatch.bind(t)),o.on("sentencemakerNoMatch",function(){t.node.emit("wrong")});var r=o.getComponent(u.default);o.getComponent(u.default).allowDrag=!1,null!=r&&(r.label.string=e);var c=new cc.Node;c.name=e,c.addChild(o),t.choices.addChild(c),h+=.5,(new cc.Tween).target(o).set({y:-300}).delay(h).to(.5,{y:0},{progress:null,easing:"cubicIn"}).start()});var f=this.truck.x;(new cc.Tween).target(this.truck).set({x:cc.winSize.width*(this.isRTL?-1:1)}).to(3,{x:f+(this.isRTL?1e3:0)},{progress:null,easing:"quadOut"}).call(function(){t.truck.getComponent(cc.Animation).stop(),i.default.letDrag=!0;var e=t.answer.children[0],o=t.choices.getChildByName(e.name);null!=o&&o.childrenCount>0&&p.Util.showHelp(o.children[0],e),t.choices.children.forEach(function(t){t.children[0].getComponent(u.default).allowDrag=!0})}).start()},e.prototype.onMatch=function(){var t=this;this.node.emit("correct"),--this.numAnswers<=0&&(this.node.pauseSystemEvents(!0),i.default.letDrag=!1,this.scheduleOnce(function(){t.friend.speakExtra(function(){t.truck.getComponent(cc.Animation).play(),(new cc.Tween).target(t.truck).to(3,{x:t.onFinishTruckMoveTo},{progress:null,easing:"quadOut"}).call(function(){t.node.emit("nextProblem")}).start()})},2))},c([f(cc.Node)],e.prototype,"truck",void 0),c([f(cc.Sprite)],e.prototype,"picture",void 0),c([f(cc.Node)],e.prototype,"answer",void 0),c([f(cc.Node)],e.prototype,"choices",void 0),c([f(cc.Prefab)],e.prototype,"dropPrefab",void 0),c([f(cc.Prefab)],e.prototype,"dragPrefab",void 0),c([l.default()],e.prototype,"onLoad",null),c([h],e)}(a.default);o.default=m,cc._RF.pop()},{"../../../common/scripts/drag":void 0,"../../../common/scripts/game":void 0,"../../../common/scripts/lib/config":void 0,"../../../common/scripts/lib/error-handler":void 0,"../../../common/scripts/util":void 0,"./sentencemakerDrag":"sentencemakerDrag"}],sentencemakerDrag:[function(t,e,o){"use strict";cc._RF.push(e,"926b5QAJK1Dw5gQWQQqe12B","sentencemakerDrag");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../common/scripts/drag"),a=cc._decorator,s=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onTouchEnd=function(e){t.prototype.onTouchEnd.call(this,e),this.match?this.node.emit("sentencemakerMatch",this):this.node.emit("sentencemakerNoMatch")},c([s],e)}(i.default));o.default=l,cc._RF.pop()},{"../../../common/scripts/drag":void 0}],sentencemakerDrop:[function(t,e,o){"use strict";cc._RF.push(e,"d3189irwaJD6bjDTJkHGYD7","sentencemakerDrop");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../common/scripts/drop"),a=cc._decorator,s=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.origWidth=0,e}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.origWidth=this.node.width},e.prototype.onCollisionEnter=function(e,o){t.prototype.onCollisionEnter.call(this,e,o),this.allowDrop&&(this.node.width=e.node.width)},e.prototype.onCollisionExit=function(e,o){t.prototype.onCollisionExit.call(this,e,o),this.allowDrop&&(this.node.width=this.origWidth)},c([s],e)}(i.default));o.default=l,cc._RF.pop()},{"../../../common/scripts/drop":void 0}]},{},["createsentence","sentencemakerDrag","sentencemakerDrop"]);