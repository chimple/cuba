window.__require=function t(o,e,n){function r(c,a){if(!e[c]){if(!o[c]){var s=c.split("/");if(s=s[s.length-1],!o[s]){var p="function"==typeof __require&&__require;if(!a&&p)return p(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var l=e[c]={exports:{}};o[c][0].call(l.exports,function(t){return r(o[c][1][t]||t)},l,l.exports,t,o,e,n)}return e[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({dragHay:[function(t,o,e){"use strict";cc._RF.push(o,"8a597rLBD5LBIbjLgK7InkY","dragHay");var n,r=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),i=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var c=t("../../../common/scripts/drag"),a=t("./dropCow"),s=t("../../../common/scripts/util"),p=t("../../../common/scripts/lessonController"),l=cc._decorator,u=l.ccclass,d=l.property,h=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.correctClip=null,o.richTextNode=null,o._text=null,o._soundName=null,o._soundClip=null,o}return r(o,t),Object.defineProperty(o.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this.richTextNode.string=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"soundName",{get:function(){return this._soundName},set:function(t){var o=this;this._soundName=t,s.Util.loadGameSound(this._soundName,function(t){o._soundClip=t})},enumerable:!1,configurable:!0}),o.prototype.onTouchStart=function(o){t.prototype.onTouchStart.call(this,o),null!=this._soundClip&&p.default.getFriend().speak(this._soundClip)},o.prototype.onTouchEnd=function(o){t.prototype.onTouchEnd.call(this,o),this.match?null!=this._soundClip&&p.default.getFriend().speak(this._soundClip):this.node.emit("dragHayWrong")},o.prototype.onMatchOver=function(){var o=this;(new cc.Tween).target(this.node).to(.5,{scale:.1},null).hide().call(function(){o.matchingNode.getComponent(a.default).eat(),o.node.emit("dragHayDone"),t.prototype.onMatchOver.call(o)}).start()},i([d(cc.AudioClip)],o.prototype,"correctClip",void 0),i([d(cc.RichText)],o.prototype,"richTextNode",void 0),i([u],o)}(c.default);e.default=h,cc._RF.pop()},{"../../../common/scripts/drag":void 0,"../../../common/scripts/lessonController":void 0,"../../../common/scripts/util":void 0,"./dropCow":"dropCow"}],dropCow:[function(t,o,e){"use strict";cc._RF.push(o,"697e97AkHRJfoQYDbZSpuBf","dropCow");var n,r=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),i=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var c=t("../../../common/scripts/drop"),a=t("../../../common/scripts/util"),s=cc._decorator,p=s.ccclass,l=s.property,u=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.animation=null,o._soundName=null,o._soundClip=null,o}return r(o,t),Object.defineProperty(o.prototype,"soundName",{get:function(){return this._soundName},set:function(t){var o=this;this._soundName=t,a.Util.loadGameSound(this._soundName,function(t){o._soundClip=t})},enumerable:!1,configurable:!0}),o.prototype.onLoad=function(){var o=this;t.prototype.onLoad.call(this),this.node.on("touchstart",function(){o.playSound()},this)},o.prototype.onCollisionEnter=function(o,e){t.prototype.onCollisionEnter.call(this,o,e),this.match&&this.playSound()},o.prototype.beHappy=function(){var t=this.node.getChildByName("cat_pink_ske");if(null!=t){var o=t.getComponent(dragonBones.ArmatureDisplay).armature().animation;o.stop(),o.play("happy",1)}},o.prototype.eat=function(){this.match=!1;var t=this.node.getChildByName("cat_pink_ske");if(null!=t){var o=t.getComponent(dragonBones.ArmatureDisplay).armature().animation;o.stop(),o.play("eating",1)}},o.prototype.playSound=function(){var t=this.node.getChildByName("cat_pink_ske");if(null!=t){var o=t.getComponent(dragonBones.ArmatureDisplay).armature().animation;o.stop(),o.play("talk",1)}null!=this._soundClip&&a.Util.play(this._soundClip,!1)},i([l(cc.Node)],o.prototype,"animation",void 0),i([p],o)}(c.default);e.default=u,cc._RF.pop()},{"../../../common/scripts/drop":void 0,"../../../common/scripts/util":void 0}],speakingpet:[function(t,o,e){"use strict";cc._RF.push(o,"4b702LThMdKXbrAvIxS4uxl","speakingpet");var n,r=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),i=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var c=t("../../../common/scripts/lib/config"),a=t("./dropCow"),s=t("./dragHay"),p=t("../../../common/scripts/drag"),l=t("../../../common/scripts/util"),u=t("../../../common/scripts/lib/error-handler"),d=t("../../../common/scripts/game"),h=cc._decorator,f=h.ccclass,y=h.property,m=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.hay1=null,o.hay2=null,o.hay3=null,o.hay4=null,o.cow1=null,o.cow2=null,o._numHays=4,o}return r(o,t),o.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,p.default.letDrag=!1;var t=this.cow1.getPosition(),o=this.cow2.getPosition();this.cow1.position=cc.v2(t.x-1e3,t.y),this.cow2.position=cc.v2(o.x+1e3,o.y);var e=c.default.getInstance().data[0],n=(e[0],e[1],e[2],e[3]),r=e[4],i=e[5],s=e[6],u=e[7],d=e[8],h=e[9],f=e[10],y=e[11],m=e[12],_=e[13],g=e[14],v=e[15],w=e[16],C=e[17],b=e[18],O=e[19],j=e[20];this.cow1.getComponent(a.default).soundName=n,this.cow1.name="A",this.cow2.getComponent(a.default).soundName=r,this.cow2.name="B";var N=[this.hay1,this.hay2,this.hay3,this.hay4];l.Util.shuffle(N),this._makeHay(N[0],i,s,u,d),this._makeHay(N[1],h,f,y,m),this._makeHay(N[2],_,g,v,w),this._makeHay(N[3],C,b,O,j),this._moveCows(!0)},o.prototype._moveCows=function(t){var o=this,e=this.cow1.getPosition(),n=this.cow2.getPosition();t?(e.x+=1e3,n.x-=1e3):(e.x-=1e3,n.x+=1e3),(new cc.Tween).target(this.cow1).to(.5,{position:e},null).call(function(){t&&o.cow1.getComponent(a.default).playSound()}).delay(1).call(function(){(new cc.Tween).target(o.cow2).to(.5,{position:n},null).call(function(){t&&(o.cow2.getComponent(a.default).playSound(),o.scheduleOnce(function(){p.default.letDrag=!0,l.Util.showHelp(o.hay1,o.cow1.name==o.hay1.name?o.cow1:o.cow2)},.5))}).start()}).start()},o.prototype._makeHay=function(t,o,e,n,r){var i=this,c=t.getComponent(s.default);c.soundName=e,t.name=n,t.on("dragHayDone",this._dragDone,this),t.on("dragHayWrong",function(){i.node.emit("wrong")});var a=r.split(","),p=parseInt(a[0]),l=parseInt(a[a.length-1]),u=(new GraphemeSplitter).splitGraphemes(o),d=u.slice(0,p-1).join(""),h=u.slice(l).join(""),f=u.slice(p-1,l).join("");c.text=d+"<color=#DCC994>"+f+"</color>"+h},o.prototype._dragDone=function(){var t=this;this.node.emit("correct"),--this._numHays<=0&&(this.cow1.getComponent(a.default).beHappy(),this.cow2.getComponent(a.default).beHappy(),this.scheduleOnce(function(){t._moveCows(!1)},2),this.scheduleOnce(function(){t.node.emit("nextProblem")},4))},i([y(cc.Node)],o.prototype,"hay1",void 0),i([y(cc.Node)],o.prototype,"hay2",void 0),i([y(cc.Node)],o.prototype,"hay3",void 0),i([y(cc.Node)],o.prototype,"hay4",void 0),i([y(cc.Node)],o.prototype,"cow1",void 0),i([y(cc.Node)],o.prototype,"cow2",void 0),i([u.default()],o.prototype,"onLoad",null),i([u.default()],o.prototype,"_dragDone",null),i([f],o)}(d.default);e.default=m,cc._RF.pop()},{"../../../common/scripts/drag":void 0,"../../../common/scripts/game":void 0,"../../../common/scripts/lib/config":void 0,"../../../common/scripts/lib/error-handler":void 0,"../../../common/scripts/util":void 0,"./dragHay":"dragHay","./dropCow":"dropCow"}]},{},["dragHay","dropCow","speakingpet"]);