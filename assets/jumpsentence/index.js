window.__require=function t(e,o,i){function n(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return n(e[a][1][t]||t)},p,p.exports,t,e,o,i)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({BridgeBuilder:[function(t,e,o){"use strict";cc._RF.push(e,"564342jP1ZJRJCTnRdZqqhf","BridgeBuilder");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./jumpsentence"),c=t("./emptyBox"),s=t("../../../common/scripts/util"),l=t("../../../common/scripts/lib/error-handler"),p=cc._decorator,h=p.ccclass,d=p.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.layout=null,e.filledPrefab=null,e.boxPrefab=null,e.capsulePrefab=null,e.emptyBoxPrefab=null,e.emptyCapsulePrefab=null,e.answerIndices=new Set,e.sentence="",e.boxWidth=0,e.positions=[],e.nodeUuid=[],e.firstDrag=null,e.firstDrop=null,e.firstDragData="",e.isCharacterSet=!1,e.count=0,e}return n(e,t),e.prototype.Build=function(t){this.resetMembers();var e=new GraphemeSplitter;this.positions=e.splitGraphemes(t);for(var o=!0,i=0;i<this.positions.length;i++){var n=this.positions[i];"["!=n?"]"!=n?"@"!=n&&(o||(this.answerIndices.add(i),this.count++)):o=!0:o=!1}this.isCharacterSet||(this.isCharacterSet=!0,this.node.getComponent(a.default).SetCharacters(this.answerIndices.size)),this.buildBridge()},e.prototype.resetMembers=function(){this.answerIndices.clear(),this.multiLineStartIndex=0,this.sentence="",this.boxWidth=0,this.positions=null,this.firstDrag=null,this.firstDrop=null,this.firstDragData=""},e.prototype.buildBridge=function(){this.layout.node.width=cc.winSize.width-200;for(var t="",e=0;e<this.positions.length;e++){var o=this.positions[e];if("["!=o&&"]"!=o&&"@"!=o)if(this.answerIndices.has(e))if(this.isSpecialCharacter(o)){var i=cc.instantiate(this.emptyCapsulePrefab);this.layout.node.insertChild(i,e),i.getComponent(c.default).myCharacter=o,i.getComponent(c.default).characterIndex=e,this.nodeUuid.push(i.uuid),this.initializeFirstDrop(i,e)}else{var n=cc.instantiate(this.emptyBoxPrefab);this.layout.node.insertChild(n,e),n.getComponent(c.default).myCharacter=o,n.getComponent(c.default).characterIndex=e,this.nodeUuid.push(n.uuid),this.initializeFirstDrop(n,e)}else if(e+1==this.positions.length||"["==this.positions[e+1]||"@"==this.positions[e+1]){t+=o,this.boxWidth+=30;var r=cc.instantiate(this.filledPrefab);this.layout.node.insertChild(r,e),this.nodeUuid.push(r.uuid),r.getChildByName("Label").getComponent(cc.Label).string=t,t=""}else t+=o,this.boxWidth+=30}},e.prototype.joinBridge=function(t,e){cc.log("first ",t);var o,i,n=this.nodeUuid.indexOf(t.uuid);if(i=n==this.nodeUuid.length-1?new cc.Node:this.layout.node.getChildByUuid(this.nodeUuid[n+1]),o=0==n?new cc.Node:this.layout.node.getChildByUuid(this.nodeUuid[n-1]),cc.log(" count  ",this.count),--this.count<5&&(cc.log("reduce bridge manual"),this.layout.node.width-=120,this.layout.updateLayout()),o.getChildByName("Label")&&i.getChildByName("Label")){var r=o.getChildByName("Label").getComponent(cc.Label).string+e+i.getChildByName("Label").getComponent(cc.Label).string,a=this.bridgeUnit(r),c=o.getSiblingIndex();o.removeFromParent(!0),i.removeFromParent(!0),t.removeFromParent(!0),this.layout.node.insertChild(a,c),this.nodeUuid.splice(n,2),this.nodeUuid[n-1]=a.uuid}else if(o.getChildByName("Label")&&!i.getChildByName("Label"))o.getChildByName("Label").getComponent(cc.Label).string+=e,t.removeFromParent(!0),this.nodeUuid.splice(n,1);else if(!o.getChildByName("Label")&&i.getChildByName("Label")){cc.log("no left ");var s=i.getChildByName("Label").getComponent(cc.Label);s.string=e+s.string,t.removeFromParent(!0),this.nodeUuid.splice(n,1)}else cc.log("Middle single cell "),c=t.getSiblingIndex(),a=this.bridgeUnit(e),t.removeFromParent(!0),this.layout.node.insertChild(a,c),this.nodeUuid[n]=a.uuid},e.prototype.bridgeUnit=function(t){var e=cc.instantiate(this.filledPrefab);return e.getChildByName("Label").getComponent(cc.Label).string=t,e.getComponent(cc.Layout).paddingLeft+=20,e.getComponent(cc.Layout).paddingRight+=20,e},e.prototype.initializeFirstDrop=function(t,e){null==this.firstDrop&&(this.firstDrop=t,this.firstDragData=this.positions[e])},e.prototype.createChoiceBoxes=function(){var t=this,e=[];this.answerIndices.forEach(function(o){-1==e.indexOf(t.positions[o])&&e.push(t.positions[o])});var o,i,n=90*(o=s.Util.shuffle(e)).length+10*(o.length-1);i=n<1024?n/2-45:467;for(var r=0,a=0;r<o.length;r++){var c=o[r],l=this.isSpecialCharacter(c)?cc.instantiate(this.capsulePrefab):cc.instantiate(this.boxPrefab);c==this.firstDragData&&(this.firstDrag=l),l.getChildByName("Label").getComponent(cc.Label).string=c,l.parent=this.node;var p=100*r;p<1024?(cc.log("left "+p),l.position=cc.v2(p-i,-200)):(p=100*a++,l.position=cc.v2(p-i,-310))}cc.log(this.firstDrop+" check "+this.firstDrag)},e.prototype.isSpecialCharacter=function(t){return" "==t||"!"==t||"?"==t||","==t||"."==t},e.prototype.start=function(){var t=this,e=0;this.layout.node.children.forEach(function(t){cc.log("check "+t.name+t.width),"Capsule Empty"!=t.name&&"Box Empty"!=t.name||(e+=t.width+5)}),(e+=this.boxWidth)<cc.winSize.width-360&&(this.firstDrop=null,this.layout.type=cc.Layout.Type.HORIZONTAL,this.layout.resizeMode=cc.Layout.ResizeMode.CONTAINER,this.layout.updateLayout(),this.layout.node.children.forEach(function(o){"Capsule Empty"!=o.name&&"Box Empty"!=o.name||(e+=o.width+5,null==t.firstDrop&&(cc.log("came inside "),t.firstDrop=o)),cc.log("name "+o.name)})),null!=this.firstDrag&&this.showHelp(this.firstDrag)},e.prototype.showHelp=function(t){var e=this;this.scheduleOnce(function(){s.Util.showHelp(t,e.firstDrop)},1)},r([d(cc.Layout)],e.prototype,"layout",void 0),r([d(cc.Prefab)],e.prototype,"filledPrefab",void 0),r([d(cc.Prefab)],e.prototype,"boxPrefab",void 0),r([d(cc.Prefab)],e.prototype,"capsulePrefab",void 0),r([d(cc.Prefab)],e.prototype,"emptyBoxPrefab",void 0),r([d(cc.Prefab)],e.prototype,"emptyCapsulePrefab",void 0),r([l.catchError()],e.prototype,"Build",null),r([l.catchError()],e.prototype,"resetMembers",null),r([l.catchError()],e.prototype,"buildBridge",null),r([l.catchError()],e.prototype,"joinBridge",null),r([l.catchError()],e.prototype,"bridgeUnit",null),r([l.catchError()],e.prototype,"initializeFirstDrop",null),r([l.catchError()],e.prototype,"createChoiceBoxes",null),r([l.catchError()],e.prototype,"isSpecialCharacter",null),r([l.catchError()],e.prototype,"start",null),r([l.catchError()],e.prototype,"showHelp",null),r([h],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../common/scripts/lib/error-handler":void 0,"../../../common/scripts/util":void 0,"./emptyBox":"emptyBox","./jumpsentence":"jumpsentence"}],emptyBox:[function(t,e,o){"use strict";cc._RF.push(e,"87d68E75UVIcpIkjrJbYFtl","emptyBox");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../common/scripts/lib/error-handler"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelPrefab=null,e.myCharacter="",e.characterIndex=-1,e}return n(e,t),e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,this.isDone=!1},r([l(cc.Prefab)],e.prototype,"labelPrefab",void 0),r([a.catchError()],e.prototype,"onLoad",null),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../common/scripts/lib/error-handler":void 0}],jumpsentence:[function(t,e,o){"use strict";cc._RF.push(e,"30cddqvwJFCyrWv25GpOdqo","jumpsentence");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../common/scripts/lib/config"),c=t("./BridgeBuilder"),s=t("../../../common/scripts/util"),l=t("./keyboardAlphabets"),p=t("../../../common/scripts/lib/error-handler"),h=t("../../../common/scripts/game"),d=cc._decorator,u=d.ccclass,g=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundClip=null,e._isRTL=!1,e.caseButtonNode=null,e.lockedKeyboard=null,e.unlockedKeyboard=null,e.bridgePrefab=null,e.friendPos=null,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){this._isRTL=a.default.i.direction==a.Direction.RTL;var t=a.default.getInstance().data[0];this.callCount=1;var e=t.toString().split(",").map(function(t){return/^\d*\.?\d+$/.test(t)?Number(t):t});this.level=e[0],this.worksheet=e[1],this.problemNo=e[2],this.problem=e[3],this.soundFile=e[4],this.upperCase=e[5],this.keyboardType=e[6],cc.log("sound file "+this.soundFile+"F_arr "+e),o.updatedSentence=this.problem,this.StartGame()},e.prototype.StartGame=function(){this.checkRTLAndChange(),this.node.getComponent(c.default).Build(this.problem),this.ChooseKeyboardType(),this.onClickPlayAudio(),this.placeCharNode()},e.prototype.checkRTLAndChange=function(){this._isRTL&&(this.node.getChildByName("Bridge").x=-100,this.caseButtonNode.x=-426,this.friendPos.scaleX=-.3)},e.prototype.placeCharNode=function(){this.friendPos.x=(cc.winSize.width/2-120)*(this._isRTL?1:-1),this.node.getChildByName("Wooden Log").x=this.friendPos.x},e.prototype.ChooseKeyboardType=function(){"en"==a.default.i.course.lang?"locked"==this.keyboardType?(this.lockedKeyboard.active=!0,this.unlockedKeyboard.active=!1):(this.lockedKeyboard.active=!1,this.unlockedKeyboard.active=!0,"y"==this.upperCase&&this.unlockedKeyboard.getChildByName("Alphabets").getComponent(l.default).onClickSwitchCaseButton()):this.node.getComponent(c.default).createChoiceBoxes()},e.prototype.SetCharacters=function(t){this.charactersLeft=t,cc.log("Characters Left "+this.charactersLeft)},e.prototype.decreaseCharacterByOne=function(){var t=this;this.charactersLeft-=1,0==this.charactersLeft&&(this.node.pauseSystemEvents(!0),this.friend.stopAnimation("jumping2"),(new cc.Tween).target(this.friendPos).call(function(){t.friend.playAnimation("jumping2",1)}).to(2,{x:this._isRTL?-50:50},{progress:null,easing:"sineOut"}).delay(.5).call(function(){t.friend.playAnimation("jumping2",1)}).to(2,{x:(cc.winSize.width/2+150)*(this._isRTL?-1:1)},{progress:null,easing:"sineOut"}).start(),this.isGameFinished=!0,this.PlayAudioOnGameEnd())},e.prototype.PlayAudioOnGameEnd=function(){var t=this;cc.log("Playing Audio On Game End"),this.friend.speakExtra(function(){t.scheduleOnce(function(){t.node.emit("nextProblem")},3)})},e.prototype.onClickPlayAudio=function(){var t=this;s.Util.loadGameSound(this.soundFile,function(e){null!=e&&(t.friend.extraClip=e)})},e.prototype.onDestroy=function(){o.updatedSentence=null},e.updatedSentence="",r([g(cc.Node)],e.prototype,"caseButtonNode",void 0),r([g(cc.Node)],e.prototype,"lockedKeyboard",void 0),r([g(cc.Node)],e.prototype,"unlockedKeyboard",void 0),r([g(cc.Prefab)],e.prototype,"bridgePrefab",void 0),r([g(cc.Node)],e.prototype,"friendPos",void 0),r([p.catchError()],e.prototype,"onLoad",null),r([p.catchError()],e.prototype,"StartGame",null),r([p.catchError()],e.prototype,"checkRTLAndChange",null),r([p.catchError()],e.prototype,"placeCharNode",null),r([p.catchError()],e.prototype,"ChooseKeyboardType",null),r([p.catchError()],e.prototype,"SetCharacters",null),r([p.catchError()],e.prototype,"decreaseCharacterByOne",null),r([p.catchError()],e.prototype,"PlayAudioOnGameEnd",null),r([p.catchError()],e.prototype,"onClickPlayAudio",null),r([p.catchError()],e.prototype,"onDestroy",null),o=r([u],e)}(h.default);o.default=f,cc._RF.pop()},{"../../../common/scripts/game":void 0,"../../../common/scripts/lib/config":void 0,"../../../common/scripts/lib/error-handler":void 0,"../../../common/scripts/util":void 0,"./BridgeBuilder":"BridgeBuilder","./keyboardAlphabets":"keyboardAlphabets"}],keyboardAlphabets:[function(t,e,o){"use strict";cc._RF.push(e,"cd9b9bRGx1DPrIQXfAGL8ud","keyboardAlphabets");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./language"),c=t("../../../common/scripts/lib/config"),s=t("./language"),l=t("./language"),p=t("../../../common/scripts/lib/error-handler"),h=cc._decorator,d=h.ccclass,u=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.keys=[],e.language=a.Language.English,e.case=s.Case.Lower,e}return n(e,t),e.prototype.onLoad=function(){switch(c.default.i.course.lang){case"en":this.language=a.Language.English;break;case"ur":this.language=a.Language.Urdu;break;case"hi":this.language=a.Language.Hindi}var t=l.default.GetAlphabets(this.language,this.case);this.keys.forEach(function(e,o){e.string=t[o],e.fontSize=60,e.lineHeight=65,e.font=c.default.i.getTextFont(c.default.i.currentFontName)}),0==this.keys.length&&this.hideKeyboard()},e.prototype.hideKeyboard=function(){this.node.parent.active=!1},e.prototype.onClickSwitchCaseButton=function(){var t=this.node.parent.parent.getChildByName("Case");if(this.case==s.Case.Lower){t.getChildByName("Upper Case").active=!1,t.getChildByName("Lower Case").active=!0,this.case=s.Case.Upper;var e=l.default.GetAlphabets(this.language,this.case);this.keys.forEach(function(t,o){t.string=e[o]})}else if(this.case==s.Case.Upper){t.getChildByName("Lower Case").active=!1,t.getChildByName("Upper Case").active=!0,this.case=s.Case.Lower;var o=l.default.GetAlphabets(this.language,this.case);this.keys.forEach(function(t,e){t.string=o[e]})}},e.prototype.start=function(){},r([u(cc.Label)],e.prototype,"keys",void 0),r([u({type:cc.Enum(a.Language)})],e.prototype,"language",void 0),r([u({type:cc.Enum(s.Case)})],e.prototype,"case",void 0),r([p.catchError()],e.prototype,"onLoad",null),r([p.catchError()],e.prototype,"hideKeyboard",null),r([p.catchError()],e.prototype,"onClickSwitchCaseButton",null),r([d],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../../common/scripts/lib/config":void 0,"../../../common/scripts/lib/error-handler":void 0,"./language":"language"}],keyboardbutton:[function(t,e,o){"use strict";cc._RF.push(e,"f69cfaE/GZDaaJTkALjL45G","keyboardbutton");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./emptyBox"),c=t("./jumpsentence"),s=t("./BridgeBuilder"),l=t("../../../common/scripts/lib/config"),p=t("../../../common/scripts/util"),h=t("../../../common/scripts/lib/error-handler"),d=t("../../../common/scripts/lessonController"),u=t("./keyboardAlphabets"),g=t("./language"),f=cc._decorator,y=f.ccclass,m=f.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._soundClip=null,e.labelPrefab=null,e.fillSprite=null,e.hindiKeyBoard=!1,e}return n(e,t),e.prototype.onLoad=function(){var t=this;cc.director.getCollisionManager().enabled=!0,this.node.on("touchstart",this.onTouchStart,this),this.node.on("touchmove",this.onTouchMove,this),this.node.on("touchend",this.onTouchEnd,this),this.node.on("touchcancel",this.onTouchEnd,this),this.bridgeComp="en"==l.default.i.course.lang?this.node.parent.parent.parent.getComponent(s.default):this.node.parent.getComponent(s.default);var e=this.node.getChildByName("Label").getComponent(cc.Label).string;"en"!=l.default.i.course.lang||e!=this.bridgeComp.firstDragData.toUpperCase()&&e!=this.bridgeComp.firstDragData.toLowerCase()||this.bridgeComp.showHelp(this.node);var o=this.node.getChildByName("Label").getComponent(cc.Label).string,i=new RegExp("[a-z]|[A-Z]");"en"==l.default.i.course.lang&&i.test(o)&&p.Util.loadsLetter(o.toLowerCase(),function(e){t._soundClip=e})},e.prototype.onCollisionStay=function(t,e){cc.log("Colliding with empty box expecting "+t.node.getComponent(a.default).myCharacter+" getting : "+this.node.getChildByName("Label").getComponent(cc.Label).string),this.collidingBox&&t.node.name!=this.collidingBox.name&&this.onCollisionExit(t,e),this.collidingBox=t.node;var o=this.bridgeComp.answerIndices.size-this.bridgeComp.count;this.collidingBox.getComponent(a.default).myCharacter===this.node.getChildByName("Label").getComponent(cc.Label).string&&Array.from(this.bridgeComp.answerIndices.values())[o]===this.collidingBox.getComponent(a.default).characterIndex?(this.collidingBox.getChildByName("Glow Box").opacity=255,this.isProcessing=!0,this.isDone=!1,this.collidingBox=t.node):this.isProcessing=!1},e.prototype.onCollisionExit=function(){this.collidingBox&&(this.collidingBox.getChildByName("Glow Box").opacity=0),this.isProcessing=!1},e.prototype.onTouchStart=function(t){if(0==t.getID()){this.myOriginalLocation=this.node.position,cc.log("Original Location "+this.myOriginalLocation),this.isTouchEnded=!1,this.isProcessing=!1;try{this._soundClip&&d.default.getFriend().speak(this._soundClip)}catch(e){console.log("Failed playing sound")}}},e.prototype.onTouchMove=function(t){0==t.getID()&&(this.node.position=this.node.position.add(t.getDelta()),this.isProcessing&&(cc.log("Empty Box Chr "+this.collidingBox.getComponent(a.default).myCharacter+"label "+this.node.getChildByName("Label").getComponent(cc.Label).string+"!is Done "+!this.isDone),this.collidingBox.getComponent(a.default).myCharacter!==this.node.getChildByName("Label").getComponent(cc.Label).string||this.isDone||("Empty Box"==this.collidingBox.name||"Capsule Empty"==this.collidingBox.name?(cc.log("came active "+this.collidingBox.children[0]),this.collidingBox.getChildByName("Glow Box").opacity=255):this.collidingBox.getChildByName("Glow Box").opacity=0)))},e.prototype.onTouchEnd=function(t){if(0==t.getID())if(this.isProcessing){if(console.log(this.collidingBox.getComponent(a.default).characterIndex," This is myindex "),this.collidingBox.getComponent(a.default).myCharacter===this.node.getChildByName("Label").getComponent(cc.Label).string&&!this.isDone){if(this.isDone=!0,this.bridgeComp.joinBridge(this.collidingBox,this.node.getChildByName("Label").getComponent(cc.Label).string),"en"==l.default.i.course.lang){this.node.parent.parent.parent.emit("correct");var e=this.node.parent.parent.parent.getComponent(c.default).unlockedKeyboard;if(e.active){var o=e.getChildByName("Alphabets").getComponent(u.default),i=this.bridgeComp.answerIndices.size-this.bridgeComp.count,n=Array.from(this.bridgeComp.answerIndices.values())[i];p=this.bridgeComp.positions[n],(/^[A-Z]*$/.test(p)?g.Case.Upper:g.Case.Lower)!==o.case&&o.onClickSwitchCaseButton()}}else this.node.parent.emit("correct");var r=cc.callFunc(this.onBacktoOriginalPlace,this);cc.log("Setting Back to Original Location on Touch End after success");var s=cc.sequence(cc.moveTo(.05,this.myOriginalLocation),r);this.node.runAction(s),this.node.position=this.myOriginalLocation}}else this.isProcessing=!1,cc.log("Setting Back to Original Location on Touch End if not colliding"),this.node.position=this.myOriginalLocation,"en"==l.default.i.course.lang?this.node.parent.parent.parent.emit("wrong"):this.node.parent.emit("wrong");var p},e.prototype.onBacktoOriginalPlace=function(){cc.log("Setting Back Opacity to Opaque"),this.node.opacity=255,this.collidingBox.getComponent(cc.BoxCollider).enabled=!1,this.hindiKeyBoard?(cc.log("came hindi touch end"),this.node.parent.getComponent(c.default).decreaseCharacterByOne()):this.node.getParent().getParent().getParent().getComponent(c.default).decreaseCharacterByOne()},r([m(cc.Prefab)],e.prototype,"labelPrefab",void 0),r([m(cc.SpriteFrame)],e.prototype,"fillSprite",void 0),r([m({type:Boolean})],e.prototype,"hindiKeyBoard",void 0),r([h.catchError()],e.prototype,"onLoad",null),r([h.catchError()],e.prototype,"onCollisionStay",null),r([h.catchError()],e.prototype,"onCollisionExit",null),r([h.catchError()],e.prototype,"onTouchStart",null),r([h.catchError()],e.prototype,"onTouchMove",null),r([h.catchError()],e.prototype,"onTouchEnd",null),r([h.catchError()],e.prototype,"onBacktoOriginalPlace",null),r([y],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../../../common/scripts/lessonController":void 0,"../../../common/scripts/lib/config":void 0,"../../../common/scripts/lib/error-handler":void 0,"../../../common/scripts/util":void 0,"./BridgeBuilder":"BridgeBuilder","./emptyBox":"emptyBox","./jumpsentence":"jumpsentence","./keyboardAlphabets":"keyboardAlphabets","./language":"language"}],language:[function(t,e,o){"use strict";var i,n;cc._RF.push(e,"97503HpiJlAYY3tniA34wcI","language"),Object.defineProperty(o,"__esModule",{value:!0}),o.Case=o.Language=void 0,function(t){t[t.English=0]="English",t[t.Hindi=1]="Hindi",t[t.Urdu=2]="Urdu"}(i=o.Language||(o.Language={})),function(t){t[t.Upper=0]="Upper",t[t.Lower=1]="Lower",t[t.None=2]="None"}(n=o.Case||(o.Case={}));var r=function(){function t(){}return t.GetAlphabets=function(t,e){switch(t){case i.English:return e==n.Upper?this.alphabets.en.upper:this.alphabets.en.lower;case i.Hindi:return this.alphabets.hi;case i.Urdu:return this.alphabets.ur}},t.alphabets={en:{upper:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],lower:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]},ur:{},hi:{}},t}();o.default=r,cc._RF.pop()},{}]},{},["BridgeBuilder","emptyBox","jumpsentence","keyboardAlphabets","keyboardbutton","language"]);